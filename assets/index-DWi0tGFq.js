(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var xR=Object.defineProperty,wR=(e,t,n)=>t in e?xR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P2=(e,t,n)=>wR(e,typeof t!="symbol"?t+"":t,n);function kR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FE={exports:{}},Bg={},LE={exports:{}},on={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qf=Symbol.for("react.element"),SR=Symbol.for("react.portal"),NR=Symbol.for("react.fragment"),jR=Symbol.for("react.strict_mode"),CR=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),AR=Symbol.for("react.context"),PR=Symbol.for("react.forward_ref"),ER=Symbol.for("react.suspense"),TR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),E2=Symbol.iterator;function DR(e){return e===null||typeof e!="object"?null:(e=E2&&e[E2]||e["@@iterator"],typeof e=="function"?e:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$E=Object.assign,BE={};function Wu(e,t,n){this.props=e,this.context=t,this.refs=BE,this.updater=n||RE}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zE(){}zE.prototype=Wu.prototype;function bw(e,t,n){this.props=e,this.context=t,this.refs=BE,this.updater=n||RE}var xw=bw.prototype=new zE;xw.constructor=bw;$E(xw,Wu.prototype);xw.isPureReactComponent=!0;var T2=Array.isArray,UE=Object.prototype.hasOwnProperty,ww={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function WE(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)UE.call(t,r)&&!VE.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Qf,type:e,key:i,ref:o,props:a,_owner:ww.current}}function IR(e,t){return{$$typeof:Qf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qf}function _R(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var O2=/\/+/g;function jy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_R(""+e.key):t.toString(36)}function _m(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qf:case SR:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+jy(o,0):r,T2(a)?(n="",e!=null&&(n=e.replace(O2,"$&/")+"/"),_m(a,t,n,"",function(c){return c})):a!=null&&(kw(a)&&(a=IR(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(O2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",T2(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+jy(i,s);o+=_m(i,t,n,l,a)}else if(l=DR(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+jy(i,s++),o+=_m(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kp(e,t,n){if(e==null)return e;var r=[],a=0;return _m(e,r,"","",function(i){return t.call(n,i,a++)}),r}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Va={current:null},Fm={transition:null},LR={ReactCurrentDispatcher:Va,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:ww};function HE(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:Kp,forEach:function(e,t,n){Kp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kp(e,function(){t++}),t},toArray:function(e){return Kp(e,function(t){return t})||[]},only:function(e){if(!kw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=Wu;on.Fragment=NR;on.Profiler=CR;on.PureComponent=bw;on.StrictMode=jR;on.Suspense=ER;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LR;on.act=HE;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$E({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ww.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)UE.call(t,l)&&!VE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Qf,type:e.type,key:a,ref:i,props:r,_owner:o}};on.createContext=function(e){return e={$$typeof:AR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MR,_context:e},e.Consumer=e};on.createElement=WE;on.createFactory=function(e){var t=WE.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:PR,render:e}};on.isValidElement=kw;on.lazy=function(e){return{$$typeof:OR,_payload:{_status:-1,_result:e},_init:FR}};on.memo=function(e,t){return{$$typeof:TR,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=Fm.transition;Fm.transition={};try{e()}finally{Fm.transition=t}};on.unstable_act=HE;on.useCallback=function(e,t){return Va.current.useCallback(e,t)};on.useContext=function(e){return Va.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return Va.current.useDeferredValue(e)};on.useEffect=function(e,t){return Va.current.useEffect(e,t)};on.useId=function(){return Va.current.useId()};on.useImperativeHandle=function(e,t,n){return Va.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return Va.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return Va.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return Va.current.useMemo(e,t)};on.useReducer=function(e,t,n){return Va.current.useReducer(e,t,n)};on.useRef=function(e){return Va.current.useRef(e)};on.useState=function(e){return Va.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return Va.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return Va.current.useTransition()};on.version="18.3.1";LE.exports=on;var y=LE.exports;const zg=ho(y),RR=kR({__proto__:null,default:zg},[y]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $R=y,BR=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),UR=Object.prototype.hasOwnProperty,VR=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WR={key:!0,ref:!0,__self:!0,__source:!0};function qE(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)UR.call(t,r)&&!WR.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:BR,type:e,key:i,ref:o,props:a,_owner:VR.current}}Bg.Fragment=zR;Bg.jsx=qE;Bg.jsxs=qE;FE.exports=Bg;var u=FE.exports,eb={},KE={exports:{}},Si={},YE={exports:{}},GE={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(I,ee){var w=I.length;I.push(ee);e:for(;0<w;){var $=w-1>>>1,A=I[$];if(0<a(A,ee))I[$]=ee,I[w]=A,w=$;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var ee=I[0],w=I.pop();if(w!==ee){I[0]=w;e:for(var $=0,A=I.length,N=A>>>1;$<N;){var B=2*($+1)-1,K=I[B],U=B+1,W=I[U];if(0>a(K,w))U<A&&0>a(W,K)?(I[$]=W,I[U]=w,$=U):(I[$]=K,I[B]=w,$=B);else if(U<A&&0>a(W,w))I[$]=W,I[U]=w,$=U;else break e}}return ee}function a(I,ee){var w=I.sortIndex-ee.sortIndex;return w!==0?w:I.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(I){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=I)r(c),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(c)}}function S(I){if(v=!1,k(I),!h)if(n(l)!==null)h=!0,he(C);else{var ee=n(c);ee!==null&&Y(S,ee.startTime-I)}}function C(I,ee){h=!1,v&&(v=!1,g(T),T=-1),m=!0;var w=p;try{for(k(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||I&&!_());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var A=$(f.expirationTime<=ee);ee=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(l)&&r(l),k(ee)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var B=n(c);B!==null&&Y(S,B.startTime-ee),N=!1}return N}finally{f=null,p=w,m=!1}}var j=!1,M=null,T=-1,R=5,P=-1;function _(){return!(e.unstable_now()-P<R)}function E(){if(M!==null){var I=e.unstable_now();P=I;var ee=!0;try{ee=M(!0,I)}finally{ee?G():(j=!1,M=null)}}else j=!1}var G;if(typeof b=="function")G=function(){b(E)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=E,G=function(){re.postMessage(null)}}else G=function(){x(E,0)};function he(I){M=I,j||(j=!0,G())}function Y(I,ee){T=x(function(){I(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,he(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var w=p;p=ee;try{return I()}finally{p=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,ee){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var w=p;p=I;try{return ee()}finally{p=w}},e.unstable_scheduleCallback=function(I,ee,w){var $=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?$+w:$):w=$,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=w+A,I={id:d++,callback:ee,priorityLevel:I,startTime:w,expirationTime:A,sortIndex:-1},w>$?(I.sortIndex=w,t(c,I),n(l)===null&&I===n(c)&&(v?(g(T),T=-1):v=!0,Y(S,w-$))):(I.sortIndex=A,t(l,I),h||m||(h=!0,he(C))),I},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(I){var ee=p;return function(){var w=p;p=ee;try{return I.apply(this,arguments)}finally{p=w}}}})(GE);YE.exports=GE;var HR=YE.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qR=y,xi=HR;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XE=new Set,of={};function wc(e,t){Su(e,t),Su(e+"Capture",t)}function Su(e,t){for(of[e]=t,e=0;e<t.length;e++)XE.add(t[e])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tb=Object.prototype.hasOwnProperty,KR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D2={},I2={};function YR(e){return tb.call(I2,e)?!0:tb.call(D2,e)?!1:KR.test(e)?I2[e]=!0:(D2[e]=!0,!1)}function GR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XR(e,t,n,r){if(t===null||typeof t>"u"||GR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wa(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ya={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ya[e]=new Wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ya[t]=new Wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ya[e]=new Wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ya[e]=new Wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ya[e]=new Wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ya[e]=new Wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ya[e]=new Wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ya[e]=new Wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ya[e]=new Wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function Nw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sw,Nw);ya[t]=new Wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sw,Nw);ya[t]=new Wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sw,Nw);ya[t]=new Wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ya[e]=new Wa(e,1,!1,e.toLowerCase(),null,!1,!1)});ya.xlinkHref=new Wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ya[e]=new Wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function jw(e,t,n,r){var a=ya.hasOwnProperty(t)?ya[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XR(t,n,a,r)&&(n=null),r||a===null?YR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ys=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yp=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),Cw=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),ZE=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),ab=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),JE=Symbol.for("react.offscreen"),_2=Symbol.iterator;function dd(e){return e===null||typeof e!="object"?null:(e=_2&&e[_2]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,Cy;function Dd(e){if(Cy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cy=t&&t[1]||""}return`
`+Cy+e}var My=!1;function Ay(e,t){if(!e||My)return"";My=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{My=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dd(e):""}function QR(e){switch(e.tag){case 5:return Dd(e.type);case 16:return Dd("Lazy");case 13:return Dd("Suspense");case 19:return Dd("SuspenseList");case 0:case 2:case 15:return e=Ay(e.type,!1),e;case 11:return e=Ay(e.type.render,!1),e;case 1:return e=Ay(e.type,!0),e;default:return""}}function ib(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xc:return"Fragment";case Gc:return"Portal";case nb:return"Profiler";case Cw:return"StrictMode";case rb:return"Suspense";case ab:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZE:return(e.displayName||"Context")+".Consumer";case QE:return(e._context.displayName||"Context")+".Provider";case Mw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Aw:return t=e.displayName||null,t!==null?t:ib(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return ib(e(t))}catch{}}return null}function ZR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ib(t);case 8:return t===Cw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ol(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JR(e){var t=e5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){e._valueTracker||(e._valueTracker=JR(e))}function t5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=e5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ob(e,t){var n=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ol(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n5(e,t){t=t.checked,t!=null&&jw(e,"checked",t,!1)}function sb(e,t){n5(e,t);var n=ol(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lb(e,t.type,n):t.hasOwnProperty("defaultValue")&&lb(e,t.type,ol(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lb(e,t,n){(t!=="number"||oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Id=Array.isArray;function pu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ol(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function cb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Fe(92));if(Id(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ol(n)}}function r5(e,t){var n=ol(t.value),r=ol(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ub(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xp,i5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e$=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(e){e$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bd[t]=Bd[e]})});function o5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bd.hasOwnProperty(e)&&Bd[e]?(""+t).trim():t+"px"}function s5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=o5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var t$=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function db(e,t){if(t){if(t$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function fb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pb=null;function Pw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mb=null,mu=null,hu=null;function B2(e){if(e=ep(e)){if(typeof mb!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=qg(t),mb(e.stateNode,e.type,t))}}function l5(e){mu?hu?hu.push(e):hu=[e]:mu=e}function c5(){if(mu){var e=mu,t=hu;if(hu=mu=null,B2(e),t)for(e=0;e<t.length;e++)B2(t[e])}}function u5(e,t){return e(t)}function d5(){}var Py=!1;function f5(e,t,n){if(Py)return e(t,n);Py=!0;try{return u5(e,t,n)}finally{Py=!1,(mu!==null||hu!==null)&&(d5(),c5())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var r=qg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Fe(231,t,typeof n));return n}var hb=!1;if(os)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){hb=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{hb=!1}function n$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var zd=!1,sh=null,lh=!1,gb=null,r$={onError:function(e){zd=!0,sh=e}};function a$(e,t,n,r,a,i,o,s,l){zd=!1,sh=null,n$.apply(r$,arguments)}function i$(e,t,n,r,a,i,o,s,l){if(a$.apply(this,arguments),zd){if(zd){var c=sh;zd=!1,sh=null}else throw Error(Fe(198));lh||(lh=!0,gb=c)}}function kc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z2(e){if(kc(e)!==e)throw Error(Fe(188))}function o$(e){var t=e.alternate;if(!t){if(t=kc(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return z2(a),e;if(i===r)return z2(a),t;i=i.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?e:t}function m5(e){return e=o$(e),e!==null?h5(e):null}function h5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h5(e);if(t!==null)return t;e=e.sibling}return null}var g5=xi.unstable_scheduleCallback,U2=xi.unstable_cancelCallback,s$=xi.unstable_shouldYield,l$=xi.unstable_requestPaint,Mr=xi.unstable_now,c$=xi.unstable_getCurrentPriorityLevel,Ew=xi.unstable_ImmediatePriority,y5=xi.unstable_UserBlockingPriority,ch=xi.unstable_NormalPriority,u$=xi.unstable_LowPriority,v5=xi.unstable_IdlePriority,Ug=null,To=null;function d$(e){if(To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(Ug,e,void 0,(e.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:m$,f$=Math.log,p$=Math.LN2;function m$(e){return e>>>=0,e===0?32:31-(f$(e)/p$|0)|0}var Qp=64,Zp=4194304;function _d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=_d(s):(i&=o,i!==0&&(r=_d(i)))}else o=n&~a,o!==0?r=_d(o):i!==0&&(r=_d(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-io(t),a=1<<n,r|=e[n],t&=~a;return r}function h$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-io(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=h$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function yb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b5(){var e=Qp;return Qp<<=1,!(Qp&4194240)&&(Qp=64),e}function Ey(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-io(t),e[t]=n}function y$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-io(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Tw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-io(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var An=0;function x5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w5,Ow,k5,S5,N5,vb=!1,Jp=[],Gs=null,Xs=null,Qs=null,cf=new Map,uf=new Map,Vs=[],v$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V2(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function pd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ep(t),t!==null&&Ow(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function b$(e,t,n,r,a){switch(t){case"focusin":return Gs=pd(Gs,e,t,n,r,a),!0;case"dragenter":return Xs=pd(Xs,e,t,n,r,a),!0;case"mouseover":return Qs=pd(Qs,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return cf.set(i,pd(cf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,uf.set(i,pd(uf.get(i)||null,e,t,n,r,a)),!0}return!1}function j5(e){var t=zl(e.target);if(t!==null){var n=kc(t);if(n!==null){if(t=n.tag,t===13){if(t=p5(n),t!==null){e.blockedOn=t,N5(e.priority,function(){k5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pb=r,n.target.dispatchEvent(r),pb=null}else return t=ep(n),t!==null&&Ow(t),e.blockedOn=n,!1;t.shift()}return!0}function W2(e,t,n){Lm(e)&&n.delete(t)}function x$(){vb=!1,Gs!==null&&Lm(Gs)&&(Gs=null),Xs!==null&&Lm(Xs)&&(Xs=null),Qs!==null&&Lm(Qs)&&(Qs=null),cf.forEach(W2),uf.forEach(W2)}function md(e,t){e.blockedOn===t&&(e.blockedOn=null,vb||(vb=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,x$)))}function df(e){function t(a){return md(a,e)}if(0<Jp.length){md(Jp[0],e);for(var n=1;n<Jp.length;n++){var r=Jp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gs!==null&&md(Gs,e),Xs!==null&&md(Xs,e),Qs!==null&&md(Qs,e),cf.forEach(t),uf.forEach(t),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)j5(n),n.blockedOn===null&&Vs.shift()}var gu=ys.ReactCurrentBatchConfig,dh=!0;function w$(e,t,n,r){var a=An,i=gu.transition;gu.transition=null;try{An=1,Dw(e,t,n,r)}finally{An=a,gu.transition=i}}function k$(e,t,n,r){var a=An,i=gu.transition;gu.transition=null;try{An=4,Dw(e,t,n,r)}finally{An=a,gu.transition=i}}function Dw(e,t,n,r){if(dh){var a=bb(e,t,n,r);if(a===null)By(e,t,r,fh,n),V2(e,r);else if(b$(a,e,t,n,r))r.stopPropagation();else if(V2(e,r),t&4&&-1<v$.indexOf(e)){for(;a!==null;){var i=ep(a);if(i!==null&&w5(i),i=bb(e,t,n,r),i===null&&By(e,t,r,fh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else By(e,t,r,null,n)}}var fh=null;function bb(e,t,n,r){if(fh=null,e=Pw(r),e=zl(e),e!==null)if(t=kc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=p5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fh=e,null}function C5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c$()){case Ew:return 1;case y5:return 4;case ch:case u$:return 16;case v5:return 536870912;default:return 16}default:return 16}}var qs=null,Iw=null,Rm=null;function M5(){if(Rm)return Rm;var e,t=Iw,n=t.length,r,a="value"in qs?qs.value:qs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Rm=a.slice(e,1<r?1-r:void 0)}function $m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function em(){return!0}function H2(){return!1}function Ni(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?em:H2,this.isPropagationStopped=H2,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=em)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=em)},persist:function(){},isPersistent:em}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_w=Ni(Hu),Jf=pr({},Hu,{view:0,detail:0}),S$=Ni(Jf),Ty,Oy,hd,Vg=pr({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Ty=e.screenX-hd.screenX,Oy=e.screenY-hd.screenY):Oy=Ty=0,hd=e),Ty)},movementY:function(e){return"movementY"in e?e.movementY:Oy}}),q2=Ni(Vg),N$=pr({},Vg,{dataTransfer:0}),j$=Ni(N$),C$=pr({},Jf,{relatedTarget:0}),Dy=Ni(C$),M$=pr({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),A$=Ni(M$),P$=pr({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E$=Ni(P$),T$=pr({},Hu,{data:0}),K2=Ni(T$),O$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I$[e])?!!t[e]:!1}function Fw(){return _$}var F$=pr({},Jf,{key:function(e){if(e.key){var t=O$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(e){return e.type==="keypress"?$m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L$=Ni(F$),R$=pr({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y2=Ni(R$),$$=pr({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),B$=Ni($$),z$=pr({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),U$=Ni(z$),V$=pr({},Vg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W$=Ni(V$),H$=[9,13,27,32],Lw=os&&"CompositionEvent"in window,Ud=null;os&&"documentMode"in document&&(Ud=document.documentMode);var q$=os&&"TextEvent"in window&&!Ud,A5=os&&(!Lw||Ud&&8<Ud&&11>=Ud),G2=" ",X2=!1;function P5(e,t){switch(e){case"keyup":return H$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qc=!1;function K$(e,t){switch(e){case"compositionend":return E5(t);case"keypress":return t.which!==32?null:(X2=!0,G2);case"textInput":return e=t.data,e===G2&&X2?null:e;default:return null}}function Y$(e,t){if(Qc)return e==="compositionend"||!Lw&&P5(e,t)?(e=M5(),Rm=Iw=qs=null,Qc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A5&&t.locale!=="ko"?null:t.data;default:return null}}var G$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G$[e.type]:t==="textarea"}function T5(e,t,n,r){l5(r),t=ph(t,"onChange"),0<t.length&&(n=new _w("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vd=null,ff=null;function X$(e){U5(e,0)}function Wg(e){var t=eu(e);if(t5(t))return e}function Q$(e,t){if(e==="change")return t}var O5=!1;if(os){var Iy;if(os){var _y="oninput"in document;if(!_y){var Z2=document.createElement("div");Z2.setAttribute("oninput","return;"),_y=typeof Z2.oninput=="function"}Iy=_y}else Iy=!1;O5=Iy&&(!document.documentMode||9<document.documentMode)}function J2(){Vd&&(Vd.detachEvent("onpropertychange",D5),ff=Vd=null)}function D5(e){if(e.propertyName==="value"&&Wg(ff)){var t=[];T5(t,ff,e,Pw(e)),f5(X$,t)}}function Z$(e,t,n){e==="focusin"?(J2(),Vd=t,ff=n,Vd.attachEvent("onpropertychange",D5)):e==="focusout"&&J2()}function J$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wg(ff)}function eB(e,t){if(e==="click")return Wg(t)}function tB(e,t){if(e==="input"||e==="change")return Wg(t)}function nB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var co=typeof Object.is=="function"?Object.is:nB;function pf(e,t){if(co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!tb.call(t,a)||!co(e[a],t[a]))return!1}return!0}function eN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tN(e,t){var n=eN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eN(n)}}function I5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _5(){for(var e=window,t=oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oh(e.document)}return t}function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rB(e){var t=_5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&I5(n.ownerDocument.documentElement,n)){if(r!==null&&Rw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=tN(n,i);var o=tN(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aB=os&&"documentMode"in document&&11>=document.documentMode,Zc=null,xb=null,Wd=null,wb=!1;function nN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wb||Zc==null||Zc!==oh(r)||(r=Zc,"selectionStart"in r&&Rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wd&&pf(Wd,r)||(Wd=r,r=ph(xb,"onSelect"),0<r.length&&(t=new _w("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zc)))}function tm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jc={animationend:tm("Animation","AnimationEnd"),animationiteration:tm("Animation","AnimationIteration"),animationstart:tm("Animation","AnimationStart"),transitionend:tm("Transition","TransitionEnd")},Fy={},F5={};os&&(F5=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Hg(e){if(Fy[e])return Fy[e];if(!Jc[e])return e;var t=Jc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F5)return Fy[e]=t[n];return e}var L5=Hg("animationend"),R5=Hg("animationiteration"),$5=Hg("animationstart"),B5=Hg("transitionend"),z5=new Map,rN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(e,t){z5.set(e,t),wc(t,[e])}for(var Ly=0;Ly<rN.length;Ly++){var Ry=rN[Ly],iB=Ry.toLowerCase(),oB=Ry[0].toUpperCase()+Ry.slice(1);fl(iB,"on"+oB)}fl(L5,"onAnimationEnd");fl(R5,"onAnimationIteration");fl($5,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(B5,"onTransitionEnd");Su("onMouseEnter",["mouseout","mouseover"]);Su("onMouseLeave",["mouseout","mouseover"]);Su("onPointerEnter",["pointerout","pointerover"]);Su("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function aN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,i$(r,t,void 0,e),e.currentTarget=null}function U5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;aN(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;aN(a,s,c),i=l}}}if(lh)throw e=gb,lh=!1,gb=null,e}function qn(e,t){var n=t[Cb];n===void 0&&(n=t[Cb]=new Set);var r=e+"__bubble";n.has(r)||(V5(t,e,2,!1),n.add(r))}function $y(e,t,n){var r=0;t&&(r|=4),V5(n,e,r,t)}var nm="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[nm]){e[nm]=!0,XE.forEach(function(n){n!=="selectionchange"&&(sB.has(n)||$y(n,!1,e),$y(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nm]||(t[nm]=!0,$y("selectionchange",!1,t))}}function V5(e,t,n,r){switch(C5(t)){case 1:var a=w$;break;case 4:a=k$;break;default:a=Dw}n=a.bind(null,t,n,e),a=void 0,!hb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function By(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=zl(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}f5(function(){var c=i,d=Pw(n),f=[];e:{var p=z5.get(e);if(p!==void 0){var m=_w,h=e;switch(e){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":m=L$;break;case"focusin":h="focus",m=Dy;break;case"focusout":h="blur",m=Dy;break;case"beforeblur":case"afterblur":m=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B$;break;case L5:case R5:case $5:m=A$;break;case B5:m=U$;break;case"scroll":m=S$;break;case"wheel":m=W$;break;case"copy":case"cut":case"paste":m=E$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y2}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var b=c,k;b!==null;){k=b;var S=k.stateNode;if(k.tag===5&&S!==null&&(k=S,g!==null&&(S=lf(b,g),S!=null&&v.push(hf(b,S,k)))),x)break;b=b.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==pb&&(h=n.relatedTarget||n.fromElement)&&(zl(h)||h[ss]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?zl(h):null,h!==null&&(x=kc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(v=q2,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=Y2,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:eu(m),k=h==null?p:eu(h),p=new v(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=k,S=null,zl(d)===c&&(v=new v(g,b+"enter",h,n,d),v.target=k,v.relatedTarget=x,S=v),x=S,m&&h)t:{for(v=m,g=h,b=0,k=v;k;k=Bc(k))b++;for(k=0,S=g;S;S=Bc(S))k++;for(;0<b-k;)v=Bc(v),b--;for(;0<k-b;)g=Bc(g),k--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Bc(v),g=Bc(g)}v=null}else v=null;m!==null&&iN(f,p,m,v,!1),h!==null&&x!==null&&iN(f,x,h,v,!0)}}e:{if(p=c?eu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=Q$;else if(Q2(p))if(O5)C=tB;else{C=J$;var j=Z$}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=eB);if(C&&(C=C(e,c))){T5(f,C,n,d);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&lb(p,"number",p.value)}switch(j=c?eu(c):window,e){case"focusin":(Q2(j)||j.contentEditable==="true")&&(Zc=j,xb=c,Wd=null);break;case"focusout":Wd=xb=Zc=null;break;case"mousedown":wb=!0;break;case"contextmenu":case"mouseup":case"dragend":wb=!1,nN(f,n,d);break;case"selectionchange":if(aB)break;case"keydown":case"keyup":nN(f,n,d)}var M;if(Lw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qc?P5(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(A5&&n.locale!=="ko"&&(Qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qc&&(M=M5()):(qs=d,Iw="value"in qs?qs.value:qs.textContent,Qc=!0)),j=ph(c,T),0<j.length&&(T=new K2(T,e,null,n,d),f.push({event:T,listeners:j}),M?T.data=M:(M=E5(n),M!==null&&(T.data=M)))),(M=q$?K$(e,n):Y$(e,n))&&(c=ph(c,"onBeforeInput"),0<c.length&&(d=new K2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}U5(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ph(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lf(e,n),i!=null&&r.unshift(hf(e,i,a)),i=lf(e,t),i!=null&&r.push(hf(e,i,a))),e=e.return}return r}function Bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iN(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=lf(n,i),l!=null&&o.unshift(hf(n,l,s))):a||(l=lf(n,i),l!=null&&o.push(hf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lB=/\r\n?/g,cB=/\u0000|\uFFFD/g;function oN(e){return(typeof e=="string"?e:""+e).replace(lB,`
`).replace(cB,"")}function rm(e,t,n){if(t=oN(t),oN(e)!==t&&n)throw Error(Fe(425))}function mh(){}var kb=null,Sb=null;function Nb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jb=typeof setTimeout=="function"?setTimeout:void 0,uB=typeof clearTimeout=="function"?clearTimeout:void 0,sN=typeof Promise=="function"?Promise:void 0,dB=typeof queueMicrotask=="function"?queueMicrotask:typeof sN<"u"?function(e){return sN.resolve(null).then(e).catch(fB)}:jb;function fB(e){setTimeout(function(){throw e})}function zy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),df(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);df(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Po="__reactFiber$"+qu,gf="__reactProps$"+qu,ss="__reactContainer$"+qu,Cb="__reactEvents$"+qu,pB="__reactListeners$"+qu,mB="__reactHandles$"+qu;function zl(e){var t=e[Po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ss]||n[Po]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lN(e);e!==null;){if(n=e[Po])return n;e=lN(e)}return t}e=n,n=e.parentNode}return null}function ep(e){return e=e[Po]||e[ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function qg(e){return e[gf]||null}var Mb=[],tu=-1;function pl(e){return{current:e}}function Gn(e){0>tu||(e.current=Mb[tu],Mb[tu]=null,tu--)}function Vn(e,t){tu++,Mb[tu]=e.current,e.current=t}var sl={},Oa=pl(sl),Ja=pl(!1),ic=sl;function Nu(e,t){var n=e.type.contextTypes;if(!n)return sl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ei(e){return e=e.childContextTypes,e!=null}function hh(){Gn(Ja),Gn(Oa)}function cN(e,t,n){if(Oa.current!==sl)throw Error(Fe(168));Vn(Oa,t),Vn(Ja,n)}function W5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Fe(108,ZR(e)||"Unknown",a));return pr({},n,r)}function gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sl,ic=Oa.current,Vn(Oa,e),Vn(Ja,Ja.current),!0}function uN(e,t,n){var r=e.stateNode;if(!r)throw Error(Fe(169));n?(e=W5(e,t,ic),r.__reactInternalMemoizedMergedChildContext=e,Gn(Ja),Gn(Oa),Vn(Oa,e)):Gn(Ja),Vn(Ja,n)}var Ho=null,Kg=!1,Uy=!1;function H5(e){Ho===null?Ho=[e]:Ho.push(e)}function hB(e){Kg=!0,H5(e)}function ml(){if(!Uy&&Ho!==null){Uy=!0;var e=0,t=An;try{var n=Ho;for(An=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ho=null,Kg=!1}catch(a){throw Ho!==null&&(Ho=Ho.slice(e+1)),g5(Ew,ml),a}finally{An=t,Uy=!1}}return null}var nu=[],ru=0,yh=null,vh=0,_i=[],Fi=0,oc=null,Xo=1,Qo="";function Dl(e,t){nu[ru++]=vh,nu[ru++]=yh,yh=e,vh=t}function q5(e,t,n){_i[Fi++]=Xo,_i[Fi++]=Qo,_i[Fi++]=oc,oc=e;var r=Xo;e=Qo;var a=32-io(r)-1;r&=~(1<<a),n+=1;var i=32-io(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xo=1<<32-io(t)+a|n<<a|r,Qo=i+e}else Xo=1<<i|n<<a|r,Qo=e}function $w(e){e.return!==null&&(Dl(e,1),q5(e,1,0))}function Bw(e){for(;e===yh;)yh=nu[--ru],nu[ru]=null,vh=nu[--ru],nu[ru]=null;for(;e===oc;)oc=_i[--Fi],_i[Fi]=null,Qo=_i[--Fi],_i[Fi]=null,Xo=_i[--Fi],_i[Fi]=null}var yi=null,hi=null,rr=!1,to=null;function K5(e,t){var n=Ri(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yi=e,hi=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yi=e,hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oc!==null?{id:Xo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ri(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yi=e,hi=null,!0):!1;default:return!1}}function Ab(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pb(e){if(rr){var t=hi;if(t){var n=t;if(!dN(e,t)){if(Ab(e))throw Error(Fe(418));t=Zs(n.nextSibling);var r=yi;t&&dN(e,t)?K5(r,n):(e.flags=e.flags&-4097|2,rr=!1,yi=e)}}else{if(Ab(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,rr=!1,yi=e}}}function fN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yi=e}function am(e){if(e!==yi)return!1;if(!rr)return fN(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nb(e.type,e.memoizedProps)),t&&(t=hi)){if(Ab(e))throw Y5(),Error(Fe(418));for(;t;)K5(e,t),t=Zs(t.nextSibling)}if(fN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hi=Zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hi=null}}else hi=yi?Zs(e.stateNode.nextSibling):null;return!0}function Y5(){for(var e=hi;e;)e=Zs(e.nextSibling)}function ju(){hi=yi=null,rr=!1}function zw(e){to===null?to=[e]:to.push(e)}var gB=ys.ReactCurrentBatchConfig;function gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,e))}return e}function im(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pN(e){var t=e._init;return t(e._payload)}function G5(e){function t(g,b){if(e){var k=g.deletions;k===null?(g.deletions=[b],g.flags|=16):k.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=nl(g,b),g.index=0,g.sibling=null,g}function i(g,b,k){return g.index=k,e?(k=g.alternate,k!==null?(k=k.index,k<b?(g.flags|=2,b):k):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,k,S){return b===null||b.tag!==6?(b=Gy(k,g.mode,S),b.return=g,b):(b=a(b,k),b.return=g,b)}function l(g,b,k,S){var C=k.type;return C===Xc?d(g,b,k.props.children,S,k.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rs&&pN(C)===b.type)?(S=a(b,k.props),S.ref=gd(g,b,k),S.return=g,S):(S=qm(k.type,k.key,k.props,null,g.mode,S),S.ref=gd(g,b,k),S.return=g,S)}function c(g,b,k,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=Xy(k,g.mode,S),b.return=g,b):(b=a(b,k.children||[]),b.return=g,b)}function d(g,b,k,S,C){return b===null||b.tag!==7?(b=Zl(k,g.mode,S,C),b.return=g,b):(b=a(b,k),b.return=g,b)}function f(g,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Gy(""+b,g.mode,k),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yp:return k=qm(b.type,b.key,b.props,null,g.mode,k),k.ref=gd(g,null,b),k.return=g,k;case Gc:return b=Xy(b,g.mode,k),b.return=g,b;case Rs:var S=b._init;return f(g,S(b._payload),k)}if(Id(b)||dd(b))return b=Zl(b,g.mode,k,null),b.return=g,b;im(g,b)}return null}function p(g,b,k,S){var C=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:s(g,b,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yp:return k.key===C?l(g,b,k,S):null;case Gc:return k.key===C?c(g,b,k,S):null;case Rs:return C=k._init,p(g,b,C(k._payload),S)}if(Id(k)||dd(k))return C!==null?null:d(g,b,k,S,null);im(g,k)}return null}function m(g,b,k,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(k)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yp:return g=g.get(S.key===null?k:S.key)||null,l(b,g,S,C);case Gc:return g=g.get(S.key===null?k:S.key)||null,c(b,g,S,C);case Rs:var j=S._init;return m(g,b,k,j(S._payload),C)}if(Id(S)||dd(S))return g=g.get(k)||null,d(b,g,S,C,null);im(b,S)}return null}function h(g,b,k,S){for(var C=null,j=null,M=b,T=b=0,R=null;M!==null&&T<k.length;T++){M.index>T?(R=M,M=null):R=M.sibling;var P=p(g,M,k[T],S);if(P===null){M===null&&(M=R);break}e&&M&&P.alternate===null&&t(g,M),b=i(P,b,T),j===null?C=P:j.sibling=P,j=P,M=R}if(T===k.length)return n(g,M),rr&&Dl(g,T),C;if(M===null){for(;T<k.length;T++)M=f(g,k[T],S),M!==null&&(b=i(M,b,T),j===null?C=M:j.sibling=M,j=M);return rr&&Dl(g,T),C}for(M=r(g,M);T<k.length;T++)R=m(M,g,T,k[T],S),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?T:R.key),b=i(R,b,T),j===null?C=R:j.sibling=R,j=R);return e&&M.forEach(function(_){return t(g,_)}),rr&&Dl(g,T),C}function v(g,b,k,S){var C=dd(k);if(typeof C!="function")throw Error(Fe(150));if(k=C.call(k),k==null)throw Error(Fe(151));for(var j=C=null,M=b,T=b=0,R=null,P=k.next();M!==null&&!P.done;T++,P=k.next()){M.index>T?(R=M,M=null):R=M.sibling;var _=p(g,M,P.value,S);if(_===null){M===null&&(M=R);break}e&&M&&_.alternate===null&&t(g,M),b=i(_,b,T),j===null?C=_:j.sibling=_,j=_,M=R}if(P.done)return n(g,M),rr&&Dl(g,T),C;if(M===null){for(;!P.done;T++,P=k.next())P=f(g,P.value,S),P!==null&&(b=i(P,b,T),j===null?C=P:j.sibling=P,j=P);return rr&&Dl(g,T),C}for(M=r(g,M);!P.done;T++,P=k.next())P=m(M,g,T,P.value,S),P!==null&&(e&&P.alternate!==null&&M.delete(P.key===null?T:P.key),b=i(P,b,T),j===null?C=P:j.sibling=P,j=P);return e&&M.forEach(function(E){return t(g,E)}),rr&&Dl(g,T),C}function x(g,b,k,S){if(typeof k=="object"&&k!==null&&k.type===Xc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Yp:e:{for(var C=k.key,j=b;j!==null;){if(j.key===C){if(C=k.type,C===Xc){if(j.tag===7){n(g,j.sibling),b=a(j,k.props.children),b.return=g,g=b;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rs&&pN(C)===j.type){n(g,j.sibling),b=a(j,k.props),b.ref=gd(g,j,k),b.return=g,g=b;break e}n(g,j);break}else t(g,j);j=j.sibling}k.type===Xc?(b=Zl(k.props.children,g.mode,S,k.key),b.return=g,g=b):(S=qm(k.type,k.key,k.props,null,g.mode,S),S.ref=gd(g,b,k),S.return=g,g=S)}return o(g);case Gc:e:{for(j=k.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){n(g,b.sibling),b=a(b,k.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Xy(k,g.mode,S),b.return=g,g=b}return o(g);case Rs:return j=k._init,x(g,b,j(k._payload),S)}if(Id(k))return h(g,b,k,S);if(dd(k))return v(g,b,k,S);im(g,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,k),b.return=g,g=b):(n(g,b),b=Gy(k,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Cu=G5(!0),X5=G5(!1),bh=pl(null),xh=null,au=null,Uw=null;function Vw(){Uw=au=xh=null}function Ww(e){var t=bh.current;Gn(bh),e._currentValue=t}function Eb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yu(e,t){xh=e,Uw=au=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qa=!0),e.firstContext=null)}function Ui(e){var t=e._currentValue;if(Uw!==e)if(e={context:e,memoizedValue:t,next:null},au===null){if(xh===null)throw Error(Fe(308));au=e,xh.dependencies={lanes:0,firstContext:e}}else au=au.next=e;return t}var Ul=null;function Hw(e){Ul===null?Ul=[e]:Ul.push(e)}function Q5(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Hw(t)):(n.next=a.next,a.next=n),t.interleaved=n,ls(e,r)}function ls(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $s=!1;function qw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,hn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ls(e,n)}return a=r.interleaved,a===null?(t.next=t,Hw(r)):(t.next=a.next,a.next=t),r.interleaved=t,ls(e,n)}function Bm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tw(e,n)}}function mN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wh(e,t,n,r){var a=e.updateQueue;$s=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=pr({},f,p);break e;case 2:$s=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lc|=o,e.lanes=o,e.memoizedState=f}}function hN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Fe(191,a));a.call(r)}}}var tp={},Oo=pl(tp),yf=pl(tp),vf=pl(tp);function Vl(e){if(e===tp)throw Error(Fe(174));return e}function Kw(e,t){switch(Vn(vf,t),Vn(yf,e),Vn(Oo,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ub(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ub(t,e)}Gn(Oo),Vn(Oo,t)}function Mu(){Gn(Oo),Gn(yf),Gn(vf)}function J5(e){Vl(vf.current);var t=Vl(Oo.current),n=ub(t,e.type);t!==n&&(Vn(yf,e),Vn(Oo,n))}function Yw(e){yf.current===e&&(Gn(Oo),Gn(yf))}var cr=pl(0);function kh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vy=[];function Gw(){for(var e=0;e<Vy.length;e++)Vy[e]._workInProgressVersionPrimary=null;Vy.length=0}var zm=ys.ReactCurrentDispatcher,Wy=ys.ReactCurrentBatchConfig,sc=0,fr=null,Wr=null,aa=null,Sh=!1,Hd=!1,bf=0,yB=0;function Sa(){throw Error(Fe(321))}function Xw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!co(e[n],t[n]))return!1;return!0}function Qw(e,t,n,r,a,i){if(sc=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zm.current=e===null||e.memoizedState===null?wB:kB,e=n(r,a),Hd){i=0;do{if(Hd=!1,bf=0,25<=i)throw Error(Fe(301));i+=1,aa=Wr=null,t.updateQueue=null,zm.current=SB,e=n(r,a)}while(Hd)}if(zm.current=Nh,t=Wr!==null&&Wr.next!==null,sc=0,aa=Wr=fr=null,Sh=!1,t)throw Error(Fe(300));return e}function Zw(){var e=bf!==0;return bf=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?fr.memoizedState=aa=e:aa=aa.next=e,aa}function Vi(){if(Wr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=aa===null?fr.memoizedState:aa.next;if(t!==null)aa=t,Wr=e;else{if(e===null)throw Error(Fe(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},aa===null?fr.memoizedState=aa=e:aa=aa.next=e}return aa}function xf(e,t){return typeof t=="function"?t(e):t}function Hy(e){var t=Vi(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=Wr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((sc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,fr.lanes|=d,lc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,co(r,t.memoizedState)||(Qa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,fr.lanes|=i,lc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qy(e){var t=Vi(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);co(i,t.memoizedState)||(Qa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function eT(){}function tT(e,t){var n=fr,r=Vi(),a=t(),i=!co(r.memoizedState,a);if(i&&(r.memoizedState=a,Qa=!0),r=r.queue,Jw(aT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||aa!==null&&aa.memoizedState.tag&1){if(n.flags|=2048,wf(9,rT.bind(null,n,r,a,t),void 0,null),ia===null)throw Error(Fe(349));sc&30||nT(n,t,a)}return a}function nT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rT(e,t,n,r){t.value=n,t.getSnapshot=r,iT(t)&&oT(e)}function aT(e,t,n){return n(function(){iT(t)&&oT(e)})}function iT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!co(e,n)}catch{return!0}}function oT(e){var t=ls(e,1);t!==null&&oo(t,e,1,-1)}function gN(e){var t=Co();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:e},t.queue=e,e=e.dispatch=xB.bind(null,fr,e),[t.memoizedState,e]}function wf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sT(){return Vi().memoizedState}function Um(e,t,n,r){var a=Co();fr.flags|=e,a.memoizedState=wf(1|t,n,void 0,r===void 0?null:r)}function Yg(e,t,n,r){var a=Vi();r=r===void 0?null:r;var i=void 0;if(Wr!==null){var o=Wr.memoizedState;if(i=o.destroy,r!==null&&Xw(r,o.deps)){a.memoizedState=wf(t,n,i,r);return}}fr.flags|=e,a.memoizedState=wf(1|t,n,i,r)}function yN(e,t){return Um(8390656,8,e,t)}function Jw(e,t){return Yg(2048,8,e,t)}function lT(e,t){return Yg(4,2,e,t)}function cT(e,t){return Yg(4,4,e,t)}function uT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dT(e,t,n){return n=n!=null?n.concat([e]):null,Yg(4,4,uT.bind(null,t,e),n)}function e1(){}function fT(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pT(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mT(e,t,n){return sc&21?(co(n,t)||(n=b5(),fr.lanes|=n,lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qa=!0),e.memoizedState=n)}function vB(e,t){var n=An;An=n!==0&&4>n?n:4,e(!0);var r=Wy.transition;Wy.transition={};try{e(!1),t()}finally{An=n,Wy.transition=r}}function hT(){return Vi().memoizedState}function bB(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gT(e))yT(t,n);else if(n=Q5(e,t,n,r),n!==null){var a=Ba();oo(n,e,r,a),vT(n,t,r)}}function xB(e,t,n){var r=tl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gT(e))yT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,co(s,o)){var l=t.interleaved;l===null?(a.next=a,Hw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=Q5(e,t,a,r),n!==null&&(a=Ba(),oo(n,e,r,a),vT(n,t,r))}}function gT(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function yT(e,t){Hd=Sh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tw(e,n)}}var Nh={readContext:Ui,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},wB={readContext:Ui,useCallback:function(e,t){return Co().memoizedState=[e,t===void 0?null:t],e},useContext:Ui,useEffect:yN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Um(4194308,4,uT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Um(4194308,4,e,t)},useInsertionEffect:function(e,t){return Um(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bB.bind(null,fr,e),[r.memoizedState,e]},useRef:function(e){var t=Co();return e={current:e},t.memoizedState=e},useState:gN,useDebugValue:e1,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=gN(!1),t=e[0];return e=vB.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fr,a=Co();if(rr){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=t(),ia===null)throw Error(Fe(349));sc&30||nT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,yN(aT.bind(null,r,i,e),[e]),r.flags|=2048,wf(9,rT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Co(),t=ia.identifierPrefix;if(rr){var n=Qo,r=Xo;n=(r&~(1<<32-io(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kB={readContext:Ui,useCallback:fT,useContext:Ui,useEffect:Jw,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:pT,useReducer:Hy,useRef:sT,useState:function(){return Hy(xf)},useDebugValue:e1,useDeferredValue:function(e){var t=Vi();return mT(t,Wr.memoizedState,e)},useTransition:function(){var e=Hy(xf)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:eT,useSyncExternalStore:tT,useId:hT,unstable_isNewReconciler:!1},SB={readContext:Ui,useCallback:fT,useContext:Ui,useEffect:Jw,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:pT,useReducer:qy,useRef:sT,useState:function(){return qy(xf)},useDebugValue:e1,useDeferredValue:function(e){var t=Vi();return Wr===null?t.memoizedState=e:mT(t,Wr.memoizedState,e)},useTransition:function(){var e=qy(xf)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:eT,useSyncExternalStore:tT,useId:hT,unstable_isNewReconciler:!1};function Ji(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gg={isMounted:function(e){return(e=e._reactInternals)?kc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ba(),a=tl(e),i=ts(r,a);i.payload=t,n!=null&&(i.callback=n),t=Js(e,i,a),t!==null&&(oo(t,e,a,r),Bm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ba(),a=tl(e),i=ts(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Js(e,i,a),t!==null&&(oo(t,e,a,r),Bm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ba(),r=tl(e),a=ts(n,r);a.tag=2,t!=null&&(a.callback=t),t=Js(e,a,r),t!==null&&(oo(t,e,r,n),Bm(t,e,r))}};function vN(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pf(n,r)||!pf(a,i):!0}function bT(e,t,n){var r=!1,a=sl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ui(i):(a=ei(t)?ic:Oa.current,r=t.contextTypes,i=(r=r!=null)?Nu(e,a):sl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gg.enqueueReplaceState(t,t.state,null)}function Ob(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},qw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ui(i):(i=ei(t)?ic:Oa.current,a.context=Nu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tb(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gg.enqueueReplaceState(a,a.state,null),wh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Au(e,t){try{var n="",r=t;do n+=QR(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ky(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Db(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NB=typeof WeakMap=="function"?WeakMap:Map;function xT(e,t,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ch||(Ch=!0,Ub=r),Db(e,t)},n}function wT(e,t,n){n=ts(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Db(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Db(e,t),typeof r!="function"&&(el===null?el=new Set([this]):el.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function xN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=RB.bind(null,e,t,n),t.then(e,e))}function wN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kN(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ts(-1,1),t.tag=2,Js(n,t,1))),n.lanes|=1),e)}var jB=ys.ReactCurrentOwner,Qa=!1;function La(e,t,n,r){t.child=e===null?X5(t,null,n,r):Cu(t,e.child,n,r)}function SN(e,t,n,r,a){n=n.render;var i=t.ref;return yu(t,a),r=Qw(e,t,n,r,i,a),n=Zw(),e!==null&&!Qa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cs(e,t,a)):(rr&&n&&$w(t),t.flags|=1,La(e,t,r,a),t.child)}function NN(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!l1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kT(e,t,i,r,a)):(e=qm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(o,r)&&e.ref===t.ref)return cs(e,t,a)}return t.flags|=1,e=nl(i,r),e.ref=t.ref,e.return=t,t.child=e}function kT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(pf(i,r)&&e.ref===t.ref)if(Qa=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Qa=!0);else return t.lanes=e.lanes,cs(e,t,a)}return Ib(e,t,n,r,a)}function ST(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(ou,fi),fi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(ou,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Vn(ou,fi),fi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Vn(ou,fi),fi|=r;return La(e,t,a,n),t.child}function NT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ib(e,t,n,r,a){var i=ei(n)?ic:Oa.current;return i=Nu(t,i),yu(t,a),n=Qw(e,t,n,r,i,a),r=Zw(),e!==null&&!Qa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cs(e,t,a)):(rr&&r&&$w(t),t.flags|=1,La(e,t,n,a),t.child)}function jN(e,t,n,r,a){if(ei(n)){var i=!0;gh(t)}else i=!1;if(yu(t,a),t.stateNode===null)Vm(e,t),bT(t,n,r),Ob(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ui(c):(c=ei(n)?ic:Oa.current,c=Nu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&bN(t,o,r,c),$s=!1;var p=t.memoizedState;o.state=p,wh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Ja.current||$s?(typeof d=="function"&&(Tb(t,n,d,r),l=t.memoizedState),(s=$s||vN(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Z5(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ui(l):(l=ei(n)?ic:Oa.current,l=Nu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&bN(t,o,r,l),$s=!1,p=t.memoizedState,o.state=p,wh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Ja.current||$s?(typeof m=="function"&&(Tb(t,n,m,r),h=t.memoizedState),(c=$s||vN(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _b(e,t,n,r,i,a)}function _b(e,t,n,r,a,i){NT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&uN(t,n,!1),cs(e,t,i);r=t.stateNode,jB.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cu(t,e.child,null,i),t.child=Cu(t,null,s,i)):La(e,t,s,i),t.memoizedState=r.state,a&&uN(t,n,!0),t.child}function jT(e){var t=e.stateNode;t.pendingContext?cN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cN(e,t.context,!1),Kw(e,t.containerInfo)}function CN(e,t,n,r,a){return ju(),zw(a),t.flags|=256,La(e,t,n,r),t.child}var Fb={dehydrated:null,treeContext:null,retryLane:0};function Lb(e){return{baseLanes:e,cachePool:null,transitions:null}}function CT(e,t,n){var r=t.pendingProps,a=cr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vn(cr,a&1),e===null)return Pb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zg(o,r,0,null),e=Zl(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lb(n),t.memoizedState=Fb,e):t1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return CB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=nl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=nl(s,i):(i=Zl(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Lb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fb,r}return i=e.child,e=i.sibling,r=nl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function t1(e,t){return t=Zg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function om(e,t,n,r){return r!==null&&zw(r),Cu(t,e.child,null,n),e=t1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ky(Error(Fe(422))),om(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Zg({mode:"visible",children:r.children},a,0,null),i=Zl(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cu(t,e.child,null,o),t.child.memoizedState=Lb(o),t.memoizedState=Fb,i);if(!(t.mode&1))return om(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Fe(419)),r=Ky(i,r,void 0),om(e,t,o,r)}if(s=(o&e.childLanes)!==0,Qa||s){if(r=ia,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ls(e,a),oo(r,e,a,-1))}return s1(),r=Ky(Error(Fe(421))),om(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$B.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,hi=Zs(a.nextSibling),yi=t,rr=!0,to=null,e!==null&&(_i[Fi++]=Xo,_i[Fi++]=Qo,_i[Fi++]=oc,Xo=e.id,Qo=e.overflow,oc=t),t=t1(t,r.children),t.flags|=4096,t)}function MN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eb(e.return,t,n)}function Yy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function MT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(La(e,t,r.children,n),r=cr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MN(e,n,t);else if(e.tag===19)MN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vn(cr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&kh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yy(t,!0,n,null,i);break;case"together":Yy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MB(e,t,n){switch(t.tag){case 3:jT(t),ju();break;case 5:J5(t);break;case 1:ei(t.type)&&gh(t);break;case 4:Kw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Vn(bh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vn(cr,cr.current&1),t.flags|=128,null):n&t.child.childLanes?CT(e,t,n):(Vn(cr,cr.current&1),e=cs(e,t,n),e!==null?e.sibling:null);Vn(cr,cr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return MT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vn(cr,cr.current),r)break;return null;case 22:case 23:return t.lanes=0,ST(e,t,n)}return cs(e,t,n)}var AT,Rb,PT,ET;AT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rb=function(){};PT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Vl(Oo.current);var i=null;switch(n){case"input":a=ob(e,a),r=ob(e,r),i=[];break;case"select":a=pr({},a,{value:void 0}),r=pr({},r,{value:void 0}),i=[];break;case"textarea":a=cb(e,a),r=cb(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mh)}db(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ET=function(e,t,n,r){n!==r&&(t.flags|=4)};function yd(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Na(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AB(e,t,n){var r=t.pendingProps;switch(Bw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(t),null;case 1:return ei(t.type)&&hh(),Na(t),null;case 3:return r=t.stateNode,Mu(),Gn(Ja),Gn(Oa),Gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(am(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,to!==null&&(Hb(to),to=null))),Rb(e,t),Na(t),null;case 5:Yw(t);var a=Vl(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)PT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Fe(166));return Na(t),null}if(e=Vl(Oo.current),am(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Po]=t,r[gf]=i,e=(t.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(a=0;a<Fd.length;a++)qn(Fd[a],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":F2(r,i),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qn("invalid",r);break;case"textarea":R2(r,i),qn("invalid",r)}db(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&rm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&rm(r.textContent,s,e),a=["children",""+s]):of.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qn("scroll",r)}switch(n){case"input":Gp(r),L2(r,i,!0);break;case"textarea":Gp(r),$2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Po]=t,e[gf]=r,AT(e,t,!1,!1),t.stateNode=e;e:{switch(o=fb(n,r),n){case"dialog":qn("cancel",e),qn("close",e),a=r;break;case"iframe":case"object":case"embed":qn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fd.length;a++)qn(Fd[a],e);a=r;break;case"source":qn("error",e),a=r;break;case"img":case"image":case"link":qn("error",e),qn("load",e),a=r;break;case"details":qn("toggle",e),a=r;break;case"input":F2(e,r),a=ob(e,r),qn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=pr({},r,{value:void 0}),qn("invalid",e);break;case"textarea":R2(e,r),a=cb(e,r),qn("invalid",e);break;default:a=r}db(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?s5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(of.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qn("scroll",e):l!=null&&jw(e,i,l,o))}switch(n){case"input":Gp(e),L2(e,r,!1);break;case"textarea":Gp(e),$2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ol(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pu(e,!!r.multiple,i,!1):r.defaultValue!=null&&pu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Na(t),null;case 6:if(e&&t.stateNode!=null)ET(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Fe(166));if(n=Vl(vf.current),Vl(Oo.current),am(t)){if(r=t.stateNode,n=t.memoizedProps,r[Po]=t,(i=r.nodeValue!==n)&&(e=yi,e!==null))switch(e.tag){case 3:rm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Po]=t,t.stateNode=r}return Na(t),null;case 13:if(Gn(cr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&hi!==null&&t.mode&1&&!(t.flags&128))Y5(),ju(),t.flags|=98560,i=!1;else if(i=am(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[Po]=t}else ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Na(t),i=!1}else to!==null&&(Hb(to),to=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?qr===0&&(qr=3):s1())),t.updateQueue!==null&&(t.flags|=4),Na(t),null);case 4:return Mu(),Rb(e,t),e===null&&mf(t.stateNode.containerInfo),Na(t),null;case 10:return Ww(t.type._context),Na(t),null;case 17:return ei(t.type)&&hh(),Na(t),null;case 19:if(Gn(cr),i=t.memoizedState,i===null)return Na(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)yd(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kh(e),o!==null){for(t.flags|=128,yd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vn(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Mr()>Pu&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304)}else{if(!r)if(e=kh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rr)return Na(t),null}else 2*Mr()-i.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mr(),t.sibling=null,n=cr.current,Vn(cr,r?n&1|2:n&1),t):(Na(t),null);case 22:case 23:return o1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?fi&1073741824&&(Na(t),t.subtreeFlags&6&&(t.flags|=8192)):Na(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function PB(e,t){switch(Bw(t),t.tag){case 1:return ei(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),Gn(Ja),Gn(Oa),Gw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yw(t),null;case 13:if(Gn(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gn(cr),null;case 4:return Mu(),null;case 10:return Ww(t.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var sm=!1,Ma=!1,EB=typeof WeakSet=="function"?WeakSet:Set,ot=null;function iu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(e,t,r)}else n.current=null}function TT(e,t,n){try{n()}catch(r){xr(e,t,r)}}var AN=!1;function TB(e,t){if(kb=dh,e=_5(),Rw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sb={focusedElem:e,selectionRange:n},dh=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ji(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(S){xr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return h=AN,AN=!1,h}function qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&TT(t,n,i)}a=a.next}while(a!==r)}}function Xg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $b(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OT(e){var t=e.alternate;t!==null&&(e.alternate=null,OT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Po],delete t[gf],delete t[Cb],delete t[pB],delete t[mB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DT(e){return e.tag===5||e.tag===3||e.tag===4}function PN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mh));else if(r!==4&&(e=e.child,e!==null))for(Bb(e,t,n),e=e.sibling;e!==null;)Bb(e,t,n),e=e.sibling}function zb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zb(e,t,n),e=e.sibling;e!==null;)zb(e,t,n),e=e.sibling}var pa=null,eo=!1;function Is(e,t,n){for(n=n.child;n!==null;)IT(e,t,n),n=n.sibling}function IT(e,t,n){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(Ug,n)}catch{}switch(n.tag){case 5:Ma||iu(n,t);case 6:var r=pa,a=eo;pa=null,Is(e,t,n),pa=r,eo=a,pa!==null&&(eo?(e=pa,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pa.removeChild(n.stateNode));break;case 18:pa!==null&&(eo?(e=pa,n=n.stateNode,e.nodeType===8?zy(e.parentNode,n):e.nodeType===1&&zy(e,n),df(e)):zy(pa,n.stateNode));break;case 4:r=pa,a=eo,pa=n.stateNode.containerInfo,eo=!0,Is(e,t,n),pa=r,eo=a;break;case 0:case 11:case 14:case 15:if(!Ma&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&TT(n,t,o),a=a.next}while(a!==r)}Is(e,t,n);break;case 1:if(!Ma&&(iu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xr(n,t,s)}Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:n.mode&1?(Ma=(r=Ma)||n.memoizedState!==null,Is(e,t,n),Ma=r):Is(e,t,n);break;default:Is(e,t,n)}}function EN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EB),t.forEach(function(r){var a=BB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Zi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:pa=s.stateNode,eo=!1;break e;case 3:pa=s.stateNode.containerInfo,eo=!0;break e;case 4:pa=s.stateNode.containerInfo,eo=!0;break e}s=s.return}if(pa===null)throw Error(Fe(160));IT(i,o,a),pa=null,eo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){xr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_T(t,e),t=t.sibling}function _T(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(t,e),ko(e),r&4){try{qd(3,e,e.return),Xg(3,e)}catch(v){xr(e,e.return,v)}try{qd(5,e,e.return)}catch(v){xr(e,e.return,v)}}break;case 1:Zi(t,e),ko(e),r&512&&n!==null&&iu(n,n.return);break;case 5:if(Zi(t,e),ko(e),r&512&&n!==null&&iu(n,n.return),e.flags&32){var a=e.stateNode;try{sf(a,"")}catch(v){xr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&n5(a,i),fb(s,o);var c=fb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?s5(a,f):d==="dangerouslySetInnerHTML"?i5(a,f):d==="children"?sf(a,f):jw(a,d,f,c)}switch(s){case"input":sb(a,i);break;case"textarea":r5(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?pu(a,!!i.multiple,i.defaultValue,!0):pu(a,!!i.multiple,i.multiple?[]:"",!1))}a[gf]=i}catch(v){xr(e,e.return,v)}}break;case 6:if(Zi(t,e),ko(e),r&4){if(e.stateNode===null)throw Error(Fe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){xr(e,e.return,v)}}break;case 3:if(Zi(t,e),ko(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(v){xr(e,e.return,v)}break;case 4:Zi(t,e),ko(e);break;case 13:Zi(t,e),ko(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(a1=Mr())),r&4&&EN(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ma=(c=Ma)||d,Zi(t,e),Ma=c):Zi(t,e),ko(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(f=ot=d;ot!==null;){switch(p=ot,m=p.child,p.tag){case 0:case 11:case 14:case 15:qd(4,p,p.return);break;case 1:iu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){xr(r,n,v)}}break;case 5:iu(p,p.return);break;case 22:if(p.memoizedState!==null){ON(f);continue}}m!==null?(m.return=p,ot=m):ON(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=o5("display",o))}catch(v){xr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){xr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zi(t,e),ko(e),r&4&&EN(e);break;case 21:break;default:Zi(t,e),ko(e)}}function ko(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DT(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(sf(a,""),r.flags&=-33);var i=PN(e);zb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=PN(e);Bb(e,s,o);break;default:throw Error(Fe(161))}}catch(l){xr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OB(e,t,n){ot=e,FT(e)}function FT(e,t,n){for(var r=(e.mode&1)!==0;ot!==null;){var a=ot,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||sm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ma;s=sm;var c=Ma;if(sm=o,(Ma=l)&&!c)for(ot=a;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?DN(a):l!==null?(l.return=o,ot=l):DN(a);for(;i!==null;)ot=i,FT(i),i=i.sibling;ot=a,sm=s,Ma=c}TN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ot=i):TN(e)}}function TN(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ma||Xg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ma)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ji(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hN(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hN(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Ma||t.flags&512&&$b(t)}catch(p){xr(t,t.return,p)}}if(t===e){ot=null;break}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}}function ON(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ot=n;break}ot=t.return}}function DN(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xg(4,t)}catch(l){xr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){xr(t,a,l)}}var i=t.return;try{$b(t)}catch(l){xr(t,i,l)}break;case 5:var o=t.return;try{$b(t)}catch(l){xr(t,o,l)}}}catch(l){xr(t,t.return,l)}if(t===e){ot=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ot=s;break}ot=t.return}}var DB=Math.ceil,jh=ys.ReactCurrentDispatcher,n1=ys.ReactCurrentOwner,Bi=ys.ReactCurrentBatchConfig,hn=0,ia=null,Fr=null,ga=0,fi=0,ou=pl(0),qr=0,kf=null,lc=0,Qg=0,r1=0,Kd=null,Xa=null,a1=0,Pu=1/0,Wo=null,Ch=!1,Ub=null,el=null,lm=!1,Ks=null,Mh=0,Yd=0,Vb=null,Wm=-1,Hm=0;function Ba(){return hn&6?Mr():Wm!==-1?Wm:Wm=Mr()}function tl(e){return e.mode&1?hn&2&&ga!==0?ga&-ga:gB.transition!==null?(Hm===0&&(Hm=b5()),Hm):(e=An,e!==0||(e=window.event,e=e===void 0?16:C5(e.type)),e):1}function oo(e,t,n,r){if(50<Yd)throw Yd=0,Vb=null,Error(Fe(185));Zf(e,n,r),(!(hn&2)||e!==ia)&&(e===ia&&(!(hn&2)&&(Qg|=n),qr===4&&Ws(e,ga)),ti(e,r),n===1&&hn===0&&!(t.mode&1)&&(Pu=Mr()+500,Kg&&ml()))}function ti(e,t){var n=e.callbackNode;g$(e,t);var r=uh(e,e===ia?ga:0);if(r===0)n!==null&&U2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&U2(n),t===1)e.tag===0?hB(IN.bind(null,e)):H5(IN.bind(null,e)),dB(function(){!(hn&6)&&ml()}),n=null;else{switch(x5(r)){case 1:n=Ew;break;case 4:n=y5;break;case 16:n=ch;break;case 536870912:n=v5;break;default:n=ch}n=WT(n,LT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LT(e,t){if(Wm=-1,Hm=0,hn&6)throw Error(Fe(327));var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=uh(e,e===ia?ga:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ah(e,r);else{t=r;var a=hn;hn|=2;var i=$T();(ia!==e||ga!==t)&&(Wo=null,Pu=Mr()+500,Ql(e,t));do try{FB();break}catch(s){RT(e,s)}while(!0);Vw(),jh.current=i,hn=a,Fr!==null?t=0:(ia=null,ga=0,t=qr)}if(t!==0){if(t===2&&(a=yb(e),a!==0&&(r=a,t=Wb(e,a))),t===1)throw n=kf,Ql(e,0),Ws(e,r),ti(e,Mr()),n;if(t===6)Ws(e,r);else{if(a=e.current.alternate,!(r&30)&&!IB(a)&&(t=Ah(e,r),t===2&&(i=yb(e),i!==0&&(r=i,t=Wb(e,i))),t===1))throw n=kf,Ql(e,0),Ws(e,r),ti(e,Mr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Fe(345));case 2:Il(e,Xa,Wo);break;case 3:if(Ws(e,r),(r&130023424)===r&&(t=a1+500-Mr(),10<t)){if(uh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ba(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jb(Il.bind(null,e,Xa,Wo),t);break}Il(e,Xa,Wo);break;case 4:if(Ws(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-io(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DB(r/1960))-r,10<r){e.timeoutHandle=jb(Il.bind(null,e,Xa,Wo),r);break}Il(e,Xa,Wo);break;case 5:Il(e,Xa,Wo);break;default:throw Error(Fe(329))}}}return ti(e,Mr()),e.callbackNode===n?LT.bind(null,e):null}function Wb(e,t){var n=Kd;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=Ah(e,t),e!==2&&(t=Xa,Xa=n,t!==null&&Hb(t)),e}function Hb(e){Xa===null?Xa=e:Xa.push.apply(Xa,e)}function IB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!co(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t){for(t&=~r1,t&=~Qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-io(t),r=1<<n;e[n]=-1,t&=~r}}function IN(e){if(hn&6)throw Error(Fe(327));vu();var t=uh(e,0);if(!(t&1))return ti(e,Mr()),null;var n=Ah(e,t);if(e.tag!==0&&n===2){var r=yb(e);r!==0&&(t=r,n=Wb(e,r))}if(n===1)throw n=kf,Ql(e,0),Ws(e,t),ti(e,Mr()),n;if(n===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,Xa,Wo),ti(e,Mr()),null}function i1(e,t){var n=hn;hn|=1;try{return e(t)}finally{hn=n,hn===0&&(Pu=Mr()+500,Kg&&ml())}}function cc(e){Ks!==null&&Ks.tag===0&&!(hn&6)&&vu();var t=hn;hn|=1;var n=Bi.transition,r=An;try{if(Bi.transition=null,An=1,e)return e()}finally{An=r,Bi.transition=n,hn=t,!(hn&6)&&ml()}}function o1(){fi=ou.current,Gn(ou)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uB(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(Bw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:Mu(),Gn(Ja),Gn(Oa),Gw();break;case 5:Yw(r);break;case 4:Mu();break;case 13:Gn(cr);break;case 19:Gn(cr);break;case 10:Ww(r.type._context);break;case 22:case 23:o1()}n=n.return}if(ia=e,Fr=e=nl(e.current,null),ga=fi=t,qr=0,kf=null,r1=Qg=lc=0,Xa=Kd=null,Ul!==null){for(t=0;t<Ul.length;t++)if(n=Ul[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Ul=null}return e}function RT(e,t){do{var n=Fr;try{if(Vw(),zm.current=Nh,Sh){for(var r=fr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sh=!1}if(sc=0,aa=Wr=fr=null,Hd=!1,bf=0,n1.current=null,n===null||n.return===null){qr=1,kf=t,Fr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=ga,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wN(o);if(m!==null){m.flags&=-257,kN(m,o,s,i,t),m.mode&1&&xN(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){xN(i,c,t),s1();break e}l=Error(Fe(426))}}else if(rr&&s.mode&1){var x=wN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),kN(x,o,s,i,t),zw(Au(l,s));break e}}i=l=Au(l,s),qr!==4&&(qr=2),Kd===null?Kd=[i]:Kd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=xT(i,l,t);mN(i,g);break e;case 1:s=l;var b=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(el===null||!el.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=wT(i,s,t);mN(i,S);break e}}i=i.return}while(i!==null)}zT(n)}catch(C){t=C,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function $T(){var e=jh.current;return jh.current=Nh,e===null?Nh:e}function s1(){(qr===0||qr===3||qr===2)&&(qr=4),ia===null||!(lc&268435455)&&!(Qg&268435455)||Ws(ia,ga)}function Ah(e,t){var n=hn;hn|=2;var r=$T();(ia!==e||ga!==t)&&(Wo=null,Ql(e,t));do try{_B();break}catch(a){RT(e,a)}while(!0);if(Vw(),hn=n,jh.current=r,Fr!==null)throw Error(Fe(261));return ia=null,ga=0,qr}function _B(){for(;Fr!==null;)BT(Fr)}function FB(){for(;Fr!==null&&!s$();)BT(Fr)}function BT(e){var t=VT(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?zT(e):Fr=t,n1.current=null}function zT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=PB(n,t),n!==null){n.flags&=32767,Fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Fr=null;return}}else if(n=AB(n,t,fi),n!==null){Fr=n;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);qr===0&&(qr=5)}function Il(e,t,n){var r=An,a=Bi.transition;try{Bi.transition=null,An=1,LB(e,t,n,r)}finally{Bi.transition=a,An=r}return null}function LB(e,t,n,r){do vu();while(Ks!==null);if(hn&6)throw Error(Fe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(y$(e,i),e===ia&&(Fr=ia=null,ga=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lm||(lm=!0,WT(ch,function(){return vu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bi.transition,Bi.transition=null;var o=An;An=1;var s=hn;hn|=4,n1.current=null,TB(e,n),_T(n,e),rB(Sb),dh=!!kb,Sb=kb=null,e.current=n,OB(n),l$(),hn=s,An=o,Bi.transition=i}else e.current=n;if(lm&&(lm=!1,Ks=e,Mh=a),i=e.pendingLanes,i===0&&(el=null),d$(n.stateNode),ti(e,Mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ch)throw Ch=!1,e=Ub,Ub=null,e;return Mh&1&&e.tag!==0&&vu(),i=e.pendingLanes,i&1?e===Vb?Yd++:(Yd=0,Vb=e):Yd=0,ml(),null}function vu(){if(Ks!==null){var e=x5(Mh),t=Bi.transition,n=An;try{if(Bi.transition=null,An=16>e?16:e,Ks===null)var r=!1;else{if(e=Ks,Ks=null,Mh=0,hn&6)throw Error(Fe(331));var a=hn;for(hn|=4,ot=e.current;ot!==null;){var i=ot,o=i.child;if(ot.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ot=c;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:qd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ot=f;else for(;ot!==null;){d=ot;var p=d.sibling,m=d.return;if(OT(d),d===c){ot=null;break}if(p!==null){p.return=m,ot=p;break}ot=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ot=o;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ot=g;break e}ot=i.return}}var b=e.current;for(ot=b;ot!==null;){o=ot;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,ot=k;else e:for(o=b;ot!==null;){if(s=ot,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xg(9,s)}}catch(C){xr(s,s.return,C)}if(s===o){ot=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ot=S;break e}ot=s.return}}if(hn=a,ml(),To&&typeof To.onPostCommitFiberRoot=="function")try{To.onPostCommitFiberRoot(Ug,e)}catch{}r=!0}return r}finally{An=n,Bi.transition=t}}return!1}function _N(e,t,n){t=Au(n,t),t=xT(e,t,1),e=Js(e,t,1),t=Ba(),e!==null&&(Zf(e,1,t),ti(e,t))}function xr(e,t,n){if(e.tag===3)_N(e,e,n);else for(;t!==null;){if(t.tag===3){_N(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(el===null||!el.has(r))){e=Au(n,e),e=wT(t,e,1),t=Js(t,e,1),e=Ba(),t!==null&&(Zf(t,1,e),ti(t,e));break}}t=t.return}}function RB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ba(),e.pingedLanes|=e.suspendedLanes&n,ia===e&&(ga&n)===n&&(qr===4||qr===3&&(ga&130023424)===ga&&500>Mr()-a1?Ql(e,0):r1|=n),ti(e,t)}function UT(e,t){t===0&&(e.mode&1?(t=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):t=1);var n=Ba();e=ls(e,t),e!==null&&(Zf(e,t,n),ti(e,n))}function $B(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UT(e,n)}function BB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(t),UT(e,n)}var VT;VT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ja.current)Qa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qa=!1,MB(e,t,n);Qa=!!(e.flags&131072)}else Qa=!1,rr&&t.flags&1048576&&q5(t,vh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vm(e,t),e=t.pendingProps;var a=Nu(t,Oa.current);yu(t,n),a=Qw(null,t,r,e,a,n);var i=Zw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(r)?(i=!0,gh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qw(t),a.updater=Gg,t.stateNode=a,a._reactInternals=t,Ob(t,r,e,n),t=_b(null,t,r,!0,i,n)):(t.tag=0,rr&&i&&$w(t),La(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=UB(r),e=Ji(r,e),a){case 0:t=Ib(null,t,r,e,n);break e;case 1:t=jN(null,t,r,e,n);break e;case 11:t=SN(null,t,r,e,n);break e;case 14:t=NN(null,t,r,Ji(r.type,e),n);break e}throw Error(Fe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ji(r,a),Ib(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ji(r,a),jN(e,t,r,a,n);case 3:e:{if(jT(t),e===null)throw Error(Fe(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Z5(e,t),wh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Au(Error(Fe(423)),t),t=CN(e,t,r,n,a);break e}else if(r!==a){a=Au(Error(Fe(424)),t),t=CN(e,t,r,n,a);break e}else for(hi=Zs(t.stateNode.containerInfo.firstChild),yi=t,rr=!0,to=null,n=X5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ju(),r===a){t=cs(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 5:return J5(t),e===null&&Pb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Nb(r,a)?o=null:i!==null&&Nb(r,i)&&(t.flags|=32),NT(e,t),La(e,t,o,n),t.child;case 6:return e===null&&Pb(t),null;case 13:return CT(e,t,n);case 4:return Kw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cu(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ji(r,a),SN(e,t,r,a,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:return La(e,t,t.pendingProps.children,n),t.child;case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Vn(bh,r._currentValue),r._currentValue=o,i!==null)if(co(i.value,o)){if(i.children===a.children&&!Ja.current){t=cs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Eb(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Fe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Eb(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}La(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,yu(t,n),a=Ui(a),r=r(a),t.flags|=1,La(e,t,r,n),t.child;case 14:return r=t.type,a=Ji(r,t.pendingProps),a=Ji(r.type,a),NN(e,t,r,a,n);case 15:return kT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ji(r,a),Vm(e,t),t.tag=1,ei(r)?(e=!0,gh(t)):e=!1,yu(t,n),bT(t,r,a),Ob(t,r,a,n),_b(null,t,r,!0,e,n);case 19:return MT(e,t,n);case 22:return ST(e,t,n)}throw Error(Fe(156,t.tag))};function WT(e,t){return g5(e,t)}function zB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,n,r){return new zB(e,t,n,r)}function l1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UB(e){if(typeof e=="function")return l1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mw)return 11;if(e===Aw)return 14}return 2}function nl(e,t){var n=e.alternate;return n===null?(n=Ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")l1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xc:return Zl(n.children,a,i,t);case Cw:o=8,a|=8;break;case nb:return e=Ri(12,n,t,a|2),e.elementType=nb,e.lanes=i,e;case rb:return e=Ri(13,n,t,a),e.elementType=rb,e.lanes=i,e;case ab:return e=Ri(19,n,t,a),e.elementType=ab,e.lanes=i,e;case JE:return Zg(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QE:o=10;break e;case ZE:o=9;break e;case Mw:o=11;break e;case Aw:o=14;break e;case Rs:o=16,r=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=Ri(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Zl(e,t,n,r){return e=Ri(7,e,r,t),e.lanes=n,e}function Zg(e,t,n,r){return e=Ri(22,e,r,t),e.elementType=JE,e.lanes=n,e.stateNode={isHidden:!1},e}function Gy(e,t,n){return e=Ri(6,e,null,t),e.lanes=n,e}function Xy(e,t,n){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ey(0),this.expirationTimes=Ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ey(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function c1(e,t,n,r,a,i,o,s,l){return e=new VB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ri(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qw(i),e}function WB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HT(e){if(!e)return sl;e=e._reactInternals;e:{if(kc(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var n=e.type;if(ei(n))return W5(e,n,t)}return t}function qT(e,t,n,r,a,i,o,s,l){return e=c1(n,r,!0,e,a,i,o,s,l),e.context=HT(null),n=e.current,r=Ba(),a=tl(n),i=ts(r,a),i.callback=t??null,Js(n,i,a),e.current.lanes=a,Zf(e,a,r),ti(e,r),e}function Jg(e,t,n,r){var a=t.current,i=Ba(),o=tl(a);return n=HT(n),t.context===null?t.context=n:t.pendingContext=n,t=ts(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Js(a,t,o),e!==null&&(oo(e,a,o,i),Bm(e,a,o)),o}function Ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function u1(e,t){FN(e,t),(e=e.alternate)&&FN(e,t)}function HB(){return null}var KT=typeof reportError=="function"?reportError:function(e){console.error(e)};function d1(e){this._internalRoot=e}e0.prototype.render=d1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));Jg(e,t,null,null)};e0.prototype.unmount=d1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){Jg(null,e,null,null)}),t[ss]=null}};function e0(e){this._internalRoot=e}e0.prototype.unstable_scheduleHydration=function(e){if(e){var t=S5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vs.length&&t!==0&&t<Vs[n].priority;n++);Vs.splice(n,0,e),n===0&&j5(e)}};function f1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function t0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LN(){}function qB(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Ph(o);i.call(c)}}var o=qT(t,r,e,0,null,!1,!1,"",LN);return e._reactRootContainer=o,e[ss]=o.current,mf(e.nodeType===8?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Ph(l);s.call(c)}}var l=c1(e,0,!1,null,null,!1,!1,"",LN);return e._reactRootContainer=l,e[ss]=l.current,mf(e.nodeType===8?e.parentNode:e),cc(function(){Jg(t,l,n,r)}),l}function n0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Ph(o);s.call(l)}}Jg(t,o,e,a)}else o=qB(n,t,e,a,r);return Ph(o)}w5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_d(t.pendingLanes);n!==0&&(Tw(t,n|1),ti(t,Mr()),!(hn&6)&&(Pu=Mr()+500,ml()))}break;case 13:cc(function(){var r=ls(e,1);if(r!==null){var a=Ba();oo(r,e,1,a)}}),u1(e,1)}};Ow=function(e){if(e.tag===13){var t=ls(e,134217728);if(t!==null){var n=Ba();oo(t,e,134217728,n)}u1(e,134217728)}};k5=function(e){if(e.tag===13){var t=tl(e),n=ls(e,t);if(n!==null){var r=Ba();oo(n,e,t,r)}u1(e,t)}};S5=function(){return An};N5=function(e,t){var n=An;try{return An=e,t()}finally{An=n}};mb=function(e,t,n){switch(t){case"input":if(sb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=qg(r);if(!a)throw Error(Fe(90));t5(r),sb(r,a)}}}break;case"textarea":r5(e,n);break;case"select":t=n.value,t!=null&&pu(e,!!n.multiple,t,!1)}};u5=i1;d5=cc;var KB={usingClientEntryPoint:!1,Events:[ep,eu,qg,l5,c5,i1]},vd={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YB={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m5(e),e===null?null:e.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||HB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Ug=cm.inject(YB),To=cm}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KB;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f1(t))throw Error(Fe(200));return WB(e,t,null,n)};Si.createRoot=function(e,t){if(!f1(e))throw Error(Fe(299));var n=!1,r="",a=KT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=c1(e,1,!1,null,null,n,!1,r,a),e[ss]=t.current,mf(e.nodeType===8?e.parentNode:e),new d1(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=m5(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return cc(e)};Si.hydrate=function(e,t,n){if(!t0(t))throw Error(Fe(200));return n0(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!f1(e))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=KT;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qT(t,null,e,1,n??null,a,!1,i,o),e[ss]=t.current,mf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new e0(t)};Si.render=function(e,t,n){if(!t0(t))throw Error(Fe(200));return n0(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!t0(e))throw Error(Fe(40));return e._reactRootContainer?(cc(function(){n0(null,null,e,!1,function(){e._reactRootContainer=null,e[ss]=null})}),!0):!1};Si.unstable_batchedUpdates=i1;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!t0(n))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return n0(e,t,n,!1,r)};Si.version="18.3.1-next-f1338f8080-20240426";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(e){console.error(e)}}YT(),KE.exports=Si;var Ku=KE.exports,RN=Ku;eb.createRoot=RN.createRoot,eb.hydrateRoot=RN.hydrateRoot;const GB=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),GT=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],XT=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],XB=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],QT=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],QB=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],ZB=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],JB=new Set([10244]),ez=(e,t)=>{var n;if(JB.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return ZB.some(i=>a.includes(i))},tz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},$N=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},ZT=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,JT=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},Oi=(e,t=2)=>Number.isFinite(e)?ZT()&&Math.abs(e)>=1e4?JT(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Fs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return ZT()&&t>=1e4?JT(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var nz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yt=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>y.createElement("svg",{ref:c,...nz,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${rz(e)}`,...l},[...t.map(([d,f])=>y.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},eO=Yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),az=Yt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),p1=Yt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),tO=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),iz=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),oz=Yt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),nO=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Wl=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sz=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),uo=Yt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),lz=Yt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),cz=Yt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),uz=Yt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Sf=Yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),dz=Yt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),fz=Yt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),rO=Yt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),pz=Yt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),m1=Yt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),mz=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),h1=Yt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),hz=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g1=Yt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ji=Yt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),BN=Yt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),gz=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yz=Yt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),vz=Yt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),aO=Yt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Eu=Yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),r0=Yt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),a0=Yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Eh=Yt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bz=Yt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Gd=Yt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Jl=Yt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),xz=Yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ar=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),wz=Yt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),iO=Yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ha=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nf=Yt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),y1=({className:e})=>u.jsx(gz,{className:e,strokeWidth:3.2}),Th=({className:e})=>u.jsx(bz,{className:e,style:{transform:"rotate(45deg)"}}),np=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},v1=({className:e=""})=>{const t=np("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},b1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},x1=({className:e=""})=>{const t=np("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},kz=e=>{const[t,n]=y.useState(!1),[r,a]=y.useState("overview"),i=y.useRef(null),o=y.useRef(null),s=y.useRef(0),l=y.useMemo(()=>[{id:"overview",label:"Overview",icon:Jl,items:[{id:"overview",label:"Overview",icon:Jl},{id:"top-players",label:"Top Players",icon:Jl},{id:"top-skills-outgoing",label:"Top Skills",icon:p1},{id:"timeline",label:"Squad vs Enemy",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:g1}]},{id:"roster",label:"Roster Intel",icon:Sf,items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Gd}]},{id:"offense",label:"Offensive Stats",icon:Th,items:[{id:"offense-detailed",label:"Offense Detailed",icon:Th},{id:"player-breakdown",label:"Player Breakdown",icon:h1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:r0}]},{id:"defense",label:"Defensive Stats",icon:Eu,items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:vz},{id:"defense-detailed",label:"Defense Detailed",icon:Eu},{id:"defense-mitigation",label:"Damage Mitigation",icon:x1},{id:"support-detailed",label:"Support Detailed",icon:y1},{id:"healing-stats",label:"Healing Stats",icon:rO},{id:"boon-output",label:"Boon Output",icon:b1}]},{id:"other",label:"Other Metrics",icon:Eh,items:[{id:"special-buffs",label:"Special Buffs",icon:Eh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:w1},{id:"skill-usage",label:"Skill Usage",icon:m1},{id:"apm-stats",label:"APM Breakdown",icon:v1}]}],[]),c=y.useMemo(()=>l.flatMap(p=>p.items),[l]),d=p=>{const m=p==="kdr"?"overview":p,h=i.current,v=document.getElementById(m);if(h&&v){const x=h.getBoundingClientRect(),g=v.getBoundingClientRect().top-x.top+h.scrollTop,b=Math.max(0,h.scrollHeight-h.clientHeight),k=Math.min(Math.max(g-16,0),b);h.scrollTo({top:k,behavior:"smooth"}),a(m)}else v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),a(m));n(!1)};y.useEffect(()=>{if(e)return;const p=m=>{const h=i.current;if(!h)return;const v=m.target;if(!(v instanceof Element&&v.closest("[data-stats-mobile-nav]"))&&!(v instanceof Node&&h.contains(v))&&m.deltaY!==0&&!(h.scrollHeight<=h.clientHeight)){if(s.current+=m.deltaY,o.current===null){const x=()=>{const g=s.current;if(Math.abs(g)<.5){s.current=0,o.current=null;return}const b=g*.2;s.current=g-b,h.scrollBy({top:b,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}m.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),s.current=0}},[e]);const f=p=>{var m;const h=Math.max(0,c.findIndex(g=>g.id===r)),v=Math.min(Math.max(h+p,0),c.length-1),x=(m=c[v])==null?void 0:m.id;x&&d(x)};return y.useEffect(()=>{const p=i.current;if(!p)return;let m=0;const h=()=>{var x;const g=p.getBoundingClientRect().top;let b=((x=c[0])==null?void 0:x.id)||"overview";c.forEach(k=>{const S=document.getElementById(k.id);S&&S.getBoundingClientRect().top-g<=24&&(b=k.id)}),a(k=>k===b?k:b)},v=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(h)};return h(),p.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",v),()=>{m&&cancelAnimationFrame(m),p.removeEventListener("scroll",v),window.removeEventListener("resize",v)}},[c]),{mobileNavOpen:t,setMobileNavOpen:n,activeNavId:r,setActiveNavId:a,scrollContainerRef:i,tocGroups:l,tocItems:c,scrollToSection:d,stepSection:f}},Sz=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=y.useState({uploading:!1,message:null,url:null}),[c,d]=y.useState("idle"),f=()=>{const p=new Set;let m=null,h=null;e.forEach(j=>{const M=j.details;if(!M)return;const T=M.timeStartStd||M.timeStart||M.uploadTime||j.uploadTime,R=M.timeEndStd||M.timeEnd||M.uploadTime||j.uploadTime,P=T?new Date(T):null,_=R?new Date(R):null;P&&!Number.isNaN(P.getTime())&&(!m||P<m)&&(m=P),_&&!Number.isNaN(_.getTime())&&(!h||_>h)&&(h=_),(M.players||[]).forEach(E=>{if(!(E!=null&&E.notInSquad)&&E!=null&&E.hasCommanderTag){const G=(E==null?void 0:E.name)||(E==null?void 0:E.account)||"Unknown";p.add(G)}})});const v=Array.from(p).sort((j,M)=>j.localeCompare(M)),x=m||new Date,g=h||x,b=x.toISOString(),k=g.toISOString(),S=`${x.toLocaleString()} - ${g.toLocaleString()}`,C=j=>String(j).padStart(2,"0");return{id:`${x.getFullYear()}${C(x.getMonth()+1)}${C(x.getDate())}-${C(x.getHours())}${C(x.getMinutes())}${C(x.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:v.length?v.join(", "):"Unknown Commander",commanders:v,dateStart:b,dateEnd:k,dateLabel:S,generatedAt:new Date().toISOString()}};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const p=f();await o({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(i||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const m=f(),h=await window.electronAPI.mockWebReport({meta:m,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}});h!=null&&h.success?l({uploading:!1,message:"Local report ready.",url:h.url||null}):l({uploading:!1,message:(h==null?void 0:h.error)||"Local report failed.",url:null})}catch(m){l({uploading:!1,message:(m==null?void 0:m.message)||"Local report failed.",url:null})}}}}};function Nz(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const jz=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function rl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let bd=null;function oO(e={}){return bd||(e.includeStyleProperties?(bd=e.includeStyleProperties,bd):(bd=rl(window.getComputedStyle(document.documentElement)),bd))}function Oh(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Cz(e){const t=Oh(e,"border-left-width"),n=Oh(e,"border-right-width");return e.clientWidth+t+n}function Mz(e){const t=Oh(e,"border-top-width"),n=Oh(e,"border-bottom-width");return e.clientHeight+t+n}function sO(e,t={}){const n=t.width||Cz(e),r=t.height||Mz(e);return{width:n,height:r}}function Az(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ui=16384;function Pz(e){(e.width>ui||e.height>ui)&&(e.width>ui&&e.height>ui?e.width>e.height?(e.height*=ui/e.width,e.width=ui):(e.width*=ui/e.height,e.height=ui):e.width>ui?(e.height*=ui/e.width,e.width=ui):(e.width*=ui/e.height,e.height=ui))}function Dh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Ez(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Tz(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),Ez(a)}const ni=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ni(n,t)};function Oz(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Dz(e,t){return oO(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function Iz(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?Oz(n):Dz(n,r);return document.createTextNode(`${a}{${i}}`)}function zN(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=jz();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(Iz(o,n,a,r)),t.appendChild(s)}function _z(e,t,n){zN(e,t,":before",n),zN(e,t,":after",n)}const UN="application/font-woff",VN="image/jpeg",Fz={woff:UN,woff2:UN,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:VN,jpeg:VN,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Lz(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function k1(e){const t=Lz(e).toLowerCase();return Fz[t]||""}function Rz(e){return e.split(/,/)[1]}function qb(e){return e.search(/^(data:)/)!==-1}function $z(e,t){return`data:${t};base64,${e}`}async function lO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Qy={};function Bz(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function S1(e,t,n){const r=Bz(e,t,n.includeQueryParams);if(Qy[r]!=null)return Qy[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await lO(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),Rz(s)));a=$z(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Qy[r]=a,a}async function zz(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Dh(t)}async function Uz(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Dh(s)}const n=e.poster,r=k1(n),a=await S1(n,r,t);return Dh(a)}async function Vz(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await i0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Wz(e,t){return ni(e,HTMLCanvasElement)?zz(e):ni(e,HTMLVideoElement)?Uz(e,t):ni(e,HTMLIFrameElement)?Vz(e,t):e.cloneNode(cO(e))}const Hz=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",cO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function qz(e,t,n){var r,a;if(cO(t))return t;let i=[];return Hz(e)&&e.assignedNodes?i=rl(e.assignedNodes()):ni(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=rl(e.contentDocument.body.childNodes):i=rl(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ni(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>i0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Kz(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):oO(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ni(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function Yz(e,t){ni(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ni(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Gz(e,t){if(ni(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Xz(e,t,n){return ni(t,Element)&&(Kz(e,t,n),_z(e,t,n),Yz(e,t),Gz(e,t)),t}async function Qz(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await i0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function i0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>Wz(r,t)).then(r=>qz(e,r,t)).then(r=>Xz(e,r,t)).then(r=>Qz(r,t))}const uO=/url\((['"]?)([^'"]+?)\1\)/g,Zz=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Jz=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function e8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function t8(e){const t=[];return e.replace(uO,(n,r,a)=>(t.push(a),n)),t.filter(n=>!qb(n))}async function n8(e,t,n,r,a){try{const i=n?Nz(t,n):t,o=k1(t);let s;return a||(s=await S1(i,o,r)),e.replace(e8(t),`$1${s}$3`)}catch{}return e}function r8(e,{preferredFontFormat:t}){return t?e.replace(Jz,n=>{for(;;){const[r,,a]=Zz.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function dO(e){return e.search(uO)!==-1}async function fO(e,t,n){if(!dO(e))return e;const r=r8(e,n);return t8(r).reduce((a,i)=>a.then(o=>n8(o,i,t,n)),Promise.resolve(r))}async function zc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await fO(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function a8(e,t){await zc("background",e,t)||await zc("background-image",e,t),await zc("mask",e,t)||await zc("-webkit-mask",e,t)||await zc("mask-image",e,t)||await zc("-webkit-mask-image",e,t)}async function i8(e,t){const n=ni(e,HTMLImageElement);if(!(n&&!qb(e.src))&&!(ni(e,SVGImageElement)&&!qb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await S1(r,k1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function o8(e,t){const n=rl(e.childNodes).map(r=>pO(r,t));await Promise.all(n).then(()=>e)}async function pO(e,t){ni(e,Element)&&(await a8(e,t),await i8(e,t),await o8(e,t))}function s8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const WN={};async function HN(e){let t=WN[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},WN[e]=t,t}async function qN(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),lO(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function KN(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function l8(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{rl(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=HN(l).then(d=>qN(d,t)).then(d=>KN(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(HN(a.href).then(s=>qN(s,t)).then(s=>KN(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{rl(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function c8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>dO(t.style.getPropertyValue("src")))}async function u8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=rl(e.ownerDocument.styleSheets),r=await l8(n,t);return c8(r)}function mO(e){return e.trim().replace(/["']/g,"")}function d8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(mO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function f8(e,t){const n=await u8(e,t),r=d8(e);return(await Promise.all(n.filter(a=>r.has(mO(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return fO(a.cssText,i,t)}))).join(`
`)}async function p8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await f8(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function m8(e,t={}){const{width:n,height:r}=sO(e,t),a=await i0(e,t,!0);return await p8(a,t),await pO(a,t),s8(a,t),await Tz(a,n,r)}async function h8(e,t={}){const{width:n,height:r}=sO(e,t),a=await m8(e,t),i=await Dh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||Az(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||Pz(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function g8(e,t={}){return(await h8(e,t)).toDataURL()}const y8=e=>{const[t,n]=y.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await c(h);if(!v)return;const x=p.src,g=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,x=!1;for(const b of h){const k=b[1];if(!k)continue;const S=await c(k);S&&(v=v.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>g8(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},YN=["selfBuffs","groupBuffs","squadBuffs"],Vo=(e,t,n=0)=>t?e/t:n,GN=e=>e!=null&&e.classification?e.classification==="Boon":!0,hO=e=>`b${e}`,v8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},gO=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},b8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Vo(i-a,a,1):t==="squadBuffs"?p=Vo(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Vo(d,r):Vo(d,r)*100,h=n?Vo(f,r):Vo(f,r)*100;else{const v=Vo(d,r)/(p||1),x=Vo(f,r)/(p||1);m=n?v:v*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},yO=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=b8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Vo(a,o):i},x8=(e,t,n,r,a)=>{const i=yO(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},w8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,v=v8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+v),x.activeTimeMs+=v,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,YN.forEach(g=>{(d[g]||[]).forEach(b=>{var k,S,C,j;if(typeof(b==null?void 0:b.id)!="number")return;const M=hO(b.id),T=o[M];if(!GN(T))return;const R=(T==null?void 0:T.stacking)??!1,P=((S=(k=b.buffData)==null?void 0:k[0])==null?void 0:S.generation)??0,_=((j=(C=b.buffData)==null?void 0:C[0])==null?void 0:j.wasted)??0,{generationMs:E,wastedMs:G}=gO(g,R,P,_,i,h,l);!E&&!G||(t.has(M)||t.set(M,T||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=E,x.boons[M][g].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(r=>GN(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!YN.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},XN=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[hO(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return gO(t,m,h,v,r,a,i)},k8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},S8={methods:k8},N8=S8,N1="count",j8=e=>(e||0)/1e3,C8=(e,t)=>{var n;if(!e)return 0;const r=(n=N8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},vO=(e,t,n)=>n==="duration"?j8(t):n==="tiered"?C8(e,t):e;function M8(e,t=N1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return vO(a,i,t)}function A8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=XN(s,"selfBuffs",1122,n,l,i,r),d=XN(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function P8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function E8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function T8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const O8=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},D8=(e,t=N1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return vO(a,i,t)},I8=e=>P8(e),_8=e=>T8(e),F8=e=>E8(e),L8=(e,t=N1)=>M8(e,t),R8=(e,t)=>A8(e,t),$8="count",bO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Kb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},B8={uploading:!1,message:null,url:null,buildStatus:"idle"},QN=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),xO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},um=e=>{if(e)return xO[e]},jf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=QN.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=QN.get(a);if(i)return i}return null},qc=e=>jf(e),wO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=jf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(xO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Km=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=jf(a);if(i)return i}return e?jf(e):null},z8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},U8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},V8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},W8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||z8,o=wO(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const k=Km(g,x.id,a);if(!k)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,j=o.get(k)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||k:g,T=b||(S==null?void 0:S.icon),R=Number(x.connectedHits??0),P=Number(x.hits??0),_=R>0?R:P,E=Number(x.totalDamage??0);if(!Number.isFinite(_)&&!Number.isFinite(E))return;const G=l[k]||{name:k,icon:j,applications:0,damage:0};G.applications+=Number.isFinite(_)?_:0,G.damage+=Number.isFinite(E)?E:0,!G.icon&&j&&(G.icon=j),l[k]=G;const X=s[h][k]||{icon:j,applications:0,damage:0,skills:{}};X.applications+=Number.isFinite(_)?_:0,X.damage+=Number.isFinite(E)?E:0;const re=X.skills[M]||{name:M,hits:0,damage:0,icon:T};re.hits+=Number.isFinite(_)?_:0,re.damage+=Number.isFinite(E)?E:0,!re.icon&&T&&(re.icon=T),X.skills[M]=re,!X.icon&&j&&(X.icon=j),s[h][k]=X})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const x=a==null?void 0:a[`b${v}`],g=jf(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const k=h.statesPerSource||{};p+=1,Object.entries(k).forEach(([S,C])=>{var j;const M=c.get(S);if(!M)return;f+=1;const T=U8(C),R=V8(C);d+=T;const P=((j=s[M])==null?void 0:j[b])||{applications:0,damage:0,skills:{}};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+T,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+R,s[M]=s[M]||{},s[M][b]=P;const _=l[b]||{name:b,applications:0,damage:0};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+T,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+R,l[b]=_})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Cf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},H8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ec(e){return Cf[e]||Cf.Unknown}function q8(e){return e?H8[e]||e:"Unknown"}function Hl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Cf[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=q8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const K8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Ya=(e,t)=>K8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Zy=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=(()=>{const f=e.filter(p=>p.details&&p.details.players&&p.details.players.length>0);return console.log("[useStatsAggregation] Filtering logs:",{total:e.length,passed:f.length,statuses:e.map(p=>p.status),hasDetails:e.map(p=>!!p.details)}),f})(),o=r||Kb,s=n||bO,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=g=>Array.isArray(g)&&g.some(b=>b&&Number(b.count)>0),h=new Map,v=new Map;e.forEach(g=>{var b;const k=(g==null?void 0:g.filePath)||(g==null?void 0:g.id);k&&h.set(String(k),g);const S=(g==null?void 0:g.permalink)||((b=g==null?void 0:g.details)==null?void 0:b.permalink);typeof S=="string"&&S.trim()&&v.set(S.trim(),g)});const x=p.map(g=>{var b;if(!g||typeof g!="object")return g;const k=g.id?String(g.id):"",S=typeof g.permalink=="string"?g.permalink.trim():"",C=(k?h.get(k):void 0)||(S?v.get(S):void 0);if(!C)return g;let j=g;if(Number(g.timestamp)<=0){const T=Ya(C==null?void 0:C.details,C);T&&(j={...j,timestamp:T})}const M=(b=C==null?void 0:C.details)==null?void 0:b.teamBreakdown;return m(M)&&(j={...j,teamBreakdown:M}),j});return{...f,fightBreakdown:x}},c=(()=>{if(t)return l(t);const f=a||$8,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let v=0,x=0,g=0,b=0,k=0,S=0,C=0,j=0;const M=O=>{const V=((O==null?void 0:O.players)||[]).filter(De=>!De.notInSquad);let ne=0,je=0,Z=0,Se=0;return V.forEach(De=>{var ut;const wt=(ut=De.defenses)==null?void 0:ut[0];if(!wt)return;const ht=Number(wt.downCount||0),zt=Number(wt.deadCount||0);ne+=ht+zt,Z+=zt}),V.forEach(De=>{!De.statsTargets||De.statsTargets.length===0||De.statsTargets.forEach(ut=>{const wt=ut==null?void 0:ut[0];if(!wt)return;const ht=Number(wt.downed||0),zt=Number(wt.killed||0);je+=ht+zt,Se+=zt})}),{squadDownsDeaths:ne,enemyDownsDeaths:je,squadDeaths:Z,enemyDeaths:Se}},T=O=>{const{squadDownsDeaths:V,enemyDownsDeaths:ne}=M(O);return V>0||ne>0?ne>V:typeof(O==null?void 0:O.success)=="boolean"?O.success:!1},R=new Map,P=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),_={},E={},G=new Map,X={},re={},he={},Y=new Map,I=new Map,ee=new Set(Object.keys(Cf)),w=Object.keys(Cf).filter(O=>O&&O!=="Unknown").sort((O,V)=>V.length-O.length),$=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],A=O=>{if(!O)return"Unknown";const V=String(O).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ee.has(V))return V;const ne=V.toLowerCase();for(const je of w)if(ne.includes(je.toLowerCase()))return je;return $.find(je=>ne.includes(je.toLowerCase()))||V||"Unknown"},N=O=>O!=null&&O.classification?O.classification==="Boon":!0,B=new Map,K=new Map,U=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),W=O=>{const V=Number(O);return Number.isFinite(V)?V:0},Q=O=>{const V=String(O).split("|"),ne=V[0]||"Unknown",je=A(V[1]||"Unknown"),Z=V[2]||ne||"Unknown";return{name:ne,profession:je,account:Z}},D=(O,V,ne)=>{let je=O.get(V);return je?ne.profession&&!je.professionList.includes(ne.profession)&&je.professionList.push(ne.profession):(je={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:U()},O.set(V,je)),je},J=(O,V,ne)=>{let je=O.get(V);return je?ne.profession&&!je.professionList.includes(ne.profession)&&je.professionList.push(ne.profession):(je={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:U(),minion:ne.minion},O.set(V,je)),je},fe=(O,V)=>{O.totalHits+=W((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),O.blocked+=W(V==null?void 0:V.blocked),O.evaded+=W(V==null?void 0:V.evaded),O.glanced+=W(V==null?void 0:V.glanced),O.missed+=W(V==null?void 0:V.missed),O.invulned+=W(V==null?void 0:V.invulned),O.interrupted+=W(V==null?void 0:V.interrupted),O.totalMitigation+=W((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),O.minMitigation+=W((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},F=O=>Object.values(O).some(V=>V>0);console.log("[useStatsAggregation] Starting aggregation loop",{validLogsCount:i.length});const te=(O,V,ne)=>{var je,Z,Se,De;const ut=`s${O}`;if((je=V==null?void 0:V[ut])!=null&&je.name)return V[ut].name;if((Z=V==null?void 0:V[String(O)])!=null&&Z.name)return V[String(O)].name;const wt=`b${O}`;return(Se=ne==null?void 0:ne[wt])!=null&&Se.name?ne[wt].name:(De=ne==null?void 0:ne[String(O)])!=null&&De.name?ne[String(O)].name:`Unknown Skill ${O}`},z=new Map,L=O=>{const V=z.get(O);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const ne=V.connectedHits||0,je=ne>0?V.totalDamage/ne:0,Z=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:je,min:Z,hits:ne}},oe="Ashtonlightstone.9145",ye="Illusionary Warden",Je=[],le=[],Ke=[],Ae=[],ct=new Map,en=new Map,Pn=(O,V,ne)=>{const je=O.get(V)||U();return je.totalHits+=ne.totalHits,je.blocked+=ne.blocked,je.evaded+=ne.evaded,je.glanced+=ne.glanced,je.missed+=ne.missed,je.invulned+=ne.invulned,je.interrupted+=ne.interrupted,O.set(V,je),je};i.forEach(O=>{const V=O.details;V&&(V.targets||[]).forEach(ne=>{const je=(ne==null?void 0:ne.totalDamageDist)||[],Z=Array.isArray(je)?je[0]:null;Z==null||Z.forEach(Se=>{if(!(Se!=null&&Se.id))return;const De=Number(Se.id),ut=z.get(De)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ut.totalDamage+=Number(Se.totalDamage||0),ut.connectedHits+=Number(Se.connectedHits||0);const wt=Number.isFinite(Number(Se.min))?Number(Se.min):0;ut.minTotal+=wt,ut.minCount+=1,z.set(De,ut)})})}),i.forEach((O,V)=>{var ne,je;const Z=O.details;if(!Z)return;const Se=Z.players;console.log(`[useStatsAggregation] Processing log ${V}:`,{playerCount:Se==null?void 0:Se.length,hasTargets:!!Z.targets,firstPlayer:Se!=null&&Se[0]?{account:Se[0].account,notInSquad:Se[0].notInSquad}:"none"});const De=Z.targets||[],ut=Z.skillMap||{},wt=Z.buffMap||{},ht=new Map,zt=new Map;De.forEach(ae=>{const _e=(ae==null?void 0:ae.totalDamageDist)||[],Qe=Array.isArray(_e)?_e[0]:null;Qe==null||Qe.forEach(it=>{var Pe;if(!(it!=null&&it.id))return;const Ze=Number(it.id),yt=((Pe=ut==null?void 0:ut[Ze])==null?void 0:Pe.name)||it.name||it.skillName||String(Ze),ze=ht.get(Ze)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ze.totalDamage+=Number(it.totalDamage||0),ze.connectedHits+=Number(it.connectedHits||0);const $t=Number.isFinite(Number(it.min))?Number(it.min):0;ze.minTotal+=$t,ze.minCount+=1,ht.set(Ze,ze);const Nt=zt.get(yt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Nt.totalDamage+=Number(it.totalDamage||0),Nt.connectedHits+=Number(it.connectedHits||0);const _t=Number.isFinite(Number(it.min))?Number(it.min):0;Nt.minTotal+=_t,Nt.minCount+=1,zt.set(yt,Nt)})});const Nn=ae=>{const _e=ht.get(ae);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Qe=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,it=_e.minCount>0?_e.minTotal/_e.minCount:Qe;return{avg:Qe||1,min:it||1}},Dn=ae=>{const _e=zt.get(ae);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Qe=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,it=_e.minCount>0?_e.minTotal/_e.minCount:Qe;return{avg:Qe||1,min:it||1}},Xe=Z.combatReplayMetaData||{},Ge=(Xe==null?void 0:Xe.inchToPixel)>0?Xe.inchToPixel:1,mt=(Xe==null?void 0:Xe.pollingRate)>0?Xe.pollingRate:1,Ut=5e3,Gt=ae=>Array.isArray(ae)?ae.map(_e=>Array.isArray(_e)?[Number(_e[0]),Number(_e[1])]:null).filter(_e=>!!_e&&Number.isFinite(_e[0])):[];let ve=[],Ne=Z.durationMS||0,we=!1;const Be=Se.find(ae=>(ae==null?void 0:ae.hasCommanderTag)&&!(ae!=null&&ae.notInSquad));(ne=Be==null?void 0:Be.combatReplayData)!=null&&ne.positions&&(ve=Be.combatReplayData.positions,Gt(Be.combatReplayData.dead).forEach(([ae])=>{ae>0&&(we=!0,Ne=Math.min(Ne,ae))}));const pe=ae=>{var _e;const Qe=(_e=ae.statsAll)==null?void 0:_e[0];if((Qe==null?void 0:Qe.distToCom)!==void 0&&(Qe==null?void 0:Qe.distToCom)!=="Infinity")return Math.round(Number(Qe.distToCom));if((Qe==null?void 0:Qe.stackDist)!==void 0)return Math.round(Number(Qe.stackDist))||0;if(ae.hasCommanderTag)return 0;const it=ae.combatReplayData;if(!(it!=null&&it.positions)||!ve.length)return 0;const Pe=it.positions,Ze=Gt(it.dead),yt=Gt(it.down),ze=Math.floor((it.start||0)/mt);let $t=0;if(Ze.length&&yt.length)for(const[Nt]of Ze){if(Nt<0)continue;const _t=Math.max(0,Math.floor(Nt/mt))-ze;for(const[tt,Ht]of yt){if(Nt!==Ht)continue;const vt=we&&tt>Ne?Math.max(1,Math.floor(Ne/mt)):_t,qt=Math.max(0,Math.min(vt,Pe.length,ve.length));if(qt<=0)continue;let Lt=0;for(let At=0;At<qt;At++){const[Oe,ge]=Pe[At],[bt,Mt]=ve[At];Lt+=Math.hypot(Oe-bt,ge-Mt)}$t=Math.round(Lt/qt/Ge)}}return $t},Me=Se.filter(ae=>!ae.notInSquad);g+=Me.length,b+=De.filter(ae=>!ae.isFake).length,R8(Se,{durationMS:Z.durationMS,buffMap:Z.buffMap});const{squadDeaths:Ie,enemyDeaths:kt}=M(Z);k+=Ie,S+=kt,j+=Ie,C+=kt,T(Z)?v++:x++;const We=Z.skillMap?Number((je=Object.keys(Z.skillMap).find(ae=>{var _e,Qe;return((Qe=(_e=Z.skillMap)==null?void 0:_e[ae])==null?void 0:Qe.name)==="Battle Standard"}))==null?void 0:je.replace(/^s/,"")):null;Se.forEach((ae,_e)=>{var Qe,it,Pe,Ze,yt,ze,$t,Nt,_t,tt,Ht,vt,qt;if(ae.notInSquad)return;const Lt=ae.account||"Unknown",At=Lt!=="Unknown"?Lt:ae.name||"Unknown",Oe=ae.name||"Unknown";R.has(At)||R.set(At,{name:Oe,account:At,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:ae.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ge=R.get(At);if(ae.hasCommanderTag&&(ge.isCommander=!0),Oe!=="Unknown"&&ge.characterNames.add(String(Oe)),ae.profession&&ae.profession!=="Unknown"){ge.profession=ae.profession,ge.professions.add(ae.profession);const Ee=Array.isArray(ae.activeTimes)&&typeof ae.activeTimes[0]=="number"?ae.activeTimes[0]:Z.durationMS||0;ge.professionTimeMs[ae.profession]=(ge.professionTimeMs[ae.profession]||0)+Ee}ge.logsJoined++,ge.downContrib+=I8(ae),ge.cleanses+=O8(ae),ge.strips+=D8(ae,f),ge.healing+=_8(ae),ge.barrier+=F8(ae),ge.cc+=L8(ae,f),ge.stab+=ae.stabGeneration||0;const bt=pe(ae);bt<=Ut&&(ge.totalDist+=bt,ge.distCount++),(Qe=ae.defenses)!=null&&Qe[0]&&(ge.dodges+=ae.defenses[0].dodgeCount||0,ge.downs+=ae.defenses[0].downCount||0,ge.deaths+=ae.defenses[0].deadCount||0),Z.durationMS&&(ge.totalFightMs+=Z.durationMS);const Mt=Array.isArray(ae.activeTimes)&&typeof ae.activeTimes[0]=="number"?ae.activeTimes[0]:Z.durationMS||0;ge.squadActiveMs+=Mt;const Vt=Ya(Z,O),vn=Number((Z==null?void 0:Z.durationMS)||0);Vt>0&&((ge.firstSeenFightTs<=0||Vt<ge.firstSeenFightTs)&&(ge.firstSeenFightTs=Vt),ge.lastSeenFightTs<=0||Vt>ge.lastSeenFightTs?(ge.lastSeenFightTs=Vt,ge.lastSeenFightDurationMs=vn):Vt===ge.lastSeenFightTs&&vn>ge.lastSeenFightDurationMs&&(ge.lastSeenFightDurationMs=vn)),ge.defenseActiveMs+=Mt,ge.supportActiveMs+=Mt,ge.healingActiveMs+=Mt,Array.isArray(ae.buffUptimes)&&ae.buffUptimes.length>0&&ae.buffUptimes.forEach(Ee=>{var Ve,dt,Bt,bn,wn,Ln;if(typeof(Ee==null?void 0:Ee.id)!="number")return;const jn=`b${Ee.id}`,ln=((Ve=Z.buffMap)==null?void 0:Ve[jn])||((dt=Z.buffMap)==null?void 0:dt[String(Ee.id)]);if(!ln||N(ln))return;const la=Number(((bn=(Bt=Ee.buffData)==null?void 0:Bt[0])==null?void 0:bn.uptime)??0),ci=Number(((Ln=(wn=Ee.buffData)==null?void 0:wn[0])==null?void 0:Ln.presence)??0);if((!Number.isFinite(la)||la<=0)&&(!Number.isFinite(ci)||ci<=0))return;const Ia=(ln==null?void 0:ln.stacking)??!1,Oc=(Ia?Number.isFinite(la)?la:0:Number.isFinite(la)?la/100:0)*Mt,Dc=Ia?ci:la,Ci=Math.min(Math.max(Number.isFinite(Dc)?Dc:0,0),100)/100*Mt,zp=Number.isFinite(Oc)&&Oc>0,xa=Number.isFinite(Ci)&&Ci>0;if(!zp&&!xa)return;const Rn=qc(ln==null?void 0:ln.name);if(Rn&&GB.has(Rn)&&(!(ln!=null&&ln.classification)||ln.classification==="Condition")){const Ic=Oc/1e3,ua=ln==null?void 0:ln.icon,zo=X[Rn]||{name:Rn,icon:ua,applications:0,damage:0};zo.applicationsFromUptime=(zo.applicationsFromUptime||0)+Ic,!zo.icon&&ua&&(zo.icon=ua),X[Rn]=zo;const jl=ge.outgoingConditions[Rn]||{applications:0,damage:0,skills:{},icon:ua};jl.applicationsFromUptime=(jl.applicationsFromUptime||0)+Ic,!jl.icon&&ua&&(jl.icon=ua),ge.outgoingConditions[Rn]=jl;const Cl=re[Rn]||{name:Rn,icon:ua,applications:0,damage:0};Cl.applicationsFromUptime=(Cl.applicationsFromUptime||0)+Ic,!Cl.icon&&ua&&(Cl.icon=ua),re[Rn]=Cl;const wa=ge.incomingConditions[Rn]||{applications:0,damage:0,skills:{},icon:ua};wa.applicationsFromUptime=(wa.applicationsFromUptime||0)+Ic,!wa.icon&&ua&&(wa.icon=ua),ge.incomingConditions[Rn]=wa}Y.has(jn)||Y.set(jn,{name:ln==null?void 0:ln.name,stacking:Ia,icon:ln==null?void 0:ln.icon}),I.has(jn)||I.set(jn,new Map);const Ps=I.get(jn),sd=ge.account||ae.account||ae.name||"Unknown";let Mi=Ps.get(sd);Mi||(Mi={account:sd,profession:ge.profession||ae.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Ps.set(sd,Mi));const ca=ae.profession||ge.profession;ca&&ca!=="Unknown"&&(Mi.professions.add(ca),Mi.professionTimeMs[ca]=(Mi.professionTimeMs[ca]||0)+Mt,Mi.profession=ca),Mi.totalMs+=zp?Oc:0,Mi.uptimeMs+=xa?Ci:0,Mi.durationMs+=Mt}),(it=ae.defenses)!=null&&it[0]&&XT.forEach(Ee=>{const Ve=Number(ae.defenses[0][Ee.field]??0);Number.isFinite(Ve)&&(ge.defenseTotals[Ee.id]=(ge.defenseTotals[Ee.id]||0)+Ve)}),(Pe=ae.support)!=null&&Pe[0]&&QT.forEach(Ee=>{let Ve=Number(ae.support[0][Ee.field]??0);Number.isFinite(Ve)&&(P.has(Ee.field)&&Ve>999999&&(Ve=0),ge.supportTotals[Ee.id]=(ge.supportTotals[Ee.id]||0)+Ve)});const jr=(Ee,Ve)=>{Number.isFinite(Ve)&&(ge.healingTotals[Ee]=(ge.healingTotals[Ee]||0)+Ve)},Jr=(Ee,Ve)=>Array.isArray(Ee)?Ee.reduce((dt,Bt)=>dt+Number((Bt==null?void 0:Bt[Ve])??0),0):0,ea=(Ee,Ve,dt)=>{if(!Number.isFinite(dt)||dt<=0)return;const Bt=Se[Ve],bn=Ve===_e,wn=Bt==null?void 0:Bt.notInSquad,Ln=!wn,jn=Ln&&(Bt==null?void 0:Bt.group)!=null&&Bt.group===ae.group;jr(Ee,dt),Ln&&jr(`squad${Ee[0].toUpperCase()}${Ee.slice(1)}`,dt),jn&&jr(`group${Ee[0].toUpperCase()}${Ee.slice(1)}`,dt),bn&&jr(`self${Ee[0].toUpperCase()}${Ee.slice(1)}`,dt),wn&&jr(`offSquad${Ee[0].toUpperCase()}${Ee.slice(1)}`,dt)};if(Array.isArray(ae.rotation)){let Ee=0;ae.rotation.forEach(Ve=>{var dt;if(!(Ve!=null&&Ve.id)||!ez(Ve.id,Z.skillMap))return;const Bt=((dt=Ve.skills)==null?void 0:dt.length)||0;Bt>0&&(Ee+=Bt,jr(`resUtility_s${Ve.id}`,Bt))}),Ee>0&&jr("resUtility",Ee)}const Yi=(Ze=ae.extHealingStats)==null?void 0:Ze.outgoingHealingAllies;Array.isArray(Yi)&&Yi.forEach((Ee,Ve)=>{const dt=Jr(Ee,"healing"),Bt=Jr(Ee,"downedHealing");ea("healing",Ve,dt),ea("downedHealing",Ve,Bt)});const Pc=(yt=ae.extBarrierStats)==null?void 0:yt.outgoingBarrierAllies;Array.isArray(Pc)&&Pc.forEach((Ee,Ve)=>{const dt=Jr(Ee,"barrier");ea("barrier",Ve,dt)});const As=(ze=ae.statsAll)==null?void 0:ze[0],ba=($t=ae.dpsAll)==null?void 0:$t[0],Ec=(Nt=ae.support)==null?void 0:Nt[0];if(GT.forEach(Ee=>{if(Ee.id==="downContributionPercent"||!Ee.field)return;let Ve=0,dt=0;Ee.source==="dpsAll"&&ba?Ve=Number(ba[Ee.field]??0):Ee.source==="statsAll"&&As?(Ve=Number(As[Ee.field]??0),dt=Number(As[Ee.denomField||Ee.weightField||"connectedDamageCount"]??0)):Ee.source==="support"&&Ec?Ve=Number(Ec[Ee.field]??0):ae.statsTargets&&ae.statsTargets.forEach(Bt=>{Bt!=null&&Bt[0]&&(Ve+=Number(Bt[0][Ee.field]??0),dt+=Number(Bt[0][Ee.denomField||Ee.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ve)&&(ge.offenseTotals[Ee.id]=(ge.offenseTotals[Ee.id]||0)+Ve,Ee.isRate&&dt>0&&(ge.offenseRateWeights[Ee.id]=(ge.offenseRateWeights[Ee.id]||0)+dt))}),ae.targetDamageDist&&Number.isFinite(We)){const Ee=ae.targetDamageDist.flatMap(Ve=>Ve||[]).flatMap(Ve=>Ve||[]).reduce((Ve,dt)=>dt!=null&&dt.id&&dt.id===We?Ve+((dt==null?void 0:dt.connectedHits)||0):Ve,0);ge.offenseTotals.battleStandardHits=(ge.offenseTotals.battleStandardHits||0)+Ee}ge.revives+=((tt=(_t=ae.support)==null?void 0:_t[0])==null?void 0:tt.resurrects)||0,ba&&(ge.damage+=ba.damage||0,ge.dps+=ba.dps||0);const Bp=Ee=>{var Ve,dt,Bt,bn;let wn=`Skill ${Ee.id}`;const Ln=((Ve=Z.skillMap)==null?void 0:Ve[`s${Ee.id}`])||((dt=Z.skillMap)==null?void 0:dt[`${Ee.id}`]);let jn=Ln==null?void 0:Ln.icon;if(Ln!=null&&Ln.name&&(wn=Ln.name),wn.startsWith("Skill ")){const ln=Km(wn,Ee.id,Z.buffMap);ln&&(wn=ln,jn=((bn=(Bt=Z.buffMap)==null?void 0:Bt[`b${Ee.id}`])==null?void 0:bn.icon)||jn)}return{name:wn,icon:jn}},Nl=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ve,icon:dt}=Bp(Ee);_[Ee.id]||(_[Ee.id]={name:Ve,icon:dt,damage:0,hits:0,downContribution:0}),_[Ee.id].name.startsWith("Skill ")&&!Ve.startsWith("Skill ")&&(_[Ee.id].name=Ve),!_[Ee.id].icon&&dt&&(_[Ee.id].icon=dt),_[Ee.id].damage+=Ee.totalDamage,_[Ee.id].hits+=Ee.connectedHits,_[Ee.id].downContribution+=Number(Ee.downContribution||0)},li=ae.account||ae.name||"Unknown",bo=ae.profession||"Unknown",od=`${li}|${bo}`;let xo=G.get(od);xo||(xo={key:od,account:li,displayName:li,profession:bo,professionList:[bo],totalFightMs:0,skills:new Map},G.set(od,xo)),xo.professionList.includes(bo)||xo.professionList.push(bo),xo.totalFightMs+=Z.durationMS||0;const Tc=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ve,icon:dt}=Bp(Ee),Bt=`s${Ee.id}`;let bn=xo.skills.get(Bt);bn||(bn={id:Bt,name:Ve,icon:dt,damage:0,downContribution:0},xo.skills.set(Bt,bn)),bn.name.startsWith("Skill ")&&!Ve.startsWith("Skill ")&&(bn.name=Ve),!bn.icon&&dt&&(bn.icon=dt),bn.damage+=Number(Ee.totalDamage||0),bn.downContribution+=Number(Ee.downContribution||0)};if(p==="total")(Ht=ae.totalDamageDist)==null||Ht.forEach(Ee=>{Ee==null||Ee.forEach(Ve=>{Nl(Ve),Tc(Ve)})});else{const Ee=new Map;(vt=ae.targetDamageDist)==null||vt.forEach(Ve=>{Ve==null||Ve.forEach(dt=>{dt==null||dt.forEach(Bt=>{const bn=Number(Bt==null?void 0:Bt.id);if(Number.isFinite(bn)){const wn=Ee.get(bn)||{damage:0,hits:0,downContribution:0};wn.damage+=Number((Bt==null?void 0:Bt.totalDamage)||0),wn.hits+=Number((Bt==null?void 0:Bt.connectedHits)||0),wn.downContribution+=Number((Bt==null?void 0:Bt.downContribution)||0),Ee.set(bn,wn)}Nl(Bt),Tc(Bt)})})}),!(Z!=null&&Z.detailedWvW)&&((qt=ae.totalDamageDist)==null||qt.forEach(Ve=>{Ve==null||Ve.forEach(dt=>{const Bt=Number(dt==null?void 0:dt.id);if(!Number.isFinite(Bt))return;const bn=Ee.get(Bt);if(!bn){Nl(dt),Tc(dt);return}const wn=Number((dt==null?void 0:dt.totalDamage)||0),Ln=Number((dt==null?void 0:dt.connectedHits)||0),jn=Number((dt==null?void 0:dt.downContribution)||0),ln=wn-Number(bn.damage||0),la=Ln-Number(bn.hits||0),ci=jn-Number(bn.downContribution||0);if(ln<=0&&la<=0&&ci<=0)return;const Ia={...dt,totalDamage:Math.max(0,ln),connectedHits:Math.max(0,la),downContribution:Math.max(0,ci)};Nl(Ia),Tc(Ia)})}))}ae.totalDamageTaken&&ae.totalDamageTaken.forEach(Ee=>{Ee==null||Ee.forEach(Ve=>{var dt,Bt,bn,wn;if(!(Ve!=null&&Ve.id))return;let Ln=`Skill ${Ve.id}`;const jn=((dt=Z.skillMap)==null?void 0:dt[`s${Ve.id}`])||((Bt=Z.skillMap)==null?void 0:Bt[`${Ve.id}`]);let ln=jn==null?void 0:jn.icon;if(jn!=null&&jn.name&&(Ln=jn.name),Ln.startsWith("Skill ")){const la=Km(Ln,Ve.id,Z.buffMap);la&&(Ln=la,ln=((wn=(bn=Z.buffMap)==null?void 0:bn[`b${Ve.id}`])==null?void 0:wn.icon)||ln)}E[Ve.id]||(E[Ve.id]={name:Ln,icon:ln,damage:0,hits:0}),(!E[Ve.id].name.startsWith("Skill ")||Ln.startsWith("Skill "))&&(E[Ve.id].name=Ln),!E[Ve.id].icon&&ln&&(E[Ve.id].icon=ln),E[Ve.id].damage+=Ve.totalDamage,E[Ve.id].hits+=Ve.hits})})}),De.forEach(ae=>{if(ae!=null&&ae.isFake)return;const _e=A((ae==null?void 0:ae.profession)||(ae==null?void 0:ae.name)||(ae==null?void 0:ae.id));_e&&(he[_e]=(he[_e]||0)+1)});const rt=W8({players:Se,targets:De,skillMap:Z.skillMap,buffMap:Z.buffMap,getPlayerKey:ae=>ae.account&&ae.account!=="Unknown"?ae.account:ae.name||null}),Xt=wO(Z.buffMap);Object.entries(rt.playerConditions).forEach(([ae,_e])=>{const Qe=R.get(ae);Qe&&Object.entries(_e).forEach(([it,Pe])=>{const Ze=Qe.outgoingConditions[it]||{applications:0,damage:0,skills:{},icon:Pe.icon};Ze.applications+=Number(Pe.applications||0),Ze.damage+=Number(Pe.damage||0),Pe.applicationsFromBuffs&&(Ze.applicationsFromBuffs=(Ze.applicationsFromBuffs||0)+Pe.applicationsFromBuffs),Pe.applicationsFromBuffsActive&&(Ze.applicationsFromBuffsActive=(Ze.applicationsFromBuffsActive||0)+Pe.applicationsFromBuffsActive),Object.entries(Pe.skills||{}).forEach(([yt,ze])=>{const $t=Ze.skills[yt]||{name:ze.name,hits:0,damage:0,icon:ze.icon};$t.hits+=Number(ze.hits||0),$t.damage+=Number(ze.damage||0),!$t.icon&&ze.icon&&($t.icon=ze.icon),Ze.skills[yt]=$t}),!Ze.icon&&Pe.icon&&(Ze.icon=Pe.icon),Qe.outgoingConditions[it]=Ze})}),Object.entries(rt.summary).forEach(([ae,_e])=>{const Qe=X[ae]||{name:_e.name||ae,icon:_e.icon,applications:0,damage:0};Qe.applications+=Number(_e.applications||0),Qe.damage+=Number(_e.damage||0),_e.applicationsFromBuffs&&(Qe.applicationsFromBuffs=(Qe.applicationsFromBuffs||0)+_e.applicationsFromBuffs),_e.applicationsFromBuffsActive&&(Qe.applicationsFromBuffsActive=(Qe.applicationsFromBuffsActive||0)+_e.applicationsFromBuffsActive),!Qe.icon&&_e.icon&&(Qe.icon=_e.icon),X[ae]=Qe}),Me.forEach(ae=>{const _e=ae.account&&ae.account!=="Unknown"?ae.account:ae.name||"Unknown",Qe=R.get(_e);!Qe||!ae.totalDamageTaken||ae.totalDamageTaken.forEach(it=>it==null?void 0:it.forEach(Pe=>{var Ze,yt,ze,$t,Nt,_t;if(!(Pe!=null&&Pe.id))return;let tt=`Skill ${Pe.id}`;const Ht=((Ze=Z.skillMap)==null?void 0:Ze[`s${Pe.id}`])||((yt=Z.skillMap)==null?void 0:yt[`${Pe.id}`]);Ht!=null&&Ht.name&&(tt=Ht.name);const vt=Km(tt,Pe.id,Z.buffMap);if(!vt)return;const qt=($t=(ze=Z.buffMap)==null?void 0:ze[`b${Pe.id}`])==null?void 0:$t.name,Lt=Xt.get(vt)||((_t=(Nt=Z.buffMap)==null?void 0:Nt[`b${Pe.id}`])==null?void 0:_t.icon),At=(Ht==null?void 0:Ht.icon)||Lt;tt.startsWith("Skill ")&&(qt||vt)&&(tt=qt||vt);const Oe=Number(Pe.hits??0),ge=Number(Pe.totalDamage??0),bt=re[vt]||{name:vt,icon:Lt,applications:0,damage:0};bt.applications+=Number.isFinite(Oe)?Oe:0,bt.damage+=Number.isFinite(ge)?ge:0,!bt.icon&&Lt&&(bt.icon=Lt),re[vt]=bt;const Mt=Qe.incomingConditions[vt]||{applications:0,damage:0,skills:{},icon:Lt};Mt.applications+=Number.isFinite(Oe)?Oe:0,Mt.damage+=Number.isFinite(ge)?ge:0;const Vt=Mt.skills[tt]||{name:tt,hits:0,damage:0,icon:At};Vt.hits+=Number.isFinite(Oe)?Oe:0,Vt.damage+=Number.isFinite(ge)?ge:0,!Vt.icon&&At&&(Vt.icon=At),Mt.skills[tt]=Vt,!Mt.icon&&Lt&&(Mt.icon=Lt),Qe.incomingConditions[vt]=Mt}))});const yn=Z.player_damage_mitigation||Z.playerDamageMitigation,rn=yn&&typeof yn=="object"&&Object.keys(yn).length>0;rn&&Object.entries(yn).forEach(([ae,_e])=>{if(!_e||typeof _e!="object")return;const Qe=Q(ae),it=D(B,Qe.account,Qe);Object.values(_e).forEach(Pe=>{W((Pe==null?void 0:Pe.avoided_damage)??(Pe==null?void 0:Pe.avoidedDamage))<=0||fe(it.mitigationTotals,Pe)})});const gr=Z.player_minion_damage_mitigation||Z.playerMinionDamageMitigation,gt=gr&&typeof gr=="object"&&Object.keys(gr).length>0;gt&&Object.entries(gr).forEach(([ae,_e])=>{if(!_e||typeof _e!="object")return;const Qe=Q(ae);Object.entries(_e).forEach(([it,Pe])=>{if(!Pe||typeof Pe!="object")return;const Ze=`${Qe.account}::${it}`,yt=J(K,Ze,{...Qe,minion:String(it||"Unknown")});Object.values(Pe).forEach(ze=>{fe(yt.mitigationTotals,ze)})})}),(!rn||!gt)&&(rn||Me.forEach(ae=>{const _e=(ae==null?void 0:ae.totalDamageTaken)||[];if(!Array.isArray(_e)||_e.length===0)return;const Qe=ae.account||ae.name||"Unknown",it={account:Qe,name:ae.name||Qe,profession:A(ae.profession||"Unknown")};D(B,Qe,it);const Pe=Z.skillMap||{},Ze=Z.buffMap||{},yt=Array.isArray(_e)?_e[0]:null;if(yt==null||yt.forEach(ze=>{if(!(ze!=null&&ze.id))return;const $t=W(ze.blocked),Nt=W(ze.evaded),_t=W(ze.glance??ze.glanced),tt=W(ze.missed),Ht=W(ze.invulned),vt=W(ze.interrupted),qt=W(ze.hits??ze.connectedHits),Lt=Number(ze.id),At=te(Lt,Pe,Ze);if(Pn(ct,`${Qe}::${Lt}`,{totalHits:qt,blocked:$t,evaded:Nt,glanced:_t,missed:tt,invulned:Ht,interrupted:vt}),Qe===oe){const Oe=z.get(Lt),ge=L(Lt),bt=ge.hasSkill?ge.hits>0?ge.avg:0:1,Mt=ge.hasSkill?ge.min||0:1,Vt=ge.hits>0?_t*bt/2+($t+Nt+tt+Ht+vt)*bt:0,vn=ge.hits>0?_t*Mt/2+($t+Nt+tt+Ht+vt)*Mt:0;Ke.push({logId:O.filePath||O.id||V,skillId:ze.id,skillName:At,blocked:$t,evaded:Nt,glanced:_t,missed:tt,invulned:Ht,interrupted:vt,totalAvoids:$t+Nt+_t+tt+Ht+vt,avg:bt,min:Mt,enemyHits:(Oe==null?void 0:Oe.connectedHits)??0,enemyTotalDmg:(Oe==null?void 0:Oe.totalDamage)??0,avoidDmg:Vt,avoidMinDmg:vn})}}),Qe===oe){const ze=($t,Nt)=>{let _t=0,tt=0,Ht=0;if(!Array.isArray($t))return{total:_t,minTotal:tt,hits:Ht};for(const vt of $t){if(!(vt!=null&&vt.id))continue;const qt=W(vt.blocked),Lt=W(vt.evaded),At=W(vt.glance??vt.glanced),Oe=W(vt.missed),ge=W(vt.invulned),bt=W(vt.interrupted),Mt=te(Number(vt.id),ut,wt),Vt=Nt(Number(vt.id),Mt);(Vt.hits??0)>0&&(_t+=At*Vt.avg/2+(qt+Lt+Oe+ge+bt)*Vt.avg,tt+=At*Vt.min/2+(qt+Lt+Oe+ge+bt)*Vt.min),Ht+=W(vt.hits??vt.connectedHits)}return{total:_t,minTotal:tt,hits:Ht}};Ae.push({logId:O.filePath||O.id||V,variant:"current_global_name_taken0",...ze(yt,($t,Nt)=>{const _t=L($t),tt=_t.hasSkill?_t.hits>0?_t.avg:0:1,Ht=_t.hasSkill?_t.min||0:1;return{avg:tt,min:Ht,hits:_t.hits}})})}}),gt||Me.forEach(ae=>{const _e=(ae==null?void 0:ae.minions)||[];if(!Array.isArray(_e)||_e.length===0)return;const Qe=ae.account||ae.name||"Unknown",it={account:Qe,name:ae.name||Qe,profession:A(ae.profession||"Unknown")},Pe=Z.skillMap||{},Ze=Z.buffMap||{};_e.forEach(yt=>{const ze=(yt==null?void 0:yt.totalDamageTakenDist)||[];if(!Array.isArray(ze)||ze.length===0)return;let $t=String((yt==null?void 0:yt.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";$t.toUpperCase().includes("UNKNOWN")&&($t="Unknown");const Nt=`${Qe}::${$t}`;J(K,Nt,{...it,minion:$t});const _t=Array.isArray(ze)?ze[0]:null;if(_t==null||_t.forEach(tt=>{if(!(tt!=null&&tt.id))return;const Ht=W(tt.blocked),vt=W(tt.evaded),qt=W(tt.glance??tt.glanced),Lt=W(tt.missed),At=W(tt.invulned),Oe=W(tt.interrupted),ge=W(tt.hits??tt.connectedHits),bt=Number(tt.id),Mt=te(bt,Pe,Ze);if(Pn(en,`${Nt}::${bt}`,{totalHits:ge,blocked:Ht,evaded:vt,glanced:qt,missed:Lt,invulned:At,interrupted:Oe}),Qe===oe&&$t===ye){const Vt=z.get(bt),vn=L(bt),jr=vn.hasSkill?vn.hits>0?vn.avg:0:1,Jr=vn.hasSkill?vn.min||0:1,ea=vn.hits>0?qt*jr/2+(Ht+vt+Lt+At+Oe)*jr:0,Yi=vn.hits>0?qt*Jr/2+(Ht+vt+Lt+At+Oe)*Jr:0;Je.push({logId:O.filePath||O.id||V,skillId:tt.id,skillName:Mt,blocked:Ht,evaded:vt,glanced:qt,missed:Lt,invulned:At,interrupted:Oe,totalAvoids:Ht+vt+qt+Lt+At+Oe,avg:jr,min:Jr,enemyHits:(Vt==null?void 0:Vt.connectedHits)??0,enemyTotalDmg:(Vt==null?void 0:Vt.totalDamage)??0,avoidDmg:ea,avoidMinDmg:Yi})}}),Qe===oe&&$t===ye){const tt=(Lt,At)=>{let Oe=0,ge=0,bt=0;if(!Array.isArray(Lt))return{total:Oe,minTotal:ge,hits:bt};for(const Mt of Lt){if(!(Mt!=null&&Mt.id))continue;const Vt=W(Mt.blocked),vn=W(Mt.evaded),jr=W(Mt.glance??Mt.glanced),Jr=W(Mt.missed),ea=W(Mt.invulned),Yi=W(Mt.interrupted),Pc=te(Number(Mt.id),ut,wt),{avg:As,min:ba}=At(Number(Mt.id),Pc);W(Mt.hits??Mt.connectedHits)>0&&(Oe+=jr*As/2+(Vt+vn+Jr+ea+Yi)*As,ge+=jr*ba/2+(Vt+vn+Jr+ea+Yi)*ba),bt+=W(Mt.hits??Mt.connectedHits)}return{total:Oe,minTotal:ge,hits:bt}},Ht=Array.isArray(ze)?ze[0]||[]:[],vt=Array.isArray(ze)?ze.flat():[],qt=Array.isArray(yt==null?void 0:yt.totalDamageTaken)?yt.totalDamageTaken[0]||[]:[];le.push({logId:O.filePath||O.id||V,variant:"current_global_name_dist0",...tt(Ht,(Lt,At)=>{const Oe=L(Lt),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,bt=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:bt}})}),le.push({logId:O.filePath||O.id||V,variant:"local_name_dist0",...tt(Ht,(Lt,At)=>Dn(At))}),le.push({logId:O.filePath||O.id||V,variant:"local_id_dist0",...tt(Ht,Lt=>Nn(Lt))}),le.push({logId:O.filePath||O.id||V,variant:"global_name_alllists",...tt(vt,(Lt,At)=>{const Oe=L(Lt),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,bt=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:bt}})}),le.push({logId:O.filePath||O.id||V,variant:"global_name_taken0",...tt(qt,(Lt,At)=>{const Oe=L(Lt),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,bt=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:bt}})})}})}))}),Je.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Je),le.length>0&&console.table(le),console.groupEnd()),Ke.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ke),Ae.length>0&&console.table(Ae),console.groupEnd());const Br=(O,V)=>{const ne=new Map,je=Z=>{let Se=ne.get(Z);return Se||(Se=U(),ne.set(Z,Se)),Se};V.forEach((Z,Se)=>{const De=Se.lastIndexOf("::"),ut=De>-1?Se.slice(0,De):Se,wt=De>-1?Number(Se.slice(De+2)):Number.NaN,ht=Number.isFinite(wt)?L(wt):{hasSkill:!1,avg:0,min:0,hits:0};if(!ht.hasSkill||ht.hits<=0)return;const zt=ht.avg,Nn=ht.min,Dn=Z.glanced*zt/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*zt,Xe=Z.glanced*Nn/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*Nn;if(Dn<=0)return;const Ge=je(ut);Ge.totalHits+=Z.totalHits,Ge.blocked+=Z.blocked,Ge.evaded+=Z.evaded,Ge.glanced+=Z.glanced,Ge.missed+=Z.missed,Ge.invulned+=Z.invulned,Ge.interrupted+=Z.interrupted,Ge.totalMitigation+=Dn,Ge.minMitigation+=Xe}),O.forEach((Z,Se)=>{const De=ne.get(Se)||U();Z.mitigationTotals.totalHits=De.totalHits,Z.mitigationTotals.blocked=De.blocked,Z.mitigationTotals.evaded=De.evaded,Z.mitigationTotals.glanced=De.glanced,Z.mitigationTotals.missed=De.missed,Z.mitigationTotals.invulned=De.invulned,Z.mitigationTotals.interrupted=De.interrupted,Z.mitigationTotals.totalMitigation=De.totalMitigation,Z.mitigationTotals.minMitigation=De.minMitigation})};Br(B,ct),Br(K,en);const ce=h>0?Math.round(g/h):0,Te=h>0?Math.round(b/h):0,ft=k>0?(S/k).toFixed(2):S>0?"":"0.00",tn=C>0?(j/C).toFixed(2):j>0?"":"0.00",fn=(O,V)=>{const ne=O.filter(Se=>Number.isFinite(Se.value)&&(V?Se.value>0:Se.value>=0)).sort((Se,De)=>{const ut=V?De.value-Se.value:Se.value-De.value;return ut!==0?ut:Se.account.localeCompare(De.account)});let je=null,Z=0;return ne.map((Se,De)=>((je===null||Se.value!==je)&&(Z=De+1,je=Se.value),{rank:Z,...Se}))},Sr=Array.from(R.values()).map(O=>{const V=Array.from(O.professions).filter(ne=>ne!=="Unknown");if(O.professionList=V,V.length>0){let ne=V[0],je=O.professionTimeMs[ne]||0;V.forEach(Z=>{const Se=O.professionTimeMs[Z]||0;Se>je&&(je=Se,ne=Z)}),O.profession=ne}return{key:O.account,stat:O}}),or=O=>{const V=R.get(O.account);if(!V){const Z=O.professionList.length>0?O.professionList:O.profession?[O.profession]:[];return{...O,professionList:Z}}const ne=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(Z=>Z&&Z!=="Unknown"),je=V.profession||O.profession;return{...O,profession:je,professionList:ne.length>0?ne:je?[je]:[],activeMs:V.defenseActiveMs||V.totalFightMs||O.activeMs}},Hn=Array.from(B.values()).map(or).filter(O=>F(O.mitigationTotals)).sort((O,V)=>O.account.localeCompare(V.account)),zr=Array.from(K.values()).map(or).filter(O=>O.mitigationTotals.totalMitigation>0).sort((O,V)=>{const ne=O.account.localeCompare(V.account);return ne!==0?ne:String(O.minion||"").localeCompare(String(V.minion||""))}),Zr=(O,V)=>{switch(V){case"downContrib":return O.downContrib;case"barrier":return O.barrier;case"healing":return O.healing;case"dodges":return O.dodges;case"strips":return O.strips;case"cleanses":return O.cleanses;case"cc":return O.cc;case"stability":return O.stab;case"revives":return O.revives;case"dps":return O.dps;case"damage":return O.damage;case"participation":return O.logsJoined;case"closestToTag":return!O.isCommander&&O.distCount>0?O.totalDist/O.distCount:Number.POSITIVE_INFINITY;default:return 0}},gn=(O,V)=>fn(Sr.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:Zr(ne,O),count:ne.logsJoined})),V),sn={downContrib:gn("downContrib",!0),barrier:gn("barrier",!0),healing:gn("healing",!0),dodges:gn("dodges",!0),strips:gn("strips",!0),cleanses:gn("cleanses",!0),cc:gn("cc",!0),stability:gn("stability",!0),revives:gn("revives",!0),participation:gn("participation",!0),dps:gn("dps",!0),damage:gn("damage",!0),closestToTag:gn("closestToTag",!1).filter(O=>Number.isFinite(O.value))},va={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},nn=O=>{const V=O==null?void 0:O[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},Er={maxDownContrib:nn([]),maxBarrier:nn([]),maxHealing:nn([]),maxDodges:nn([]),maxStrips:nn([]),maxCleanses:nn([]),maxCC:nn([]),maxStab:nn([]),closestToTag:nn([])},Ur={},id=(O,V)=>{if(V==="closestToTag")return Zr(O,V);const ne=Math.max(1,(O.totalFightMs||0)/1e3);return Zr(O,V)/ne};Object.values(va).forEach(O=>{const V=O!=="closestToTag";Ur[O]=fn(Sr.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:id(ne,O),count:ne.logsJoined})),V)}),Er.maxDownContrib=nn(Ur.downContrib),Er.maxBarrier=nn(Ur.barrier),Er.maxHealing=nn(Ur.healing),Er.maxDodges=nn(Ur.dodges),Er.maxStrips=nn(Ur.strips),Er.maxCleanses=nn(Ur.cleanses),Er.maxCC=nn(Ur.cc),Er.maxStab=nn(Ur.stability),Er.closestToTag=nn(Ur.closestToTag);const Ac={maxDownContrib:nn(sn.downContrib),maxBarrier:nn(sn.barrier),maxHealing:nn(sn.healing),maxDodges:nn(sn.dodges),maxStrips:nn(sn.strips),maxCleanses:nn(sn.cleanses),maxCC:nn(sn.cc),maxStab:nn(sn.stability),closestToTag:nn(sn.closestToTag)};let wl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Ms,kl,Bo=0;if(o!=null&&o.showMvp){const O={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Se=>{const De=O[Se];return De?Number(s[De]||0)>0:!1},ne=[],je=Se=>[...Se||[]].filter(De=>V(De==null?void 0:De.name)).sort((De,ut)=>ut.ratio-De.ratio||De.rank-ut.rank||De.name.localeCompare(ut.name)).slice(0,3),Z=Se=>{var De;if(!Se)return;const ut=je(Se.contribs);return{...Se,player:Se.name,reason:((De=ut[0])==null?void 0:De.name)||"Top Performance",topStats:ut}};Sr.forEach(({stat:Se})=>{let De=0;const ut=[],wt=(ht,zt,Nn,Dn,Xe=!0)=>{var Ge,mt;if(Nn<=0)return;const Ut=((Ge=zt[0])==null?void 0:Ge.value)||0;if(Ut&&Number.isFinite(ht)&&(Xe?ht>0:ht<Number.POSITIVE_INFINITY)){const Gt=Xe?ht/Ut:Ut/ht;De+=Gt*Nn;const ve=((mt=zt.find(Ne=>Ne.account===Se.account))==null?void 0:mt.rank)||0;ut.push({name:Dn,ratio:Gt,val:ht.toLocaleString(),rank:ve})}};wt(Se.downContrib,sn.downContrib,s.downContribution,"Down Contribution"),wt(Se.healing,sn.healing,s.healing,"Healing"),wt(Se.cleanses,sn.cleanses,s.cleanses,"Cleanses"),wt(Se.strips,sn.strips,s.strips,"Strips"),wt(Se.stab,sn.stability,s.stability,"Stability"),wt(Se.cc,sn.cc,s.cc,"CC"),wt(Se.revives,sn.revives,s.revives,"Revives"),wt(Zr(Se,"closestToTag"),sn.closestToTag,s.distanceToTag,"Distance to Tag",!1),wt(Se.logsJoined,sn.participation,s.participation,"Participation"),wt(Se.dodges,sn.dodges,s.dodging,"Dodging"),wt(Se.dps,sn.dps,s.dps,"DPS"),wt(Se.damage,sn.damage,s.damage,"Damage"),ne.push({...Se,score:De,contribs:ut.filter(ht=>V(ht.name))})}),ne.sort((Se,De)=>De.score-Se.score),ne[0]&&ne[0].score>0&&(wl=Z(ne[0])||wl),Ms=Z(ne[1]),kl=Z(ne[2]),Bo=ne.length>0?ne.reduce((Se,De)=>Se+De.score,0)/ne.length:0}const H=Object.values(_).sort((O,V)=>{const ne=m==="downContribution"?O.downContribution:O.damage;return(m==="downContribution"?V.downContribution:V.damage)-ne}).slice(0,25),ue=Object.values(E).sort((O,V)=>V.damage-O.damage).slice(0,25),Ce=O=>{const V=String(O).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ne=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return ne?`${ne[1]} Borderlands`:V||"Unknown"},Ye=(O,V)=>Ce((O==null?void 0:O.zone)||(O==null?void 0:O.mapName)||(O==null?void 0:O.map)||(O==null?void 0:O.location)||(O==null?void 0:O.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),Ft=(O,V)=>{const ne=(V==null?void 0:V.permalink)||(O==null?void 0:O.permalink);if(typeof ne=="string"&&ne.trim().length>0)return ne.trim();const je=O==null?void 0:O.uploadLinks;if(!Array.isArray(je))return"";for(const Z of je){if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();if(Z&&typeof Z=="object"){const Se=Z.permalink||Z.link||Z.url||Z.reportLink;if(typeof Se=="string"&&Se.trim().length>0)return Se.trim()}}return""},Pt={};i.forEach(O=>{const V=Ye(O==null?void 0:O.details,O);Pt[V]=(Pt[V]||0)+1});const pt=Object.entries(Pt).map(([O,V])=>{const ne=String(O).trim(),je=/eternal battlegrounds|^ebg$/i.test(ne);let Z="#64748b";return je?Z="#ffffff":/red/i.test(ne)?Z="#ef4444":/blue/i.test(ne)?Z="#3b82f6":/green/i.test(ne)&&(Z="#22c55e"),{name:O,value:V,color:Z}}).sort((O,V)=>V.value-O.value),{boonTables:mn}=w8(i),On=i.map((O,V)=>{var ne,je;const Z=((ne=O.details)==null?void 0:ne.players)||[];return{index:V+1,label:`Log ${V+1}`,timestamp:Ya(O.details,O),squadCount:Z.filter(Se=>!Se.notInSquad).length,friendlyCount:Z.length,enemies:((je=O.details)==null?void 0:je.targets).filter(Se=>!Se.isFake).length}}).sort((O,V)=>O.timestamp-V.timestamp),sr={};Array.from(R.values()).forEach(O=>{O.profession&&O.profession!=="Unknown"&&(sr[O.profession]=(sr[O.profession]||0)+1)});const Le=Object.entries(sr).map(([O,V])=>({name:O,value:V,color:ec(O)})).sort((O,V)=>V.value-O.value),nt={};Object.keys(he).length===0&&i.forEach(O=>{var V,ne;(ne=(V=O.details)==null?void 0:V.targets)==null||ne.forEach(je=>{if(je.isFake)return;const Z=je.profession&&je.profession!=="Unknown"?je.profession:je.name||je.id||"Unknown",Se=A(Z);nt[Se]=(nt[Se]||0)+1})});const Wt=Object.keys(he).length>0?he:nt,Jt=Object.entries(Wt).map(([O,V])=>({name:O,value:V,color:ec(O)})).sort((O,V)=>V.value-O.value),hr=i.map((O,V)=>({log:O,originalIndex:V})).sort((O,V)=>Ya(O.log.details,O.log)-Ya(V.log.details,V.log)).map(({log:O},V)=>{const ne=O.details;if(!ne)return null;const je=ne.players||[],Z=je.filter(pe=>!pe.notInSquad),Se=je.filter(pe=>pe.notInSquad),De=(ne.targets||[]).filter(pe=>!pe.isFake),ut=Z.reduce((pe,Me)=>{var Ie,kt;return pe+(((kt=(Ie=Me.dpsAll)==null?void 0:Ie[0])==null?void 0:kt.damage)||0)},0),wt=Z.reduce((pe,Me)=>{var Ie,kt;return pe+(((kt=(Ie=Me.defenses)==null?void 0:Ie[0])==null?void 0:kt.damageTaken)||0)},0),{enemyDeaths:ht,enemyDownsDeaths:zt}=M(ne),Nn=T(ne),Dn=Ya(ne,O),Xe=Ye(ne,O),Ge=pe=>{if(!pe||typeof pe!="object")return;const Me=pe.teamID??pe.teamId??pe.team??pe.teamColor??pe.team_color;if(Me!=null)return Me;const Ie=Object.keys(pe).find(kt=>/^team/i.test(kt));return Ie?pe[Ie]:void 0},mt=(pe,Me)=>{const Ie={};return pe.forEach(kt=>{const We=Me(kt),rt=A(We);rt&&(Ie[rt]=(Ie[rt]||0)+1)}),Ie},Ut=mt(Z,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),Gt=mt(Se,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),ve=mt(De,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)||(pe==null?void 0:pe.id)),Ne=new Set;Z.forEach(pe=>{const Me=Ge(pe);Me!=null&&Ne.add(String(Me))});const we=new Map;De.forEach(pe=>{if((pe==null?void 0:pe.enemyPlayer)===!1)return;const Me=Ge(pe);if(Me==null)return;const Ie=String(Me);Ne.has(Ie)||we.set(Ie,(we.get(Ie)||0)+1)});const Be=Array.from(we.entries()).sort((pe,Me)=>{const Ie=Me[1]-pe[1];return Ie!==0?Ie:pe[0].localeCompare(Me[0],void 0,{numeric:!0})}).slice(0,3).map(([pe,Me])=>({teamId:pe,count:Me}));return{id:O.filePath||`fight-${V}`,label:O.encounterName||`Fight ${V+1}`,permalink:Ft(ne,O),timestamp:Dn,mapName:Xe,duration:$N(ne.durationMS),isWin:Nn,squadCount:Z.length,allyCount:Se.length,enemyCount:De.length,teamBreakdown:Be,alliesDown:Z.reduce((pe,Me)=>{var Ie,kt;return pe+(((kt=(Ie=Me.defenses)==null?void 0:Ie[0])==null?void 0:kt.downCount)||0)},0),alliesDead:Z.reduce((pe,Me)=>{var Ie,kt;return pe+(((kt=(Ie=Me.defenses)==null?void 0:Ie[0])==null?void 0:kt.deadCount)||0)},0),alliesRevived:Z.reduce((pe,Me)=>{var Ie,kt;return Number(((kt=(Ie=Me.statsAll)==null?void 0:Ie[0])==null?void 0:kt.saved)||0)>0?pe+1:pe},0),rallies:0,enemyDeaths:ht,enemyDowns:Math.max(0,zt-ht),totalOutgoingDamage:ut,totalIncomingDamage:wt,incomingBarrierAbsorbed:Z.reduce((pe,Me)=>{var Ie,kt;return pe+(((kt=(Ie=Me.defenses)==null?void 0:Ie[0])==null?void 0:kt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:Z.reduce((pe,Me)=>{var Ie;const kt=(Ie=Me.extBarrierStats)==null?void 0:Ie.outgoingBarrier;if(!Array.isArray(kt))return pe;let We=0;return kt.forEach(rt=>{if(Array.isArray(rt)){rt.forEach(Xt=>{We+=Number((Xt==null?void 0:Xt.barrier)||0)});return}We+=Number((rt==null?void 0:rt.barrier)||0)}),pe+We},0),squadClassCountsFight:Ut,allyClassCountsFight:Gt,enemyClassCounts:ve}}).filter(Boolean),Nr=Array.from(R.values()).map(O=>{const V=Object.entries(O.professionTimeMs||{}).map(([ne,je])=>({profession:ne,timeMs:Number(je||0)})).filter(ne=>ne.profession&&ne.profession!=="Unknown"&&ne.timeMs>0).sort((ne,je)=>{const Z=je.timeMs-ne.timeMs;return Z!==0?Z:ne.profession.localeCompare(je.profession)});return{account:O.account||"Unknown",characterNames:Array.from(O.characterNames||[]).filter(Boolean).sort((ne,je)=>ne.localeCompare(je)),classTimes:V,combatTimeMs:Number(O.squadActiveMs||O.totalFightMs||0),squadTimeMs:(()=>{const ne=Number(O.firstSeenFightTs||0),je=Number(O.lastSeenFightTs||0),Z=Math.max(0,Number(O.lastSeenFightDurationMs||0));return ne>0&&je>0?Math.max(0,je+Z-ne):Number(O.squadActiveMs||O.totalFightMs||0)})()}}).filter(O=>O.account&&O.account!=="Unknown").sort((O,V)=>{const ne=V.squadTimeMs-O.squadTimeMs;return ne!==0?ne:String(O.account).localeCompare(String(V.account))}),Vr=i.map(O=>O).sort((O,V)=>Ya(O.details,O)-Ya(V.details,V)).map((O,V)=>{const ne=O==null?void 0:O.details,je=Array.isArray(ne==null?void 0:ne.players)?ne.players.filter(De=>!(De!=null&&De.notInSquad)):[],Z=new Map;je.forEach(De=>{const ut=Number(De==null?void 0:De.group),wt=Number.isFinite(ut)&&ut>0?ut:0;Z.has(wt)||Z.set(wt,{party:wt,players:[],classCounts:{}});const ht=A((De==null?void 0:De.profession)||(De==null?void 0:De.name)||"Unknown"),zt=String((De==null?void 0:De.account)||"Unknown"),Nn=String((De==null?void 0:De.name)||(De==null?void 0:De.character_name)||""),Dn=!!(De!=null&&De.hasCommanderTag),Xe=Z.get(wt);Xe.players.push({account:zt,characterName:Nn,profession:ht,isCommander:Dn}),Xe.classCounts[ht]=(Xe.classCounts[ht]||0)+1});const Se=Array.from(Z.values()).map(De=>({...De,players:De.players.sort((ut,wt)=>{const ht=+!!wt.isCommander-+!!ut.isCommander;if(ht!==0)return ht;const zt=String(ut.profession).localeCompare(String(wt.profession));return zt!==0?zt:String(ut.account).localeCompare(String(wt.account))})})).sort((De,ut)=>De.party===0&&ut.party!==0?1:ut.party===0&&De.party!==0?-1:De.party-ut.party);return{id:String((O==null?void 0:O.filePath)||(O==null?void 0:O.id)||`fight-${V+1}`),label:`F${V+1}`,timestamp:Ya(ne,O),mapName:Ye(ne,O),duration:$N(Number((ne==null?void 0:ne.durationMS)||0)),parties:Se}}),Sl=(O,V)=>{const ne=(V==null?void 0:V.skillMap)||{},je=(V==null?void 0:V.buffMap)||{};let Z=0,Se="";const De=ht=>{const zt=Number(ht);if(!Number.isFinite(zt))return String(ht||"Unknown Skill");const Nn=(ne==null?void 0:ne[`s${zt}`])||(ne==null?void 0:ne[`${zt}`]);if(Nn!=null&&Nn.name)return String(Nn.name);const Dn=(je==null?void 0:je[`b${zt}`])||(je==null?void 0:je[`${zt}`]);return Dn!=null&&Dn.name?String(Dn.name):`Skill ${zt}`},ut=ht=>{if(!ht||typeof ht!="object")return;const zt=[Number(ht.max),Number(ht.maxDamage),Number(ht.maxHit)].filter(Dn=>Number.isFinite(Dn)),Nn=zt.length>0?Math.max(...zt):0;Nn>Z&&(Z=Nn,Se=De(ht.id))};let wt=!1;return Array.isArray(O==null?void 0:O.targetDamageDist)&&O.targetDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(zt=>{Array.isArray(zt)&&zt.forEach(Nn=>{wt=!0,ut(Nn)})})}),(!wt||Z<=0)&&Array.isArray(O==null?void 0:O.totalDamageDist)&&O.totalDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(zt=>ut(zt))}),{peak:Z,skillName:Se||"Unknown Skill"}},vy=(()=>{const O=Xe=>String(Xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Xe=>O(Xe).toLowerCase().split(/[^a-z0-9]+/i).map(Ge=>Ge.trim()).filter(Boolean).map(Ge=>Ge.length>3&&Ge.endsWith("s")?Ge.slice(0,-1):Ge),ne=(Xe,Ge)=>{const mt=O(Xe),Ut=O(Ge);if(!Ut)return mt;if(!mt)return Ut;const Gt=V(mt),ve=V(Ut),Ne=new Set(Gt),we=new Set(ve),Be=ve.length>0&&ve.every(Me=>Ne.has(Me)),pe=Gt.length>0&&Gt.every(Me=>we.has(Me));return Be||pe?mt:`${mt} - ${Ut}`},je=[],Z=new Map,Se=Xe=>{const Ge=we=>{if(!Array.isArray(we)||we.length===0)return[];const Be=[];for(let pe=0;pe<we.length;pe+=1){const Me=Number(we[pe]||0),Ie=pe>0?Number(we[pe-1]||0):0;Be.push(Math.max(0,Me-Ie))}return Be},mt=we=>{if(!Array.isArray(we))return[];const Be=we.reduce((Me,Ie)=>Math.max(Me,Array.isArray(Ie)?Ie.length:0),0);if(Be<=0)return[];const pe=new Array(Be).fill(0);return we.forEach(Me=>{if(Array.isArray(Me))for(let Ie=0;Ie<Be;Ie+=1)pe[Ie]+=Number(Me[Ie]||0)}),pe},Ut=we=>Array.isArray(we)?we.map(Be=>Number(Be||0)):null,Gt=(we=>{if(!Array.isArray(we)||we.length===0)return null;const Be=we[0];if(!Array.isArray(Be))return null;if(Array.isArray(Be[0])&&Array.isArray(Be[0][0]))return mt(Be);if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0])){const pe=we.map(Me=>Ut(Array.isArray(Me)?Me[0]:null)).filter(Me=>Array.isArray(Me)&&Me.length>0);if(pe.length>0)return mt(pe)}return null})(Xe==null?void 0:Xe.targetDamage1S),ve=Array.isArray(Xe==null?void 0:Xe.damage1S)&&Array.isArray(Xe.damage1S[0])?Xe.damage1S[0]:null,Ne=Gt||(Array.isArray(ve)?ve.map(we=>Number(we||0)):[]);return Ge(Ne)},De=(Xe,Ge)=>{if(!Array.isArray(Xe)||Xe.length===0||Ge<=0)return 0;let mt=0,Ut=0;for(let Gt=0;Gt<Xe.length;Gt+=1)mt+=Number(Xe[Gt]||0),Gt>=Ge&&(mt-=Number(Xe[Gt-Ge]||0)),Gt>=Ge-1&&mt>Ut&&(Ut=mt);return Math.max(0,Ut)},ut=(Xe,Ge)=>{if(!Array.isArray(Xe)||Xe.length===0||Ge<=0)return[];const mt=[];for(let Ut=0;Ut<Xe.length;Ut+=Ge){const Gt=Math.min(Ut+Ge,Xe.length),ve=Xe.slice(Ut,Gt).reduce((Ne,we)=>Ne+Number(we||0),0);mt.push(ve)}return mt},wt=(Xe,Ge)=>{const mt=Number(Xe);if(!Number.isFinite(mt))return{name:String(Xe||"Unknown Skill"),icon:void 0};const Ut=(Ge==null?void 0:Ge.skillMap)||{},Gt=(Ge==null?void 0:Ge.buffMap)||{},ve=(Ut==null?void 0:Ut[`s${mt}`])||(Ut==null?void 0:Ut[`${mt}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const Ne=(Gt==null?void 0:Gt[`b${mt}`])||(Gt==null?void 0:Gt[`${mt}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${mt}`,icon:void 0}},ht=Xe=>Array.isArray(Xe)?Xe.map(Ge=>Array.isArray(Ge)?[Number(Ge[0]),Number(Ge[1])]:Ge&&typeof Ge=="object"?[Number(Ge.time),Number(Ge.value)]:null).filter(Ge=>!!Ge&&Number.isFinite(Ge[0])&&Ge[0]>=0):[],zt=(Xe,Ge,mt,Ut,Gt)=>{if(!Xe.length||Ut<=0)return[];const ve=Math.max(Ut*5e3,Gt||0),Ne=rt=>rt.reduce((Xt,yn)=>yn>=0&&yn<=ve+2e3?Xt+1:Xt,0),we=Xe.map(rt=>Number(rt||0)).filter(rt=>Number.isFinite(rt)&&rt>=0);if(!we.length)return[];const Be=[we],pe=we.reduce((rt,Xt)=>Math.max(rt,Xt),0),Me=we.reduce((rt,Xt)=>Math.min(rt,Xt),Number.POSITIVE_INFINITY);pe>ve*20&&Be.push(we.map(rt=>rt/1e3)),pe<=ve*2&&Me>=0&&pe>0&&pe<Math.max(120,Ut*5+10)&&Be.push(we.map(rt=>rt*1e3));let Ie=we,kt=0,We=-1;return Be.forEach(rt=>{const Xt=rt.reduce((rn,gr)=>Math.min(rn,gr),Number.POSITIVE_INFINITY),yn=new Set([0,...Ge,...mt]);if(Number.isFinite(Xt)&&ve>0&&Xt>ve){const rn=Math.floor(Xt/ve)*ve;yn.add(rn),yn.add(Math.max(0,rn-ve))}yn.forEach(rn=>{const gr=rt.map(ae=>ae-rn),gt=Ne(gr);gt>We&&(We=gt,kt=rn,Ie=rt)})}),Ie.map(rt=>rt-kt).filter(rt=>Number.isFinite(rt)&&rt>=0)},Nn=(Xe,Ge,mt,Ut,Gt)=>{const ve=zt(Xe,Ge,mt,Ut,Gt);return Array.from(new Set(ve.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<Ut)))};i.map(Xe=>({log:Xe,ts:Ya(Xe==null?void 0:Xe.details,Xe)})).sort((Xe,Ge)=>Xe.ts-Ge.ts).forEach(({log:Xe},Ge)=>{const mt=Xe==null?void 0:Xe.details;if(!mt)return;const Ut=O(mt.fightName||Xe.fightName||`Fight ${Ge+1}`),Gt=Ye(mt,Xe),ve=ne(Ut,String(Gt||"")),Ne={},we=Array.isArray(mt.players)?mt.players:[],Be=we.flatMap(We=>{const rt=We==null?void 0:We.combatReplayData;return Array.isArray(rt)?rt.map(Xt=>Number(Xt==null?void 0:Xt.start)):[Number(rt==null?void 0:rt.start)]}).filter(We=>Number.isFinite(We)&&We>=0);we.forEach(We=>{if(We!=null&&We.notInSquad)return;const rt=String((We==null?void 0:We.account)||(We==null?void 0:We.name)||"Unknown"),Xt=String((We==null?void 0:We.character_name)||(We==null?void 0:We.display_name)||(We==null?void 0:We.name)||""),yn=String((We==null?void 0:We.profession)||"Unknown"),rn=`${rt}|${yn}`,gr=Sl(We,mt),gt=Number(gr.peak||0),ae=Se(We),_e=Number(De(ae,1)||0),Qe=Number(De(ae,5)||0),it=Number(De(ae,30)||0),Pe=Math.max(0,Math.ceil(Number((mt==null?void 0:mt.durationMS)||0)/5e3)),Ze=Math.max(0,Math.ceil(ae.length/5)),yt=Math.max(Pe,Ze),ze=ut(ae,5),$t=Array.from({length:yt},(Oe,ge)=>Number(ze[ge]||0)),Nt=new Map,_t=Oe=>{if(!Oe||typeof Oe!="object"||Oe.indirectDamage)return;const ge=Number(Oe.totalDamage||0);if(!Number.isFinite(ge)||ge<=0)return;const bt=Number(Oe.connectedHits||Oe.hits||0),Mt=wt(Oe.id,mt),Vt=Mt.name,vn=Nt.get(Vt)||{skillName:Vt,damage:0,hits:0,icon:Mt.icon};vn.damage+=ge,vn.hits+=Number.isFinite(bt)?bt:0,!vn.icon&&Mt.icon&&(vn.icon=Mt.icon),Nt.set(Vt,vn)},tt=new Map;Array.isArray(We==null?void 0:We.targetDamageDist)&&We.targetDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(ge=>{Array.isArray(ge)&&ge.forEach(bt=>{const Mt=Number(bt==null?void 0:bt.id),Vt=Number((bt==null?void 0:bt.totalDamage)||0);if(Number.isFinite(Mt)){const vn=tt.get(Mt)||{damage:0,hits:0};vn.damage+=Number.isFinite(Vt)?Vt:0,vn.hits+=Number((bt==null?void 0:bt.connectedHits)||(bt==null?void 0:bt.hits)||0),tt.set(Mt,vn)}_t(bt)})})}),!(mt!=null&&mt.detailedWvW)&&Array.isArray(We==null?void 0:We.totalDamageDist)&&We.totalDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(ge=>{const bt=Number(ge==null?void 0:ge.id);if(!Number.isFinite(bt)){_t(ge);return}const Mt=tt.get(bt);if(!Mt){_t(ge);return}const Vt=Number((ge==null?void 0:ge.totalDamage)||0),vn=Number((ge==null?void 0:ge.connectedHits)||(ge==null?void 0:ge.hits)||0),jr=Vt-Number(Mt.damage||0),Jr=vn-Number(Mt.hits||0);jr<=0&&Jr<=0||_t({...ge,totalDamage:Math.max(0,jr),connectedHits:Math.max(0,Jr),hits:Math.max(0,Jr)})})});const Ht=(()=>{const Oe=We==null?void 0:We.combatReplayData;return Array.isArray(Oe)?Oe.filter(ge=>ge&&typeof ge=="object"):Oe&&typeof Oe=="object"?[Oe]:[]})(),vt=Ht.map(Oe=>Number(Oe==null?void 0:Oe.start)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0),qt=Ht.flatMap(Oe=>ht(Oe==null?void 0:Oe.down).map(([ge])=>Number(ge||0))),Lt=Ht.flatMap(Oe=>ht(Oe==null?void 0:Oe.dead).map(([ge])=>Number(ge||0)));Ne[rn]={hit:gt,burst1s:_e,burst5s:Qe,burst30s:it,skillName:gr.skillName,buckets5s:$t,downIndices5s:Nn(qt,vt,Be,yt,Number((mt==null?void 0:mt.durationMS)||0)),deathIndices5s:Nn(Lt,vt,Be,yt,Number((mt==null?void 0:mt.durationMS)||0)),skillRows:Array.from(Nt.values()).sort((Oe,ge)=>ge.damage-Oe.damage).slice(0,50)};const At=Z.get(rn)||{key:rn,account:rt,displayName:rt,characterName:Xt,profession:yn,professionList:[yn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};At.logs+=1,At.professionList.includes(yn)||At.professionList.push(yn),!At.characterName&&Xt&&(At.characterName=Xt),gt>At.peakHit&&(At.peakHit=gt,At.peakFightLabel=ve,At.peakSkillName=gr.skillName),_e>At.peak1s&&(At.peak1s=_e),Qe>At.peak5s&&(At.peak5s=Qe),it>At.peak30s&&(At.peak30s=it),Z.set(rn,At)});const pe=Object.values(Ne).reduce((We,rt)=>Math.max(We,Number((rt==null?void 0:rt.hit)||0)),0),Me=Object.values(Ne).reduce((We,rt)=>Math.max(We,Number((rt==null?void 0:rt.burst1s)||0)),0),Ie=Object.values(Ne).reduce((We,rt)=>Math.max(We,Number((rt==null?void 0:rt.burst5s)||0)),0),kt=Object.values(Ne).reduce((We,rt)=>Math.max(We,Number((rt==null?void 0:rt.burst30s)||0)),0);je.push({id:Xe.filePath||Xe.id||`fight-${Ge+1}`,shortLabel:`F${Ge+1}`,fullLabel:ve,timestamp:Ya(mt,Xe),values:Ne,maxHit:pe,max1s:Me,max5s:Ie,max30s:kt})});const Dn=Array.from(Z.values()).sort((Xe,Ge)=>Ge.peakHit!==Xe.peakHit?Ge.peakHit-Xe.peakHit:Xe.displayName.localeCompare(Ge.displayName));return{fights:je,players:Dn}})(),by=(()=>{const O=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=ve=>O(ve).toLowerCase().split(/[^a-z0-9]+/i).map(Ne=>Ne.trim()).filter(Boolean).map(Ne=>Ne.length>3&&Ne.endsWith("s")?Ne.slice(0,-1):Ne),ne=(ve,Ne)=>{const we=O(ve),Be=O(Ne);if(!Be)return we;if(!we)return Be;const pe=V(we),Me=V(Be),Ie=new Set(pe),kt=new Set(Me),We=Me.length>0&&Me.every(Xt=>Ie.has(Xt)),rt=pe.length>0&&pe.every(Xt=>kt.has(Xt));return We||rt?we:`${we} - ${Be}`},je=[],Z=new Map,Se=(ve,Ne)=>{const we=Number(ve);if(!Number.isFinite(we))return{name:String(ve||"Unknown Skill"),icon:void 0};const Be=(Ne==null?void 0:Ne.skillMap)||{},pe=(Ne==null?void 0:Ne.buffMap)||{},Me=(Be==null?void 0:Be[`s${we}`])||(Be==null?void 0:Be[`${we}`]);if(Me!=null&&Me.name)return{name:String(Me.name),icon:Me==null?void 0:Me.icon};const Ie=(pe==null?void 0:pe[`b${we}`])||(pe==null?void 0:pe[`${we}`]);return Ie!=null&&Ie.name?{name:String(Ie.name),icon:Ie==null?void 0:Ie.icon}:{name:`Skill ${we}`,icon:void 0}},De=(ve,Ne)=>{let we=0,Be="";const pe=Me=>{if(!Me||typeof Me!="object"||Me.indirectDamage)return;const Ie=[Number(Me.max),Number(Me.maxDamage),Number(Me.maxHit)].filter(We=>Number.isFinite(We)),kt=Ie.length>0?Math.max(...Ie):0;kt>we&&(we=kt,Be=Se(Me.id,Ne).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(Me=>{Array.isArray(Me)&&Me.forEach(Ie=>pe(Ie))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(Me=>{Array.isArray(Me)&&Me.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(kt=>pe(kt))})}),{peak:we,skillName:Be||"Unknown Skill"}},ut=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=[];for(let we=0;we<ve.length;we+=1){const Be=Number(ve[we]||0),pe=we>0?Number(ve[we-1]||0):0;Ne.push(Math.max(0,Be-pe))}return Ne},wt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=ve.reduce((Be,pe)=>Math.max(Be,Array.isArray(pe)?pe.length:0),0);if(Ne<=0)return[];const we=new Array(Ne).fill(0);return ve.forEach(Be=>{if(Array.isArray(Be))for(let pe=0;pe<Ne;pe+=1)we[pe]+=Number(Be[pe]||0)}),we},ht=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=ve[0];if(typeof Ne=="number")return ve.map(we=>Number(we||0));if(Array.isArray(Ne)&&Ne.length>0){if(typeof Ne[0]=="number")return Ne.map(we=>Number(we||0));if(Array.isArray(Ne[0])){const we=Ne.map(Be=>Array.isArray(Be)?Be.map(pe=>Number(pe||0)):null).filter(Be=>Array.isArray(Be)&&Be.length>0);if(we.length>0)return wt(we)}}return[]},zt=ve=>{const Ne=ht(ve==null?void 0:ve.powerDamage1S),we=ht(ve==null?void 0:ve.damage1S),Be=Ne.length>0?Ne:we;return ut(Be)},Nn=(ve,Ne)=>{const we=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(we)||!Array.isArray(we[Ne]))return[];const Be=we[Ne];if(!Array.isArray(Be)||Be.length===0)return[];if(typeof Be[0]=="number")return Be.map(pe=>Number(pe||0));if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0]))return Be[0].map(pe=>Number(pe||0));if(Array.isArray(Be[0])&&Array.isArray(Be[0][0])){const pe=Be[0].map(Me=>Array.isArray(Me)?Me.map(Ie=>Number(Ie||0)):null).filter(Me=>Array.isArray(Me)&&Me.length>0);return wt(pe)}return[]},Dn=(ve,Ne)=>{if(!Array.isArray(ve)||ve.length===0||Ne<=0)return 0;let we=0,Be=0;for(let pe=0;pe<ve.length;pe+=1)we+=Number(ve[pe]||0),pe>=Ne&&(we-=Number(ve[pe-Ne]||0)),pe>=Ne-1&&we>Be&&(Be=we);return Math.max(0,Be)},Xe=(ve,Ne)=>{if(!Array.isArray(ve)||ve.length===0||Ne<=0)return[];const we=[];for(let Be=0;Be<ve.length;Be+=Ne){const pe=Math.min(Be+Ne,ve.length),Me=ve.slice(Be,pe).reduce((Ie,kt)=>Ie+Number(kt||0),0);we.push(Me)}return we},Ge=ve=>Array.isArray(ve)?ve.map(Ne=>Array.isArray(Ne)?[Number(Ne[0]),Number(Ne[1])]:Ne&&typeof Ne=="object"?[Number(Ne.time),Number(Ne.value)]:null).filter(Ne=>!!Ne&&Number.isFinite(Ne[0])&&Ne[0]>=0):[],mt=(ve,Ne,we,Be,pe)=>{if(!ve.length||Be<=0)return[];const Me=Math.max(Be*5e3,pe||0),Ie=gt=>gt.reduce((ae,_e)=>_e>=0&&_e<=Me+2e3?ae+1:ae,0),kt=ve.map(gt=>Number(gt||0)).filter(gt=>Number.isFinite(gt)&&gt>=0);if(!kt.length)return[];const We=[kt],rt=kt.reduce((gt,ae)=>Math.max(gt,ae),0),Xt=kt.reduce((gt,ae)=>Math.min(gt,ae),Number.POSITIVE_INFINITY);rt>Me*20&&We.push(kt.map(gt=>gt/1e3)),rt<=Me*2&&Xt>=0&&rt>0&&rt<Math.max(120,Be*5+10)&&We.push(kt.map(gt=>gt*1e3));let yn=kt,rn=0,gr=-1;return We.forEach(gt=>{const ae=gt.reduce((Qe,it)=>Math.min(Qe,it),Number.POSITIVE_INFINITY),_e=new Set([0,...Ne,...we]);if(Number.isFinite(ae)&&Me>0&&ae>Me){const Qe=Math.floor(ae/Me)*Me;_e.add(Qe),_e.add(Math.max(0,Qe-Me))}_e.forEach(Qe=>{const it=gt.map(Ze=>Ze-Qe),Pe=Ie(it);Pe>gr&&(gr=Pe,rn=Qe,yn=gt)})}),yn.map(gt=>gt-rn).filter(gt=>Number.isFinite(gt)&&gt>=0)},Ut=(ve,Ne,we,Be,pe)=>{const Me=mt(ve,Ne,we,Be,pe);return Array.from(new Set(Me.map(Ie=>Math.floor(Ie/5e3)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0&&Ie<Be)))};i.map(ve=>({log:ve,ts:Ya(ve==null?void 0:ve.details,ve)})).sort((ve,Ne)=>ve.ts-Ne.ts).forEach(({log:ve},Ne)=>{const we=ve==null?void 0:ve.details;if(!we)return;const Be=O(we.fightName||ve.fightName||`Fight ${Ne+1}`),pe=Ye(we,ve),Me=ne(Be,String(pe||"")),Ie={},kt=(Array.isArray(we.players)?we.players:[]).filter(Pe=>!(Pe!=null&&Pe.notInSquad)),We=kt.flatMap(Pe=>{const Ze=Pe==null?void 0:Pe.combatReplayData;return Array.isArray(Ze)?Ze.map(yt=>Number(yt==null?void 0:yt.start)):[Number(Ze==null?void 0:Ze.start)]}).filter(Pe=>Number.isFinite(Pe)&&Pe>=0),rt=kt.flatMap(Pe=>{const Ze=Pe==null?void 0:Pe.combatReplayData;return(Array.isArray(Ze)?Ze:Ze?[Ze]:[]).flatMap(yt=>Ge(yt==null?void 0:yt.down).map(([ze])=>Number(ze||0)))}),Xt=kt.flatMap(Pe=>{const Ze=Pe==null?void 0:Pe.combatReplayData;return(Array.isArray(Ze)?Ze:Ze?[Ze]:[]).flatMap(yt=>Ge(yt==null?void 0:yt.dead).map(([ze])=>Number(ze||0)))}),yn=new Map,rn=new Map,gr=new Map;(Array.isArray(we.targets)?we.targets:[]).forEach((Pe,Ze)=>{if(!Pe||Pe.isFake||!Pe.enemyPlayer)return;const yt=A((Pe==null?void 0:Pe.profession)||(Pe==null?void 0:Pe.name)||(Pe==null?void 0:Pe.id))||"Unknown";gr.set(yt,(gr.get(yt)||0)+1);const ze=rn.get(yt)||new Map;Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(vt=>{Array.isArray(vt)&&vt.forEach(qt=>{if(!qt||typeof qt!="object"||qt.indirectDamage)return;const Lt=Number(qt.totalDamage||0);if(!Number.isFinite(Lt)||Lt<=0)return;const At=Number(qt.connectedHits||qt.hits||0),Oe=Se(qt.id,we),ge=Oe.name,bt=ze.get(ge)||{skillName:ge,damage:0,hits:0,icon:Oe.icon};bt.damage+=Lt,bt.hits+=Number.isFinite(At)?At:0,!bt.icon&&Oe.icon&&(bt.icon=Oe.icon),ze.set(ge,bt)})}),rn.set(yt,ze);const $t=wt(kt.map(vt=>Nn(vt,Ze))),Nt=$t.length>0?ut($t):zt(Pe),_t=De(Pe,we);let tt=yn.get(yt);tt||(tt={perSecond:[],hit:0,skillName:""},yn.set(yt,tt)),Nt.length>tt.perSecond.length&&(tt.perSecond.length=Nt.length);for(let vt=0;vt<Nt.length;vt+=1)tt.perSecond[vt]=Number(tt.perSecond[vt]||0)+Number(Nt[vt]||0);const Ht=Number(_t.peak||0);Ht>tt.hit&&(tt.hit=Ht,tt.skillName=_t.skillName||"Unknown Skill")});const gt=Array.from(yn.values()).some(Pe=>Array.isArray(Pe.perSecond)&&Pe.perSecond.some(Ze=>Number(Ze||0)>0));if(yn.size===0||!gt){const Pe=wt(kt.map(yt=>{const ze=ht(yt==null?void 0:yt.powerDamageTaken1S);return ut(ze)})),Ze=Array.from(gr.values()).reduce((yt,ze)=>yt+Number(ze||0),0);Pe.length>0&&Ze>0&&gr.forEach((yt,ze)=>{const $t=Number(yt||0)/Ze,Nt=Pe.map(tt=>Number(tt||0)*$t),_t=yn.get(ze);yn.set(ze,{perSecond:Nt,hit:Number((_t==null?void 0:_t.hit)||0),skillName:String((_t==null?void 0:_t.skillName)||"")})})}yn.forEach((Pe,Ze)=>{var yt;const ze=Ze,$t=Number(Pe.hit||0),Nt=Number(Dn(Pe.perSecond,1)||0),_t=Number(Dn(Pe.perSecond,5)||0),tt=Number(Dn(Pe.perSecond,30)||0),Ht=Math.max(0,Math.ceil(Number((we==null?void 0:we.durationMS)||0)/5e3)),vt=Math.max(0,Math.ceil(Pe.perSecond.length/5)),qt=Math.max(Ht,vt),Lt=Xe(Pe.perSecond,5),At=Array.from({length:qt},(ge,bt)=>Number(Lt[bt]||0));Ie[ze]={hit:$t,burst1s:Nt,burst5s:_t,burst30s:tt,skillName:Pe.skillName||"Unknown Skill",buckets5s:At,downIndices5s:Ut(rt,[],We,qt,Number((we==null?void 0:we.durationMS)||0)),deathIndices5s:Ut(Xt,[],We,qt,Number((we==null?void 0:we.durationMS)||0)),skillRows:Array.from(((yt=rn.get(Ze))==null?void 0:yt.values())||[]).sort((ge,bt)=>bt.damage-ge.damage).slice(0,50)};const Oe=Z.get(ze)||{key:ze,account:Ze,displayName:Ze,characterName:"",profession:Ze,professionList:[Ze],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Oe.logs+=1,$t>Oe.peakHit&&(Oe.peakHit=$t,Oe.peakFightLabel=Me,Oe.peakSkillName=Pe.skillName||"Unknown Skill"),Nt>Oe.peak1s&&(Oe.peak1s=Nt),_t>Oe.peak5s&&(Oe.peak5s=_t),tt>Oe.peak30s&&(Oe.peak30s=tt),Z.set(ze,Oe)});const ae=Object.values(Ie).reduce((Pe,Ze)=>Math.max(Pe,Number((Ze==null?void 0:Ze.hit)||0)),0),_e=Object.values(Ie).reduce((Pe,Ze)=>Math.max(Pe,Number((Ze==null?void 0:Ze.burst1s)||0)),0),Qe=Object.values(Ie).reduce((Pe,Ze)=>Math.max(Pe,Number((Ze==null?void 0:Ze.burst5s)||0)),0),it=Object.values(Ie).reduce((Pe,Ze)=>Math.max(Pe,Number((Ze==null?void 0:Ze.burst30s)||0)),0);je.push({id:ve.filePath||ve.id||`fight-${Ne+1}`,shortLabel:`F${Ne+1}`,fullLabel:Me,timestamp:Ya(we,ve),values:Ie,maxHit:ae,max1s:_e,max5s:Qe,max30s:it})});const Gt=Array.from(Z.values()).sort((ve,Ne)=>Ne.peakHit!==ve.peakHit?Ne.peakHit-ve.peakHit:ve.displayName.localeCompare(Ne.displayName));return{fights:je,players:Gt}})(),xy=Array.from(I.entries()).map(([O,V])=>{const ne=Y.get(O)||{},je=Array.from(V.values()).map(Z=>{var Se,De;const ut=Array.from(Z.professions||[]).filter(Ge=>Ge&&Ge!=="Unknown");let wt=Z.profession||"Unknown";if(ut.length>0){wt=ut[0];let Ge=((Se=Z.professionTimeMs)==null?void 0:Se[wt])||0;ut.forEach(mt=>{var Ut;const Gt=((Ut=Z.professionTimeMs)==null?void 0:Ut[mt])||0;Gt>Ge&&(Ge=Gt,wt=mt)})}const ht=Z.durationMs||0,zt=Z.totalMs/1e3,Nn=ht>0?Z.totalMs/ht:0,Dn=((De=R.get(Z.account))==null?void 0:De.supportActiveMs)||ht,Xe=Dn>0?Z.uptimeMs/Dn:0;return{account:Z.account,profession:wt,professionList:ut,total:zt,perSecond:Nn,uptimePerSecond:Xe,duration:ht/1e3}}).filter(Z=>Z.total>0||Z.perSecond>0);return{id:O,name:ne.name||O,icon:ne.icon,rows:je}}).filter(O=>O.rows.length>0),wy=Array.from(G.values()).map(O=>{const V=Array.from(O.skills.values()).sort((je,Z)=>Z.damage-je.damage),ne=V.reduce((je,Z)=>(je[Z.id]=Z,je),{});return{key:O.key,account:O.account,displayName:O.displayName,profession:O.profession,professionList:O.professionList,totalFightMs:O.totalFightMs,skills:V,skillMap:ne}}).sort((O,V)=>O.displayName.localeCompare(V.displayName));return{total:h,wins:v,losses:x,avgSquadSize:ce,avgEnemies:Te,squadKDR:ft,enemyKDR:tn,totalSquadKills:S,totalSquadDeaths:k,totalEnemyKills:j,totalEnemyDeaths:C,leaderboards:sn,...Ac,outgoingConditionSummary:Object.values(X).sort((O,V)=>V.damage-O.damage),incomingConditionSummary:Object.values(re).sort((O,V)=>V.damage-O.damage),outgoingConditionPlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,conditions:O.outgoingConditions})),incomingConditionPlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,conditions:O.incomingConditions})),topSkills:H,topIncomingSkills:ue,playerSkillBreakdowns:wy,topSkillsMetric:m,mapData:pt,timelineData:On,boonTables:mn,offensePlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,offenseTotals:O.offenseTotals,offenseRateWeights:O.offenseRateWeights,totalFightMs:O.totalFightMs})),defensePlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,defenseTotals:O.defenseTotals,activeMs:O.defenseActiveMs})),damageMitigationPlayers:Hn,damageMitigationMinions:zr,supportPlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,supportTotals:O.supportTotals,activeMs:O.supportActiveMs})),healingPlayers:Array.from(R.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,healingTotals:O.healingTotals,activeMs:O.healingActiveMs})),mvp:wl,silver:Ms,bronze:kl,squadClassData:Le,enemyClassData:Jt,fightBreakdown:hr,attendanceData:Nr,squadCompByFight:Vr,spikeDamage:vy,incomingStrikeDamage:by,specialTables:xy,topStatsPerSecond:Er,topStatsLeaderboardsPerSecond:Ur,avgMvpScore:Bo}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,v=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const k=b.skillMap||{},S=b.fightName||"Log",C=Ya(b,g)||Date.now(),j={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const T=M.account||M.name||"Unknown",R=M.profession||"Unknown",P=`${T}|${R}`;let _=p.get(P);_||(_={key:P,account:T,displayName:T,profession:R,professionList:[R],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(P,_)),_.logs++;const E=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;_.totalActiveSeconds=(_.totalActiveSeconds||0)+E,j.playerActiveSeconds[P]=E,(M.rotation||[]).forEach(G=>{var X,re,he;if(!(G!=null&&G.id))return;const Y=((X=G.skills)==null?void 0:X.length)||0;if(Y<=0)return;const I=`s${G.id}`,ee=((re=k[I])==null?void 0:re.name)||`Skill ${G.id}`,w=(he=k[I])==null?void 0:he.icon;_.skillTotals[I]=(_.skillTotals[I]||0)+Y,f.set(I,(f.get(I)||0)+Y),h.set(I,ee),w&&!v.has(I)&&v.set(I,w),j.skillEntries[I]||(j.skillEntries[I]={name:ee,icon:w,players:{}}),!j.skillEntries[I].icon&&w&&(j.skillEntries[I].icon=w),j.skillEntries[I].players[P]=(j.skillEntries[I].players[P]||0)+Y})}),m.push(j)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:v.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},Y8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const[i,o]=y.useState(()=>Zy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[s,l]=y.useState(0),[c,d]=y.useState(0),[f,p]=y.useState(0),[m,h]=y.useState(0),[v,x]=y.useState(null),g=y.useRef(0),[b,k]=y.useState(0),S=y.useRef(null),C=y.useRef(null),[j,M]=y.useState(!1),T=y.useRef(null),R=e.length<=8,P=y.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}),[e,t,n,r,a]);y.useEffect(()=>{if(!(typeof Worker>"u")&&!j&&R)return C.current||(C.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DfbeUPZR-BFdSnNql.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=E=>{var G;((G=E.data)==null?void 0:G.type)==="result"&&(o(E.data.result),typeof E.data.computeId=="number"?l(E.data.computeId):l(X=>X+1),typeof E.data.logCount=="number"&&d(E.data.logCount),typeof E.data.token=="number"&&p(E.data.token),typeof E.data.completedAt=="number"&&h(E.data.completedAt),typeof E.data.flushId=="number"&&x(E.data.flushId))},C.current.onerror=E=>{var G;console.warn("[StatsWorker] Worker error. Falling back to main thread.",E),(G=C.current)==null||G.terminate(),C.current=null,M(!0)},C.current.onmessageerror=E=>{var G;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",E),(G=C.current)==null||G.terminate(),C.current=null,M(!0)},S.current!==null&&C.current.postMessage({type:"flush",flushId:S.current})),()=>{var E;(E=C.current)==null||E.terminate(),C.current=null}},[j,R]),y.useEffect(()=>{var E;if(!(!C.current||j||!R))try{g.current+=1,k(g.current),C.current.postMessage({type:"reset",token:g.current}),C.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}}),T.current&&(window.clearTimeout(T.current),T.current=null);let G=0;const X=()=>{if(!C.current)return;const re=5;for(let he=0;he<re&&G<e.length;he+=1,G+=1)C.current.postMessage({type:"log",payload:e[G]});G<e.length?T.current=window.setTimeout(X,0):(T.current=null,C.current.postMessage({type:"flush"}))};X()}catch(G){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",G),(E=C.current)==null||E.terminate(),C.current=null,M(!0)}},[P,e,t,n,r,a,R]);const _=y.useMemo(()=>!j&&typeof Worker<"u"&&R?null:Zy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}),[j,e,t,n,r,a,R]);return y.useEffect(()=>{!j&&typeof Worker<"u"&&R||(l(E=>E+1),d(e.length),p(g.current),h(Date.now()))},[_,j,e.length,R]),{result:j||typeof Worker>"u"||!R?_??Zy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}):i,computeTick:s,lastComputedLogCount:c,lastComputedToken:f,activeToken:b,lastComputedAt:m,lastComputedFlushId:v,requestFlush:()=>{const E=Date.now();return S.current=E,C.current&&!j&&C.current.postMessage({type:"flush",flushId:E}),E}}},G8=e=>({apmSpecBuckets:y.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=tz(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const j=Number(C);if(!Number.isFinite(j)||j<=0)return;const M=n.get(S),T=(M==null?void 0:M.name)||S,R=M==null?void 0:M.icon,P=a(T,S);d+=j,P&&(f+=j);let _=s.skillMap.get(S);_||(_={id:S,name:T,icon:R,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,_)),!_.icon&&R&&(_.icon=R),_.totalCasts+=j;const E=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;_.playerCounts.set(E,j)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,v=Math.max(0,d-f),x=m>0?v/m:0,g=c>0?d/c:0,b=c>0?v/c:0,k={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(k)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var v;const x=Number(((v=c.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,k=g>0?x/g:0;return{...h,count:x,apm:b,aps:k}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),X8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=y.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=y.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=y.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=y.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,k])=>{var S;if(n.size>0&&!n.has(b))return;let C=k;if(f){const j=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=j>0?k/j:0}v[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{v[b]===void 0&&(v[b]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=y.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function kO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=kO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=kO(e))&&(r&&(r+=" "),r+=t);return r}var Q8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function j1(e){if(typeof e!="string")return!1;var t=Q8;return t.includes(e)}var Z8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J8=new Set(Z8);function SO(e){return typeof e!="string"?!1:J8.has(e)}function NO(e){return typeof e=="string"&&e.startsWith("data-")}function Wi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(SO(n)||NO(n))&&(t[n]=e[n]);return t}function Tu(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Wi(t)}return typeof e=="object"&&!Array.isArray(e)?Wi(e):null}function za(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(SO(n)||NO(n)||j1(n))&&(t[n]=e[n]);return t}function eU(e){return e==null?null:y.isValidElement(e)?za(e.props):typeof e=="object"&&!Array.isArray(e)?za(e):null}var tU=["children","width","height","viewBox","className","style","title","desc"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function nU(e,t){if(e==null)return{};var n,r,a=rU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var C1=y.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=nU(e,tU),f=i||{width:r,height:a,x:0,y:0},p=kn("recharts-surface",o);return y.createElement("svg",Yb({},za(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),n)}),aU=["children","className"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function iU(e,t){if(e==null)return{};var n,r,a=oU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ri=y.forwardRef((e,t)=>{var{children:n,className:r}=e,a=iU(e,aU),i=kn("recharts-layer",r);return y.createElement("g",Gb({className:i},za(a),{ref:t}),n)}),jO=y.createContext(null),sU=()=>y.useContext(jO);function Kn(e){return function(){return e}}const CO=Math.cos,Ih=Math.sin,go=Math.sqrt,_h=Math.PI,o0=2*_h,Xb=Math.PI,Qb=2*Xb,_l=1e-6,lU=Qb-_l;function MO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class uU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MO:cU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>_l)if(!(Math.abs(f*l-c*d)>_l)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+c*c,x=m*m+h*h,g=Math.sqrt(v),b=Math.sqrt(p),k=i*Math.tan((Xb-Math.acos((v+p-x)/(2*g*b)))/2),S=k/b,C=k/g;Math.abs(S-1)>_l&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>_l||Math.abs(this._y1-d)>_l)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%Qb+Qb),p>lU?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>_l&&this._append`A${r},${r},0,${+(p>=Xb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function M1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uU(t)}function A1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AO(e){this._context=e}AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function s0(e){return new AO(e)}function PO(e){return e[0]}function EO(e){return e[1]}function TO(e,t){var n=Kn(!0),r=null,a=s0,i=null,o=M1(s);e=typeof e=="function"?e:e===void 0?PO:Kn(e),t=typeof t=="function"?t:t===void 0?EO:Kn(t);function s(l){var c,d=(l=A1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function dm(e,t,n){var r=null,a=Kn(!0),i=null,o=s0,s=null,l=M1(c);e=typeof e=="function"?e:e===void 0?PO:Kn(+e),t=typeof t=="function"?t:Kn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?EO:Kn(+n);function c(f){var p,m,h,v=(f=A1(f)).length,x,g=!1,b,k=new Array(v),S=new Array(v);for(i==null&&(s=o(b=l())),p=0;p<=v;++p){if(!(p<v&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(k[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(k[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):k[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return TO().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class OO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function dU(e){return new OO(e,!0)}function fU(e){return new OO(e,!1)}const P1={draw(e,t){const n=go(t/_h);e.moveTo(n,0),e.arc(0,0,n,0,o0)}},pU={draw(e,t){const n=go(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},DO=go(1/3),mU=DO*2,hU={draw(e,t){const n=go(t/mU),r=n*DO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gU={draw(e,t){const n=go(t),r=-n/2;e.rect(r,r,n,n)}},yU=.8908130915292852,IO=Ih(_h/10)/Ih(7*_h/10),vU=Ih(o0/10)*IO,bU=-CO(o0/10)*IO,xU={draw(e,t){const n=go(t*yU),r=vU*n,a=bU*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=o0*i/5,s=CO(o),l=Ih(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},Jy=go(3),wU={draw(e,t){const n=-go(t/(Jy*3));e.moveTo(0,n*2),e.lineTo(-Jy*n,-n),e.lineTo(Jy*n,-n),e.closePath()}},Ai=-.5,Pi=go(3)/2,Zb=1/go(12),kU=(Zb/2+1)*3,SU={draw(e,t){const n=go(t/kU),r=n/2,a=n*Zb,i=r,o=n*Zb+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Ai*r-Pi*a,Pi*r+Ai*a),e.lineTo(Ai*i-Pi*o,Pi*i+Ai*o),e.lineTo(Ai*s-Pi*l,Pi*s+Ai*l),e.lineTo(Ai*r+Pi*a,Ai*a-Pi*r),e.lineTo(Ai*i+Pi*o,Ai*o-Pi*i),e.lineTo(Ai*s+Pi*l,Ai*l-Pi*s),e.closePath()}};function NU(e,t){let n=null,r=M1(a);e=typeof e=="function"?e:Kn(e||P1),t=typeof t=="function"?t:Kn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Kn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Kn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Fh(){}function Lh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _O(e){this._context=e}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new _O(e)}function FO(e){this._context=e}FO.prototype={areaStart:Fh,areaEnd:Fh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CU(e){return new FO(e)}function LO(e){this._context=e}LO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MU(e){return new LO(e)}function RO(e){this._context=e}RO.prototype={areaStart:Fh,areaEnd:Fh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AU(e){return new RO(e)}function ZN(e){return e<0?-1:1}function JN(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(ZN(i)+ZN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function ej(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ev(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Rh(e){this._context=e}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,ej(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,ej(this,n=JN(this,e,t)),n);break;default:ev(this,this._t0,n=JN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $O(e){this._context=new BO(e)}($O.prototype=Object.create(Rh.prototype)).point=function(e,t){Rh.prototype.point.call(this,t,e)};function BO(e){this._context=e}BO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function PU(e){return new Rh(e)}function EU(e){return new $O(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tj(e),a=tj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function TU(e){return new zO(e)}function l0(e,t){this._context=e,this._t=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function OU(e){return new l0(e,.5)}function DU(e){return new l0(e,0)}function IU(e){return new l0(e,1)}function uc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Jb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _U(e,t){return e[t]}function FU(e){const t=[];return t.key=e,t}function LU(){var e=Kn([]),t=Jb,n=uc,r=_U;function a(i){var o=Array.from(e.apply(this,arguments),FU),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=A1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Kn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Kn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Jb:typeof i=="function"?i:Kn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??uc,a):n},a}function RU(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}uc(e,t)}}function $U(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}uc(e,t)}}function BU(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],x=v[r][1]||0,g=v[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,uc(e,t)}}var c0={},UO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(UO);var E1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(E1);var u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(u0);var d0={},VO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(VO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,n=u0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(d0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO,n=E1,r=u0,a=d0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(c0);var zU=c0.get;const dc=ho(zU);var UU=4;function Ys(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UU,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ys(s)+i:a+i},"")}var Ea=e=>e===0?0:e>0?1:-1,_o=e=>typeof e=="number"&&e!=+e,us=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,St=e=>(typeof e=="number"||e instanceof Number)&&!_o(e),Fo=e=>St(e)||typeof e=="string",VU=0,Mf=e=>{var t=++VU;return"".concat(e||"").concat(t)},zi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&typeof e!="string")return n;var a;if(us(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return _o(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},WO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Pa(e,t,n){return St(e)&&St(t)?Ys(e+n*(t-e)):t}function HO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):dc(r,t))===n)}var Kr=e=>e===null||typeof e>"u",rp=e=>Kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function WU(e){return e!=null}function ap(){}var HU=["type","size","sizeType"];function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(null,arguments)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){qU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qU(e,t,n){return(t=KU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GU(e,t){if(e==null)return{};var n,r,a=XU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qO={symbolCircle:P1,symbolCross:pU,symbolDiamond:hU,symbolSquare:gU,symbolStar:xU,symbolTriangle:wU,symbolWye:SU},QU=Math.PI/180,ZU=e=>{var t="symbol".concat(rp(e));return qO[t]||P1},JU=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*QU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},e7=(e,t)=>{qO["symbol".concat(rp(e))]=t},T1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=GU(e,HU),i=rj(rj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=ZU(o),m=NU().type(p).size(JU(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=za(i);return St(c)&&St(d)&&St(n)?y.createElement("path",ex({},f,{className:kn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};T1.registerSymbol=e7;var KO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,O1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{j1(a)&&(r[a]=i=>n[a](n,i))}),r},t7=(e,t,n)=>r=>(e(t,n,r),null),D1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];j1(a)&&typeof i=="function"&&(r||(r={}),r[a]=t7(i,t,n))}),r};function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){r7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=n7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=32,u7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function d7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Di/2,i=Di/6,o=Di/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Di,y2:a,className:"recharts-legend-icon"})}if(l==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Di,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return y.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Di/8,"h").concat(Di,"v").concat(Di*3/4,"h").concat(-Di,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=o7({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(T1,{fill:s,cx:a,cy:a,size:Di,sizeType:"diameter",type:l})}function f7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Di,height:Di},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=kn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return y.createElement("li",$h({className:m,style:l,key:"legend-item-".concat(f)},D1(e,d,f)),y.createElement(C1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(v," legend icon")},y.createElement(d7,{data:d,iconType:o,inactiveColor:i})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var p7=e=>{var t=Yr(e,u7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},y.createElement(f7,$h({},t,{payload:n})))},YO={},GO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(GO);var XO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(XO);var I1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(I1);var QO={},f0={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ZO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(f0);var JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,n=JO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(QO);var eD={},tD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(tD);var nD={},_1={},rD={},F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(F1);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(L1);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(R1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=L1,r=R1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,x,g,b,k){const S=p(h,v,x,g,b,k);return S!==void 0?!!S:i(h,v,m,k)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const x=h[v];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const x=d.get(h);if(p(x,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const x=f[v];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const k=d[b];let S=!1;if(p(k,x,v,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(rD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rD;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(_1);var aD={},$1={},iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(iD);var p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(p0);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",k="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",T="[object BigInt64Array]",R="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=R,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=k,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(B1);var oD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(oD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD,n=p0,r=B1,a=L1,i=oD;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const g=v[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})($1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(aD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1,n=aD;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(nD);var sD={},lD={},cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=p0,r=B1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(lD);var uD={},z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(z1);var dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E1,n=z1,r=dD,a=d0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(uD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1,n=u0,r=lD,a=c0,i=uD;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(sD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1,n=tD,r=nD,a=sD;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(eD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GO,n=XO,r=I1,a=QO,i=eD;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(YO);var m7=YO.uniqBy;const oj=ho(m7);function fD(e,t,n){return t===!0?oj(e,n):typeof t=="function"?oj(e,t):e}var pD={exports:{}},mD={},hD={exports:{}},gD={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ou=y;function h7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g7=typeof Object.is=="function"?Object.is:h7,y7=Ou.useState,v7=Ou.useEffect,b7=Ou.useLayoutEffect,x7=Ou.useDebugValue;function w7(e,t){var n=t(),r=y7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return b7(function(){a.value=n,a.getSnapshot=t,tv(a)&&i({inst:a})},[e,n,t]),v7(function(){return tv(a)&&i({inst:a}),e(function(){tv(a)&&i({inst:a})})},[e]),x7(n),n}function tv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!g7(e,n)}catch{return!0}}function k7(e,t){return t()}var S7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k7:w7;gD.useSyncExternalStore=Ou.useSyncExternalStore!==void 0?Ou.useSyncExternalStore:S7;hD.exports=gD;var N7=hD.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var m0=y,j7=N7;function C7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M7=typeof Object.is=="function"?Object.is:C7,A7=j7.useSyncExternalStore,P7=m0.useRef,E7=m0.useEffect,T7=m0.useMemo,O7=m0.useDebugValue;mD.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=P7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=T7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,M7(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=A7(e,i[0],i[1]);return E7(function(){o.hasValue=!0,o.value=s},[s]),O7(s),s};pD.exports=mD;var D7=pD.exports,U1=y.createContext(null),I7=e=>e,Wn=()=>{var e=y.useContext(U1);return e?e.store.dispatch:I7},Ym=()=>{},_7=()=>Ym,F7=(e,t)=>e===t;function xt(e){var t=y.useContext(U1);return D7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_7,t?t.store.getState:Ym,t?t.store.getState:Ym,t?e:Ym,F7)}function L7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function R7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var sj=e=>Array.isArray(e)?e:[e];function B7(e){const t=Array.isArray(e[0])?e[0]:e;return $7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function z7(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var U7=class{constructor(e){this.value=e}deref(){return this.value}},V7=typeof WeakRef<"u"?WeakRef:U7,W7=0,lj=1;function fm(){return{s:W7,v:void 0,o:null,p:null}}function yD(e,t={}){let n=fm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(h);x===void 0?(l=fm(),v.set(h,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(h);x===void 0?(l=fm(),v.set(h,l)):l=x}}const d=l;let f;if(l.s===lj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new V7(f):f}return d.s=lj,d.v=f,f}return o.clearCache=()=>{n=fm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function H7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),L7(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=yD,argsMemoizeOptions:h=[]}=d,v=sj(p),x=sj(h),g=B7(a),b=f(function(){return i++,c.apply(null,arguments)},...v),k=m(function(){o++;const S=z7(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(k,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var de=H7(yD),q7=Object.assign((e,t=de)=>{R7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>q7}),vD={},bD={},xD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(xD);var wD={},V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(wD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xD,n=wD,r=d0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(bD);var kD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(kD);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=f0,r=F1,a=R1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD,n=kD,r=W1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(vD);var K7=vD.sortBy;const h0=ho(K7);var SD=e=>e.legend.settings,Y7=e=>e.legend.size,G7=e=>e.legend.payload,X7=de([G7,SD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?h0(r,n):r});function Q7(){return xt(X7)}var pm=1;function ND(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>pm||Math.abs(o.left-t.left)>pm||Math.abs(o.top-t.top)>pm||Math.abs(o.width-t.width)>pm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z7=typeof Symbol=="function"&&Symbol.observable||"@@observable",cj=Z7,nv=()=>Math.random().toString(36).substring(7).split("").join("."),J7={INIT:`@@redux/INIT${nv()}`,REPLACE:`@@redux/REPLACE${nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nv()}`},Bh=J7;function H1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jD(e,t,n){if(typeof e!="function")throw new Error(fa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fa(1));return n(jD)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(l)throw new Error(fa(3));return a}function f(v){if(typeof v!="function")throw new Error(fa(4));if(l)throw new Error(fa(5));let x=!0;c();const g=s++;return o.set(g,v),function(){if(x){if(l)throw new Error(fa(6));x=!1,c(),o.delete(g),i=null}}}function p(v){if(!H1(v))throw new Error(fa(7));if(typeof v.type>"u")throw new Error(fa(8));if(typeof v.type!="string")throw new Error(fa(17));if(l)throw new Error(fa(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(fa(10));r=v,p({type:Bh.REPLACE})}function h(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(fa(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:v(g)}},[cj](){return this}}}return p({type:Bh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[cj]:h}}function eV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Bh.INIT})>"u")throw new Error(fa(12));if(typeof n(void 0,{type:Bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fa(13))})}function CD(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{eV(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(fa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function zh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function tV(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(fa(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=zh(...s)(a.dispatch),{...a,dispatch:i}}}function MD(e){return H1(e)&&"type"in e&&typeof e.type=="string"}var AD=Symbol.for("immer-nothing"),uj=Symbol.for("immer-draftable"),Ua=Symbol.for("immer-state");function no(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var gi=Object,Du=gi.getPrototypeOf,Uh="constructor",g0="prototype",tx="configurable",Vh="enumerable",Gm="writable",Af="value",ds=e=>!!e&&!!e[Ua];function fo(e){var t;return e?PD(e)||v0(e)||!!e[uj]||!!((t=e[Uh])!=null&&t[uj])||b0(e)||x0(e):!1}var nV=gi[g0][Uh].toString(),dj=new WeakMap;function PD(e){if(!e||!q1(e))return!1;const t=Du(e);if(t===null||t===gi[g0])return!0;const n=gi.hasOwnProperty.call(t,Uh)&&t[Uh];if(n===Object)return!0;if(!Kc(n))return!1;let r=dj.get(n);return r===void 0&&(r=Function.toString.call(n),dj.set(n,r)),r===nV}function y0(e,t,n=!0){ip(e)===0?(n?Reflect.ownKeys(e):gi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function ip(e){const t=e[Ua];return t?t.type_:v0(e)?1:b0(e)?2:x0(e)?3:0}var fj=(e,t,n=ip(e))=>n===2?e.has(t):gi[g0].hasOwnProperty.call(e,t),nx=(e,t,n=ip(e))=>n===2?e.get(t):e[t],Wh=(e,t,n,r=ip(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function rV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var v0=Array.isArray,b0=e=>e instanceof Map,x0=e=>e instanceof Set,q1=e=>typeof e=="object",Kc=e=>typeof e=="function",rv=e=>typeof e=="boolean";function aV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var qo=e=>e.copy_||e.base_,K1=e=>e.modified_?e.copy_:e.base_;function rx(e,t){if(b0(e))return new Map(e);if(x0(e))return new Set(e);if(v0(e))return Array[g0].slice.call(e);const n=PD(e);if(t===!0||t==="class_only"&&!n){const r=gi.getOwnPropertyDescriptors(e);delete r[Ua];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Gm]===!1&&(s[Gm]=!0,s[tx]=!0),(s.get||s.set)&&(r[o]={[tx]:!0,[Gm]:!0,[Vh]:s[Vh],[Af]:e[o]})}return gi.create(Du(e),r)}else{const r=Du(e);if(r!==null&&n)return{...e};const a=gi.create(r);return gi.assign(a,e)}}function Y1(e,t=!1){return w0(e)||ds(e)||!fo(e)||(ip(e)>1&&gi.defineProperties(e,{set:mm,add:mm,clear:mm,delete:mm}),gi.freeze(e),t&&y0(e,(n,r)=>{Y1(r,!0)},!1)),e}function iV(){no(2)}var mm={[Af]:iV};function w0(e){return e===null||!q1(e)?!0:gi.isFrozen(e)}var Hh="MapSet",ax="Patches",pj="ArrayMethods",ED={};function fc(e){const t=ED[e];return t||no(0,e),t}var mj=e=>!!ED[e],Pf,TD=()=>Pf,oV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mj(Hh)?fc(Hh):void 0,arrayMethodsPlugin_:mj(pj)?fc(pj):void 0});function hj(e,t){t&&(e.patchPlugin_=fc(ax),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ix(e){ox(e),e.drafts_.forEach(sV),e.drafts_=null}function ox(e){e===Pf&&(Pf=e.parent_)}var gj=e=>Pf=oV(Pf,e);function sV(e){const t=e[Ua];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ua].modified_&&(ix(t),no(4)),fo(e)&&(e=vj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ua].base_,e,t)}else e=vj(t,n);return lV(t,e,!0),ix(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AD?e:void 0}function vj(e,t){if(w0(t))return t;const n=t[Ua];if(!n)return qh(t,e.handledSet_,e);if(!k0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ID(n,e)}return n.copy_}function lV(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y1(t,n)}function OD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var k0=(e,t)=>e.scope_===t,cV=[];function DD(e,t,n,r){const a=qo(e),i=e.type_;if(r!==void 0&&nx(a,r,i)===t){Wh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;y0(a,(l,c)=>{if(ds(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??cV;for(const s of o)Wh(a,s,n,i)}function uV(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!k0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=K1(i);DD(e,i.draft_??i,o,n),ID(i,r)})}function ID(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}OD(e)}}function dV(e,t,n){const{scope_:r}=e;if(ds(n)){const a=n[Ua];k0(a,r)&&a.callbacks_.push(function(){Xm(e);const i=K1(a);DD(e,n,i,t)})}else fo(n)&&e.callbacks_.push(function(){const a=qo(e);e.type_===3?a.has(n)&&qh(n,r.handledSet_,r):nx(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&qh(nx(e.copy_,t,e.type_),r.handledSet_,r)})}function qh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ds(e)||t.has(e)||!fo(e)||w0(e)||(t.add(e),y0(e,(r,a)=>{if(ds(a)){const i=a[Ua];if(k0(i,n)){const o=K1(i);Wh(e,r,o,e.type_),OD(i)}}else fo(a)&&qh(a,t,n)})),e}function fV(e,t){const n=v0(e),r={type_:n?1:0,scope_:t?t.scope_:TD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Kh;n&&(a=[r],i=Ef);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Kh={get(e,t){if(t===Ua)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=qo(e);if(!fj(a,t,e.type_))return pV(e,a,t);const i=a[t];if(e.finalized_||!fo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&aV(t))return i;if(i===av(e.base_,t)){Xm(e);const o=e.type_===1?+t:t,s=lx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in qo(e)},ownKeys(e){return Reflect.ownKeys(qo(e))},set(e,t,n){const r=_D(qo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=av(qo(e),t),i=a==null?void 0:a[Ua];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(rV(n,a)&&(n!==void 0||fj(e.base_,t,e.type_)))return!0;Xm(e),sx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),dV(e,t,n)),!0},deleteProperty(e,t){return Xm(e),av(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),sx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Gm]:!0,[tx]:e.type_!==1||t!=="length",[Vh]:r[Vh],[Af]:n[t]}},defineProperty(){no(11)},getPrototypeOf(e){return Du(e.base_)},setPrototypeOf(){no(12)}},Ef={};for(let e in Kh){let t=Kh[e];Ef[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Ef.deleteProperty=function(e,t){return Ef.set.call(this,e,t,void 0)};Ef.set=function(e,t,n){return Kh.set.call(this,e[0],t,n,e[0])};function av(e,t){const n=e[Ua];return(n?qo(n):e)[t]}function pV(e,t,n){var r;const a=_D(t,n);return a?Af in a?a[Af]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function _D(e,t){if(!(t in e))return;let n=Du(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Du(n)}}function sx(e){e.modified_||(e.modified_=!0,e.parent_&&sx(e.parent_))}function Xm(e){e.copy_||(e.assigned_=new Map,e.copy_=rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Kc(t)&&!Kc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Kc(n)||no(6),r!==void 0&&!Kc(r)&&no(7);let a;if(fo(t)){const i=gj(this),o=lx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?ix(i):ox(i)}return hj(i,r),yj(a,i)}else if(!t||!q1(t)){if(a=n(t),a===void 0&&(a=t),a===AD&&(a=void 0),this.autoFreeze_&&Y1(a,!0),r){const i=[],o=[];fc(ax).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else no(1,t)},this.produceWithPatches=(t,n)=>{if(Kc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},rv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),rv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),rv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fo(e)||no(8),ds(e)&&(e=so(e));const t=gj(this),n=lx(t,e,void 0);return n[Ua].isManual_=!0,ox(t),n}finishDraft(e,t){const n=e&&e[Ua];(!n||!n.isManual_)&&no(9);const{scope_:r}=n;return hj(r,t),yj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=fc(ax).applyPatches_;return ds(e)?r(e,t):this.produce(e,a=>r(a,t))}};function lx(e,t,n,r){const[a,i]=b0(t)?fc(Hh).proxyMap_(t,n):x0(t)?fc(Hh).proxySet_(t,n):fV(t,n);return((n==null?void 0:n.scope_)??TD()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?uV(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function so(e){return ds(e)||no(10,e),FD(e)}function FD(e){if(!fo(e)||w0(e))return e;const t=e[Ua];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=rx(e,!0);return y0(n,(a,i)=>{Wh(n,a,FD(i))},r),t&&(t.finalized_=!1),n}var hV=new mV,LD=hV.produce;function RD(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var gV=RD(),yV=RD,vV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)};function Hi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(vi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>MD(r)&&r.type===e,n}var $D=class Ld extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ld.prototype)}static get[Symbol.species](){return Ld}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ld(...t[0].concat(this)):new Ld(...t.concat(this))}};function bj(e){return fo(e)?LD(e,()=>{}):e}function hm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function bV(e){return typeof e=="boolean"}var xV=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new $D;return t&&(bV(t)?i.push(gV):i.push(yV(t.extraArgument))),i},BD="RTK_autoBatch",nr=()=>e=>({payload:e,meta:{[BD]:!0}}),xj=e=>t=>{setTimeout(t,e)},zD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xj(10):e.type==="callback"?e.queueNotification:xj(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[BD]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},wV=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new $D(e);return n&&r.push(zD(typeof n=="object"?n:void 0)),r};function kV(e){const t=xV(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(H1(n))s=CD(n);else throw new Error(vi(1));let l;typeof r=="function"?l=r(t):l=t();let c=zh;a&&(c=vV({trace:!1,...typeof a=="object"&&a}));const d=tV(...l),f=wV(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return jD(s,i,m)}function UD(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(vi(28));if(s in t)throw new Error(vi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function SV(e){return typeof e=="function"}function NV(e,t){let[n,r,a]=UD(t),i;if(SV(e))i=()=>bj(e());else{const s=bj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(ds(d)){const p=f(d,l);return p===void 0?d:p}else{if(fo(d))return LD(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var jV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CV=(e=21)=>{let t="",n=e;for(;n--;)t+=jV[Math.random()*64|0];return t},MV=Symbol.for("rtk-slice-createasyncthunk");function AV(e,t){return`${e}/${t}`}function PV({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[MV];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(vi(11));const o=(typeof r.reducers=="function"?r.reducers(TV()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(k,S){const C=typeof k=="string"?k:k.type;if(!C)throw new Error(vi(12));if(C in l.sliceCaseReducersByType)throw new Error(vi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(k,S){return l.sliceMatchers.push({matcher:k,reducer:S}),c},exposeAction(k,S){return l.actionCreators[k]=S,c},exposeCaseReducer(k,S){return l.sliceCaseReducersByName[k]=S,c}};s.forEach(k=>{const S=o[k],C={reducerName:k,type:AV(a,k),createNotation:typeof r.reducers=="function"};DV(S)?_V(C,S,c,n):OV(C,S,c)});function d(){const[k={},S=[],C=void 0]=typeof r.extraReducers=="function"?UD(r.extraReducers):[r.extraReducers],j={...k,...l.sliceCaseReducersByType};return NV(r.initialState,M=>{for(let T in j)M.addCase(T,j[T]);for(let T of l.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of S)M.addMatcher(T.matcher,T.reducer);C&&M.addDefaultCase(C)})}const f=k=>k,p=new Map,m=new WeakMap;let h;function v(k,S){return h||(h=d()),h(k,S)}function x(){return h||(h=d()),h.getInitialState()}function g(k,S=!1){function C(M){let T=M[k];return typeof T>"u"&&S&&(T=hm(m,C,x)),T}function j(M=f){const T=hm(p,S,()=>new WeakMap);return hm(T,M,()=>{const R={};for(const[P,_]of Object.entries(r.selectors??{}))R[P]=EV(_,M,()=>hm(m,M,x),S);return R})}return{reducerPath:k,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const b={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(k,{reducerPath:S,...C}={}){const j=S??i;return k.inject({reducerPath:j,reducer:v},C),{...b,...g(j,!0)}}};return b}}function EV(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ii=PV();function TV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function OV({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!IV(r))throw new Error(vi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Hi(e,o):Hi(e))}function DV(e){return e._reducerDefinitionType==="asyncThunk"}function IV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _V({type:e,reducerName:t},n,r,a){if(!a)throw new Error(vi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||gm,pending:s||gm,rejected:l||gm,settled:c||gm})}function gm(){}var FV="task",VD="listener",WD="completed",G1="cancelled",LV=`task-${G1}`,RV=`task-${WD}`,cx=`${VD}-${G1}`,$V=`${VD}-${WD}`,S0=class{constructor(e){P2(this,"name","TaskAbortError"),P2(this,"message"),this.code=e,this.message=`${FV} ${G1} (reason: ${e})`}},X1=(e,t)=>{if(typeof e!="function")throw new TypeError(vi(32))},Yh=()=>{},HD=(e,t=Yh)=>(e.catch(t),e),qD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tc=e=>{if(e.aborted)throw new S0(e.reason)};function KD(e,t){let n=Yh;return new Promise((r,a)=>{const i=()=>a(new S0(e.reason));if(e.aborted){i();return}n=qD(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Yh})}var BV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof S0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gh=e=>t=>HD(KD(e,t).then(n=>(tc(e),n))),YD=e=>{const t=Gh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:bu}=Object,wj={},N0="listenerMiddleware",zV=(e,t)=>{const n=r=>qD(e,()=>r.abort(e.reason));return(r,a)=>{X1(r);const i=new AbortController;n(i);const o=BV(async()=>{tc(e),tc(i.signal);const s=await r({pause:Gh(i.signal),delay:YD(i.signal),signal:i.signal});return tc(i.signal),s},()=>i.abort(RV));return a!=null&&a.autoJoin&&t.push(o.catch(Yh)),{result:Gh(e)(o),cancel(){i.abort(LV)}}}},UV=(e,t)=>{const n=async(r,a)=>{tc(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await KD(t,Promise.race(o));return tc(t),s}finally{i()}};return(r,a)=>HD(n(r,a))},GD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Hi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(vi(21));return X1(i),{predicate:a,type:t,effect:i}},XD=bu(e=>{const{type:t,predicate:n,effect:r}=GD(e);return{id:CV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>XD}),kj=(e,t)=>{const{type:n,effect:r,predicate:a}=GD(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},ux=e=>{e.pending.forEach(t=>{t.abort(cx)})},VV=(e,t)=>()=>{for(const n of t.keys())ux(n);e.clear()},Sj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},QD=bu(Hi(`${N0}/add`),{withTypes:()=>QD}),WV=Hi(`${N0}/removeAll`),ZD=bu(Hi(`${N0}/remove`),{withTypes:()=>ZD}),HV=(...e)=>{console.error(`${N0}/error`,...e)},op=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=HV}=e;X1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&ux(p)}),l=p=>{const m=kj(t,p)??XD(p);return s(m)};bu(l,{withTypes:()=>l});const c=p=>{const m=kj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&ux(m)),!!m};bu(c,{withTypes:()=>c});const d=async(p,m,h,v)=>{const x=new AbortController,g=UV(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,bu({},h,{getOriginalState:v,condition:(k,S)=>g(k,S).then(Boolean),take:g,delay:YD(x.signal),pause:Gh(x.signal),extra:i,signal:x.signal,fork:zV(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,S,C)=>{k!==x&&(k.abort(cx),C.delete(k))})},cancel:()=>{x.abort(cx),p.pending.delete(x)},throwIfCancelled:()=>{tc(x.signal)}})))}catch(k){k instanceof S0||Sj(o,k,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort($V),a(p),p.pending.delete(x)}},f=VV(t,n);return{middleware:p=>m=>h=>{if(!MD(h))return m(h);if(QD.match(h))return l(h.payload);if(WV.match(h)){f();return}if(ZD.match(h))return c(h.payload);let v=p.getState();const x=()=>{if(v===wj)throw new Error(vi(23));return v};let g;try{if(g=m(h),t.size>0){const b=p.getState(),k=Array.from(t.values());for(const S of k){let C=!1;try{C=S.predicate(h,b,v)}catch(j){C=!1,Sj(o,j,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{v=wj}return g},startListening:l,stopListening:c,clearListeners:f}};function vi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JD=ii({name:"chartLayout",initialState:qV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:KV,setLayout:YV,setChartSize:GV,setScale:XV}=JD.actions,QV=JD.reducer;function e3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function $r(e){return Number.isFinite(e)}function Lo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){ZV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e,t,n){return Kr(e)||Kr(t)?n:Fo(t)?dc(e,t,n):typeof t=="function"?t(e):n}var t9=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&St(e[i]))return su(su({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&St(e[o]))return su(su({},e),{},{[o]:e[o]+(a||0)})}return e},hl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",t3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},n3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?Ea(i[0]-i[1])*2*v:v,f||p){var x=(f||p||[]).map((g,b)=>{var k=r?r.indexOf(g):g;return{coordinate:o(k)+v,value:g,offset:v,index:b}});return x.filter(g=>!_o(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+v,value:g,index:b,offset:v})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+v,value:g,offset:v,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+v,value:r?r[g]:g,index:b,offset:v}))},jj=1e-4,n9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-jj,i=Math.max(r[0],r[1])+jj,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},r9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=_o(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},a9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=_o(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},i9={sign:r9,expand:RU,none:uc,silhouette:$U,wiggle:BU,positive:a9},o9=(e,t,n)=>{var r,a=(r=i9[n])!==null&&r!==void 0?r:uc,i=LU().keys(t).value((s,l)=>Number(Xn(s,l,0))).order(Jb).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=Xn(e[d],t[l],0);Array.isArray(f)&&f.length===2&&St(f[0])&&St(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function Cj(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(a[t.dataKey])){var s=HO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=Xn(a,Kr(o)?t.dataKey:o);return Kr(l)?null:t.scale(l)}var s9=e=>{var t=e.flat(2).filter(St);return[Math.min(...t),Math.max(...t)]},l9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],c9=(e,t,n)=>{if(e!=null)return l9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=e3(c,t,n),f=s9(d);return!$r(f[0])||!$r(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Mj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Aj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=h0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Pj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return su(su({},t),{},{dataKey:n,payload:r,value:a,name:i})}function j0(e,t){if(e)return String(e);if(typeof t=="string")return t}var u9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},d9=(e,t)=>t==="centric"?e.angle:e.radius,vs=e=>e.layout.width,bs=e=>e.layout.height,f9=e=>e.layout.scale,r3=e=>e.layout.margin,C0=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),M0=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),a3="data-recharts-item-index",i3="data-recharts-item-id",sp=60;function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){p9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g9=e=>e.brush.height;function y9(e){var t=M0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function v9(e){var t=M0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function b9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function x9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var oa=de([vs,bs,r3,g9,y9,v9,b9,x9,SD,Y7],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=ym(ym({},f),d),m=p.bottom;p.bottom+=r,p=t9(p,l,c);var h=e-p.left-p.right,v=t-p.top-p.bottom;return ym(ym({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),w9=de(oa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),o3=de(vs,bs,(e,t)=>({x:0,y:0,width:e,height:t})),k9=y.createContext(null),oi=()=>y.useContext(k9)!=null,A0=e=>e.brush,P0=de([A0,oa,r3],(e,t,n)=>({height:e.height,x:St(e.x)?e.x:t.left,y:St(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:St(e.width)?e.width:t.width})),s3={},l3={},c3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const k=p==null;m(),l&&k&&d()};return g.schedule=m,g.cancel=v,g.flush=x,a==null||a.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(c3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:c}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(l3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(s3);var S9=s3.throttle;const N9=ho(S9);var Xh=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},u3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=us(r)?e:Number(r),l=us(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},j9={width:0,height:0,overflow:"visible"},C9={width:0,overflowX:"visible"},M9={height:0,overflowY:"visible"},A9={},P9=e=>{var{width:t,height:n}=e,r=us(t),a=us(n);return r&&a?j9:r?C9:a?M9:A9};function E9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fx.apply(null,arguments)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return(t=O9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d3=y.createContext({width:-1,height:-1});function I9(e){return Lo(e.width)&&Lo(e.height)}function f3(e){var{children:t,width:n,height:r}=e,a=y.useMemo(()=>({width:n,height:r}),[n,r]);return I9(a)?y.createElement(d3.Provider,{value:a},t):null}var Q1=()=>y.useContext(d3),_9=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=y.useRef(null),x=y.useRef();x.current=m,y.useImperativeHandle(t,()=>v.current);var[g,b]=y.useState({containerWidth:r.width,containerHeight:r.height}),k=y.useCallback((T,R)=>{b(P=>{var _=Math.round(T),E=Math.round(R);return P.containerWidth===_&&P.containerHeight===E?P:{containerWidth:_,containerHeight:E}})},[]);y.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return ap;var T=E=>{var G,{width:X,height:re}=E[0].contentRect;k(X,re),(G=x.current)===null||G===void 0||G.call(x,X,re)};d>0&&(T=N9(T,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:P,height:_}=v.current.getBoundingClientRect();return k(P,_),R.observe(v.current),()=>{R.disconnect()}},[k,d]);var{containerWidth:S,containerHeight:C}=g;Xh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:M}=u3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Xh(j!=null&&j>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,a,i,o,s,n),y.createElement("div",{id:f?"".concat(f):void 0,className:kn("recharts-responsive-container",p),style:Oj(Oj({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},y.createElement("div",{style:P9({width:a,height:i})},y.createElement(f3,{width:j,height:M},c)))}),pc=y.forwardRef((e,t)=>{var n=Q1();if(Lo(n.width)&&Lo(n.height))return e.children;var{width:r,height:a}=E9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=u3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return St(i)&&St(o)?y.createElement(f3,{width:i,height:o},e.children):y.createElement(_9,fx({},e,{width:r,height:a,ref:t}))});function p3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var E0=()=>{var e,t=oi(),n=xt(w9),r=xt(P0),a=(e=xt(A0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},F9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},m3=()=>{var e;return(e=xt(oa))!==null&&e!==void 0?e:F9},Z1=()=>xt(vs),J1=()=>xt(bs),L9=()=>xt(e=>e.layout.margin),Tn=e=>e.layout.layoutType,lp=()=>xt(Tn),R9=()=>{var e=lp();return e!==void 0},T0=e=>{var t=Wn(),n=oi(),{width:r,height:a}=e,i=Q1(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),y.useEffect(()=>{!n&&Lo(o)&&Lo(s)&&t(GV({width:o,height:s}))},[t,n,o,s]),null},h3=Symbol.for("immer-nothing"),Dj=Symbol.for("immer-draftable"),wi=Symbol.for("immer-state");function ro(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tf=Object.getPrototypeOf;function Iu(e){return!!e&&!!e[wi]}function mc(e){var t;return e?g3(e)||Array.isArray(e)||!!e[Dj]||!!((t=e.constructor)!=null&&t[Dj])||cp(e)||D0(e):!1}var $9=Object.prototype.constructor.toString(),Ij=new WeakMap;function g3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Ij.get(n);return r===void 0&&(r=Function.toString.call(n),Ij.set(n,r)),r===$9}function Qh(e,t,n=!0){O0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function O0(e){const t=e[wi];return t?t.type_:Array.isArray(e)?1:cp(e)?2:D0(e)?3:0}function px(e,t){return O0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y3(e,t,n){const r=O0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function B9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cp(e){return e instanceof Map}function D0(e){return e instanceof Set}function Fl(e){return e.copy_||e.base_}function mx(e,t){if(cp(e))return new Map(e);if(D0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=g3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[wi];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Tf(e),r)}else{const r=Tf(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function ek(e,t=!1){return I0(e)||Iu(e)||!mc(e)||(O0(e)>1&&Object.defineProperties(e,{set:vm,add:vm,clear:vm,delete:vm}),Object.freeze(e),t&&Object.values(e).forEach(n=>ek(n,!0))),e}function z9(){ro(2)}var vm={value:z9};function I0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var U9={};function hc(e){const t=U9[e];return t||ro(0,e),t}var Of;function v3(){return Of}function V9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _j(e,t){t&&(hc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hx(e){gx(e),e.drafts_.forEach(W9),e.drafts_=null}function gx(e){e===Of&&(Of=e.parent_)}function Fj(e){return Of=V9(Of,e)}function W9(e){const t=e[wi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Lj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[wi].modified_&&(hx(t),ro(4)),mc(e)&&(e=Zh(t,e),t.parent_||Jh(t,e)),t.patches_&&hc("Patches").generateReplacementPatches_(n[wi].base_,e,t.patches_,t.inversePatches_)):e=Zh(t,n,[]),hx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h3?e:void 0}function Zh(e,t,n){if(I0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[wi];if(!a)return Qh(t,(i,o)=>Rj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Jh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Qh(o,(l,c)=>Rj(e,a,i,l,c,n,s),r),Jh(e,i,!1),n&&e.patches_&&hc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Rj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=I0(a);if(!(s&&!o)){if(Iu(a)){const l=i&&t&&t.type_!==3&&!px(t.assigned_,r)?i.concat(r):void 0,c=Zh(e,a,l);if(y3(n,r,c),Iu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(mc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Zh(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jh(e,a)}}}function Jh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ek(t,n)}function H9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:v3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=tk;n&&(a=[r],i=Df);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var tk={get(e,t){if(t===wi)return e;const n=Fl(e);if(!px(n,t))return q9(e,n,t);const r=n[t];return e.finalized_||!mc(r)?r:r===iv(e.base_,t)?(ov(e),e.copy_[t]=vx(r,e)):r},has(e,t){return t in Fl(e)},ownKeys(e){return Reflect.ownKeys(Fl(e))},set(e,t,n){const r=b3(Fl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=iv(Fl(e),t),i=a==null?void 0:a[wi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(B9(n,a)&&(n!==void 0||px(e.base_,t)))return!0;ov(e),yx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ov(e),yx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ro(11)},getPrototypeOf(e){return Tf(e.base_)},setPrototypeOf(){ro(12)}},Df={};Qh(tk,(e,t)=>{Df[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Df.deleteProperty=function(e,t){return Df.set.call(this,e,t,void 0)};Df.set=function(e,t,n){return tk.set.call(this,e[0],t,n,e[0])};function iv(e,t){const n=e[wi];return(n?Fl(n):e)[t]}function q9(e,t,n){var r;const a=b3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function b3(e,t){if(!(t in e))return;let n=Tf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Tf(n)}}function yx(e){e.modified_||(e.modified_=!0,e.parent_&&yx(e.parent_))}function ov(e){e.copy_||(e.copy_=mx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var K9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&ro(6),r!==void 0&&typeof r!="function"&&ro(7);let a;if(mc(t)){const i=Fj(this),o=vx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?hx(i):gx(i)}return _j(i,r),Lj(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===h3&&(a=void 0),this.autoFreeze_&&ek(a,!0),r){const i=[],o=[];hc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else ro(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mc(e)||ro(8),Iu(e)&&(e=Y9(e));const t=Fj(this),n=vx(e,void 0);return n[wi].isManual_=!0,gx(t),n}finishDraft(e,t){const n=e&&e[wi];(!n||!n.isManual_)&&ro(9);const{scope_:r}=n;return _j(r,t),Lj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=hc("Patches").applyPatches_;return Iu(e)?r(e,t):this.produce(e,a=>r(a,t))}};function vx(e,t){const n=cp(e)?hc("MapSet").proxyMap_(e,t):D0(e)?hc("MapSet").proxySet_(e,t):H9(e,t);return(t?t.scope_:v3()).drafts_.push(n),n}function Y9(e){return Iu(e)||ro(10,e),x3(e)}function x3(e){if(!mc(e)||I0(e))return e;const t=e[wi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mx(e,!0);return Qh(n,(a,i)=>{y3(n,a,x3(i))},r),t&&(t.finalized_=!1),n}var G9=new K9;G9.produce;var X9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w3=ii({name:"legend",initialState:X9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=so(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:nr()},removeLegendPayload:{reducer(e,t){var n=so(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:nr()}}}),{setLegendSize:$j,setLegendSettings:Q9,addLegendPayload:k3,replaceLegendPayload:S3,removeLegendPayload:N3}=w3.actions,Z9=w3.reducer,J9=["contextPayload"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(null,arguments)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){eW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t,n){return(t=tW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rW(e,t){if(e==null)return{};var n,r,a=aW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iW(e){return e.value}function oW(e){var{contextPayload:t}=e,n=rW(e,J9),r=fD(t,e.payloadUniqBy,iW),a=_u(_u({},n),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(p7,a)}function sW(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_u(_u({},c),d)}function lW(e){var t=Wn();return y.useEffect(()=>{t(Q9(e))},[t,e]),null}function cW(e){var t=Wn();return y.useEffect(()=>(t($j(e)),()=>{t($j({width:0,height:0}))}),[t,e]),null}function uW(e,t,n,r){return e==="vertical"&&St(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var dW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function j3(e){var t=Yr(e,dW),n=Q7(),r=sU(),a=L9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=ND([n]),f=Z1(),p=J1();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=uW(t.layout,o,i,m),v=l?s:_u(_u({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},sW(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},y.createElement(lW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&y.createElement(cW,{width:c.width,height:c.height}),y.createElement(oW,bx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Ku.createPortal(g,x)}j3.displayName="Legend";function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){fW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fW(e,t,n){return(t=pW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hW(e){return Array.isArray(e)&&Fo(e[0])&&Fo(e[1])?e.join(" ~ "):e}var gW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},j=(s?h0(i,s):i).map((M,T)=>{if(M.type==="none")return null;var R=M.formatter||o||hW,{value:P,name:_}=M,E=P,G=_;if(R){var X=R(P,_,M,T,i);if(Array.isArray(X))[E,G]=X;else if(X!=null)E=X;else return null}var re=sv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:re},Fo(G)?y.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Fo(G)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},E),y.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},h=sv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=sv({margin:0},a),x=!Kr(d),g=x?d:"",b=kn("recharts-default-tooltip",l),k=kn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",xx({className:b,style:h},S),y.createElement("p",{className:k,style:v},y.isValidElement(g)?g:"".concat(g)),m())},xd="recharts-tooltip-wrapper",yW={visibility:"hidden"};function vW(e){var{coordinate:t,translateX:n,translateY:r}=e;return kn(xd,{["".concat(xd,"-right")]:St(n)&&t&&St(t.x)&&n>=t.x,["".concat(xd,"-left")]:St(n)&&t&&St(t.x)&&n<t.x,["".concat(xd,"-bottom")]:St(r)&&t&&St(t.y)&&r>=t.y,["".concat(xd,"-top")]:St(r)&&t&&St(t.y)&&r<t.y})}function Uj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&St(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var v=f+s,x=p+c;return v>x?Math.max(d,p):Math.max(f,p)}function bW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function xW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Uj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Uj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=bW({translateX:d,translateY:f,useTranslate3d:s})):c=yW,{cssProperties:c,cssClasses:vW({translateX:d,translateY:f,coordinate:n})}}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wx(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SW extends y.PureComponent{constructor(){super(...arguments),wx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:k}=xW({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=g?{}:bm(bm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=bm(bm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var C3=()=>{var e;return(e=xt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qj={curveBasisClosed:CU,curveBasisOpen:MU,curveBasis:jU,curveBumpX:dU,curveBumpY:fU,curveLinearClosed:AU,curveLinear:s0,curveMonotoneX:PU,curveMonotoneY:EU,curveNatural:TU,curveStep:OU,curveStepAfter:IU,curveStepBefore:DU},eg=e=>$r(e.x)&&$r(e.y),Kj=e=>e.base!=null&&eg(e.base)&&eg(e),wd=e=>e.x,kd=e=>e.y,MW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(rp(e));return(n==="curveMonotone"||n==="curveBump")&&t?qj["".concat(n).concat(t==="vertical"?"Y":"X")]:qj[n]||s0},AW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=MW(t,a),s=i?n.filter(eg):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>Hj(Hj({},m),{},{base:r[h]}));a==="vertical"?l=dm().y(kd).x1(wd).x0(m=>m.base.x):l=dm().x(wd).y1(kd).y0(m=>m.base.y);var d=l.defined(Kj).curve(o),f=i?c.filter(Kj):c;return d(f)}a==="vertical"&&St(r)?l=dm().y(kd).x1(wd).x0(r):St(r)?l=dm().x(wd).y1(kd).y0(r):l=TO().x(wd).y(kd);var p=l.defined(eg).curve(o);return p(s)},nk=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=lp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?AW(o):r;return y.createElement("path",kx({},Wi(e),O1(e),{className:kn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},PW=["x","y","top","left","width","height","className"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){TW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TW(e,t,n){return(t=OW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IW(e,t){if(e==null)return{};var n,r,a=_W(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _W(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FW=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),LW=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=IW(e,PW),c=EW({x:t,y:n,top:r,left:a,width:i,height:o},l);return!St(t)||!St(n)||!St(i)||!St(o)||!St(r)||!St(a)?null:y.createElement("path",Sx({},za(c),{className:kn("recharts-cross",s),d:FW(t,n,i,o,r,a)}))};function RW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return(t=BW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),M3=(e,t,n)=>e.map(r=>"".concat(UW(r)," ").concat(t,"ms ").concat(n)).join(","),VW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),If=(e,t)=>Object.keys(t).reduce((n,r)=>Xj(Xj({},n),{},{[r]:e(r,t[r])}),{});function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){WW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WW(e,t,n){return(t=HW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=(e,t,n)=>e+(t-e)*n,Nx=e=>{var{from:t,to:n}=e;return t!==n},A3=(e,t,n)=>{var r=If((a,i)=>{if(Nx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Hr(Hr({},i),{},{from:o,velocity:s})}return i},t);return n<1?If((a,i)=>Nx(i)&&r[a]!=null?Hr(Hr({},i),{},{velocity:tg(i.velocity,r[a].velocity,n),from:tg(i.from,r[a].from,n)}):i,t):A3(e,r,n-1)};function KW(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Hr(Hr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>If((p,m)=>m.from,s),c=()=>!Object.values(s).filter(Nx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=A3(n,s,h),a(Hr(Hr(Hr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function YW(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Hr(Hr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=If((v,x)=>tg(...x,n(p)),l);if(i(Hr(Hr(Hr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=If((v,x)=>tg(...x,n(1)),l);i(Hr(Hr(Hr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const GW=(e,t,n,r,a,i)=>{var o=VW(e,t);return n==null?()=>(a(Hr(Hr({},e),t)),()=>{}):n.isStepper===!0?KW(e,t,n,o,a,i):YW(e,t,n,r,o,a,i)};var ng=1e-4,P3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],E3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Zj=(e,t)=>n=>{var r=P3(e,t);return E3(r,n)},XW=(e,t)=>n=>{var r=P3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return E3(a,n)},QW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},ZW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=QW(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},JW=(e,t,n,r)=>{var a=Zj(e,n),i=Zj(t,r),o=XW(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<ng||h<ng)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},Jj=function(){return JW(...ZW(...arguments))},eH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<ng&&Math.abs(d)<ng?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},tH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jj(e);case"spring":return eH();default:if(e.split("(")[0]==="cubic-bezier")return Jj(e)}return typeof e=="function"?e:null};function nH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class rH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function aH(){return nH(new rH)}var iH=y.createContext(aH);function oH(e,t){var n=y.useContext(iH);return y.useMemo(()=>t??n(e),[e,t,n])}var sH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_0={isSsr:sH()},lH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},eC={t:0},lv={t:1};function F0(e){var t=Yr(e,lH),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!_0.isSsr:n,f=oH(t.animationId,t.animationManager),[p,m]=y.useState(d?eC:lv),h=y.useRef(null);return y.useEffect(()=>{d||m(lv)},[d]),y.useEffect(()=>{if(!d||!r)return ap;var v=GW(eC,lv,tH(i),a,m,f.getTimeoutController()),x=()=>{h.current=v()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function L0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(Mf(t)),r=y.useRef(e);return r.current!==e&&(n.current=Mf(t),r.current=e),n.current}var cH=["radius"],uH=["radius"],tC,nC,rC,aC,iC,oC,sC,lC,cC,uC;function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){dH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dH(e,t,n){return(t=fH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(null,arguments)}function pC(e,t){if(e==null)return{};var n,r,a=mH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function So(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mC=(e,t,n,r,a)=>{var i=Ys(n),o=Ys(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=br(tC||(tC=So(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=br(nC||(nC=So(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=br(rC||(rC=So(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=br(aC||(aC=So(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=br(iC||(iC=So(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=br(oC||(oC=So(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=br(sC||(sC=So(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=br(lC||(lC=So(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=br(cC||(cC=So(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+c*v,t,e+n-c*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-c*v,t+r,e+c*v,t+r,v,v,d,e,t+r-l*v)}else f=br(uC||(uC=So(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},hC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T3=e=>{var t=Yr(e,hC),n=y.useRef(null),[r,a]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,x=y.useRef(s),g=y.useRef(l),b=y.useRef(i),k=y.useRef(o),S=y.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=L0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=kn("recharts-rectangle",d);if(!v){var M=za(t),{radius:T}=M,R=pC(M,cH);return y.createElement("path",rg({},R,{x:Ys(i),y:Ys(o),width:Ys(s),height:Ys(l),radius:typeof c=="number"?c:void 0,className:j,d:mC(i,o,s,l,c)}))}var P=x.current,_=g.current,E=b.current,G=k.current,X="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),he=M3(["strokeDasharray"],p,typeof f=="string"?f:hC.animationEasing);return y.createElement(F0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},Y=>{var I=Pa(P,s,Y),ee=Pa(_,l,Y),w=Pa(E,i,Y),$=Pa(G,o,Y);n.current&&(x.current=I,g.current=ee,b.current=w,k.current=$);var A;h?Y>0?A={transition:he,strokeDasharray:re}:A={strokeDasharray:X}:A={strokeDasharray:re};var N=za(t),{radius:B}=N,K=pC(N,uH);return y.createElement("path",rg({},K,{radius:typeof c=="number"?c:void 0,className:j,d:mC(w,$,I,ee,c),ref:n,style:fC(fC({},A),t.style)}))})};function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ag=Math.PI/180,vH=e=>e*180/Math.PI,Lr=(e,t,n,r)=>({x:e+Math.cos(-ag*r)*n,y:t+Math.sin(-ag*r)*n}),O3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},bH=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},xH=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=bH({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:vH(l),angleInRadian:l}},wH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},kH=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},SH=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=xH({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=wH(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?yC(yC({},t),{},{radius:a,angle:kH(d,t)}):null};function D3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Lr(t,n,r,a),s=Lr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var vC,bC,xC,wC,kC,SC,NC;function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function ql(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NH=(e,t)=>{var n=Ea(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},xm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/ag,f=l?a:a+i*d,p=Lr(t,n,c,f),m=Lr(t,n,r,f),h=l?a-i*d:a,v=Lr(t,n,c*Math.cos(d*ag),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},I3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=NH(i,o),l=i+s,c=Lr(t,n,a,i),d=Lr(t,n,a,l),f=br(vC||(vC=ql(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Lr(t,n,r,i),m=Lr(t,n,r,l);f+=br(bC||(bC=ql(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=br(xC||(xC=ql(["L ",","," Z"])),t,n);return f},jH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=Ea(c-l),{circleTangency:f,lineTangency:p,theta:m}=xm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:x}=xm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?br(wC||(wC=ql(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):I3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=br(kC||(kC=ql(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:k,lineTangency:S,theta:C}=xm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:M,theta:T}=xm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),R=s?Math.abs(l-c):Math.abs(l-c)-C-T;if(R<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=br(SC||(SC=ql(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),j.x,j.y,r,r,+(R>180),+(d>0),k.x,k.y,i,i,+(d<0),S.x,S.y)}else b+=br(NC||(NC=ql(["L",",","Z"])),t,n);return b},CH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_3=e=>{var t=Yr(e,CH),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=kn("recharts-sector",f),m=i-a,h=zi(o,m,0,!0),v;return h>0&&Math.abs(c-d)<360?v=jH({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):v=I3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),y.createElement("path",jx({},za(t),{className:p,d:v}))};function MH(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(KO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Lr(r,a,i,s),c=Lr(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return D3(t)}}var F3={},L3={},R3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(R3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(L3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=L3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(F3);var AH=F3.range;const $3=ho(AH);function al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rk(e){let t,n,r;e.length!==2?(t=al,n=(s,l)=>al(e(s),l),r=(s,l)=>e(s)-l):(t=e===al||e===PH?e:EH,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function EH(){return 0}function B3(e){return e===null?NaN:+e}function*TH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const OH=rk(al),up=OH.right;rk(B3).center;class jC extends Map{constructor(t,n=_H){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(CC(this,t))}has(t){return super.has(CC(this,t))}set(t,n){return super.set(DH(this,t),n)}delete(t){return super.delete(IH(this,t))}}function CC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function IH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _H(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FH(e=al){if(e===al)return z3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function z3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LH=Math.sqrt(50),RH=Math.sqrt(10),$H=Math.sqrt(2);function ig(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=LH?10:i>=RH?5:i>=$H?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ig(e,t,n*2):[s,l,c]}function Cx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?ig(t,e,n):ig(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Mx(e,t,n){return t=+t,e=+e,n=+n,ig(e,t,n)[2]}function Ax(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Mx(t,e,n):Mx(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function MC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function AC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function U3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?z3:FH(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));U3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Sd(e,n,t),a(e[r],i)>0&&Sd(e,n,r);o<s;){for(Sd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Sd(e,n,s):(++s,Sd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function BH(e,t,n){if(e=Float64Array.from(TH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return AC(e);if(t>=1)return MC(e);var r,a=(r-1)*t,i=Math.floor(a),o=MC(U3(e,i).subarray(0,i+1)),s=AC(e.subarray(i+1));return o+(s-o)*(a-i)}}function zH(e,t,n=B3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function UH(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ki(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Px=Symbol("implicit");function ak(){var e=new jC,t=[],n=[],r=Px;function a(i){let o=e.get(i);if(o===void 0){if(r!==Px)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ak(t,n).unknown(r)},Ki.apply(a,arguments),a}function ik(){var e=ak().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=UH(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ik(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},Ki.apply(f(),arguments)}function V3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return V3(t())},e}function VH(){return V3(ik.apply(null,arguments).paddingInner(1))}function ok(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function W3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dp(){}var _f=.7,og=1/_f,xu="\\s*([+-]?\\d+)\\s*",Ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WH=/^#([0-9a-f]{3,8})$/,HH=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),qH=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),KH=new RegExp(`^rgba\\(${xu},${xu},${xu},${Ff}\\)$`),YH=new RegExp(`^rgba\\(${Do},${Do},${Do},${Ff}\\)$`),GH=new RegExp(`^hsl\\(${Ff},${Do},${Do}\\)$`),XH=new RegExp(`^hsla\\(${Ff},${Do},${Do},${Ff}\\)$`),PC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ok(dp,Lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EC,formatHex:EC,formatHex8:QH,formatHsl:ZH,formatRgb:TC,toString:TC});function EC(){return this.rgb().formatHex()}function QH(){return this.rgb().formatHex8()}function ZH(){return H3(this).formatHsl()}function TC(){return this.rgb().formatRgb()}function Lf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OC(t):n===3?new Za(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HH.exec(e))?new Za(t[1],t[2],t[3],1):(t=qH.exec(e))?new Za(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KH.exec(e))?wm(t[1],t[2],t[3],t[4]):(t=YH.exec(e))?wm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GH.exec(e))?_C(t[1],t[2]/100,t[3]/100,1):(t=XH.exec(e))?_C(t[1],t[2]/100,t[3]/100,t[4]):PC.hasOwnProperty(e)?OC(PC[e]):e==="transparent"?new Za(NaN,NaN,NaN,0):null}function OC(e){return new Za(e>>16&255,e>>8&255,e&255,1)}function wm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Za(e,t,n,r)}function JH(e){return e instanceof dp||(e=Lf(e)),e?(e=e.rgb(),new Za(e.r,e.g,e.b,e.opacity)):new Za}function Ex(e,t,n,r){return arguments.length===1?JH(e):new Za(e,t,n,r??1)}function Za(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ok(Za,Ex,W3(dp,{brighter(e){return e=e==null?og:Math.pow(og,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Za(nc(this.r),nc(this.g),nc(this.b),sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DC,formatHex:DC,formatHex8:eq,formatRgb:IC,toString:IC}));function DC(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function eq(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function IC(){const e=sg(this.opacity);return`${e===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${e===1?")":`, ${e})`}`}function sg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kl(e){return e=nc(e),(e<16?"0":"")+e.toString(16)}function _C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ao(e,t,n,r)}function H3(e){if(e instanceof ao)return new ao(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=Lf(e)),!e)return new ao;if(e instanceof ao)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ao(o,s,l,e.opacity)}function tq(e,t,n,r){return arguments.length===1?H3(e):new ao(e,t,n,r??1)}function ao(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ok(ao,tq,W3(dp,{brighter(e){return e=e==null?og:Math.pow(og,e),new ao(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new ao(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Za(cv(e>=240?e-240:e+120,a,r),cv(e,a,r),cv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ao(FC(this.h),km(this.s),km(this.l),sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sg(this.opacity);return`${e===1?"hsl(":"hsla("}${FC(this.h)}, ${km(this.s)*100}%, ${km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FC(e){return e=(e||0)%360,e<0?e+360:e}function km(e){return Math.max(0,Math.min(1,e||0))}function cv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sk=e=>()=>e;function nq(e,t){return function(n){return e+n*t}}function rq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function aq(e){return(e=+e)==1?q3:function(t,n){return n-t?rq(t,n,e):sk(isNaN(t)?n:t)}}function q3(e,t){var n=t-e;return n?nq(e,n):sk(isNaN(e)?t:e)}const LC=function e(t){var n=aq(t);function r(a,i){var o=n((a=Ex(a)).r,(i=Ex(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=q3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function iq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function oq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Yu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function lq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cq(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Yu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Tx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uv=new RegExp(Tx.source,"g");function uq(e){return function(){return e}}function dq(e){return function(t){return e(t)+""}}function fq(e,t){var n=Tx.lastIndex=uv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Tx.exec(e))&&(a=uv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:lg(r,a)})),n=uv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?dq(l[0].x):uq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Yu(e,t){var n=typeof t,r;return t==null||n==="boolean"?sk(t):(n==="number"?lg:n==="string"?(r=Lf(t))?(t=r,LC):fq:t instanceof Lf?LC:t instanceof Date?lq:oq(t)?iq:Array.isArray(t)?sq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cq:lg)(e,t)}function lk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pq(e,t){t===void 0&&(t=e,e=Yu);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function mq(e){return function(){return e}}function cg(e){return+e}var RC=[0,1];function $a(e){return e}function Ox(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mq(isNaN(t)?NaN:.5)}function hq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gq(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Ox(a,r),i=n(o,i)):(r=Ox(r,a),i=n(i,o)),function(s){return i(r(s))}}function yq(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ox(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=up(e,s,1,r)-1;return i[l](a[l](s))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R0(){var e=RC,t=RC,n=Yu,r,a,i,o=$a,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==$a&&(o=hq(e[0],e[p-1])),s=p>2?yq:gq,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),lg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,cg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=lk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:$a,d()):o!==$a},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function ck(){return R0()($a,$a)}function vq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ug(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fu(e){return e=ug(Math.abs(e)),e?e[1]:NaN}function bq(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var wq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rf(e){if(!(t=wq.exec(e)))throw new Error("invalid format: "+e);var t;return new uk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rf.prototype=uk.prototype;function uk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kq(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var dg;function Sq(e,t){var n=ug(e,t);if(!n)return dg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(dg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ug(e,Math.max(0,t+i-1))[0]}function $C(e,t){var n=ug(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const BC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$C(e*100,t),r:$C,s:Sq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zC(e){return e}var UC=Array.prototype.map,VC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nq(e){var t=e.grouping===void 0||e.thousands===void 0?zC:bq(UC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zC:xq(UC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=Rf(f);var m=f.fill,h=f.align,v=f.sign,x=f.symbol,g=f.zero,b=f.width,k=f.comma,S=f.precision,C=f.trim,j=f.type;j==="n"?(k=!0,j="g"):BC[j]||(S===void 0&&(S=12),C=!0,j="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(j)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),R=BC[j],P=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function _(E){var G=M,X=T,re,he,Y;if(j==="c")X=R(E)+X,E="";else{E=+E;var I=E<0||1/E<0;if(E=isNaN(E)?l:R(Math.abs(E),S),C&&(E=kq(E)),I&&+E==0&&v!=="+"&&(I=!1),G=(I?v==="("?v:s:v==="-"||v==="("?"":v)+G,X=(j==="s"&&!isNaN(E)&&dg!==void 0?VC[8+dg/3]:"")+X+(I&&v==="("?")":""),P){for(re=-1,he=E.length;++re<he;)if(Y=E.charCodeAt(re),48>Y||Y>57){X=(Y===46?a+E.slice(re+1):E.slice(re))+X,E=E.slice(0,re);break}}}k&&!g&&(E=t(E,1/0));var ee=G.length+E.length+X.length,w=ee<b?new Array(b-ee+1).join(m):"";switch(k&&g&&(E=t(w+E,w.length?b-X.length:1/0),w=""),h){case"<":E=G+E+X+w;break;case"=":E=G+w+E+X;break;case"^":E=w.slice(0,ee=w.length>>1)+G+E+X+w.slice(ee);break;default:E=w+G+E+X;break}return i(E)}return _.toString=function(){return f+""},_}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Fu(p)/3)))*3,h=Math.pow(10,-m),v=c((f=Rf(f),f.type="f",f),{suffix:VC[8+m/3]});return function(x){return v(h*x)}}return{format:c,formatPrefix:d}}var Sm,dk,K3;jq({thousands:",",grouping:[3],currency:["$",""]});function jq(e){return Sm=Nq(e),dk=Sm.format,K3=Sm.formatPrefix,Sm}function Cq(e){return Math.max(0,-Fu(Math.abs(e)))}function Mq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))*3-Fu(Math.abs(e)))}function Aq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function Y3(e,t,n,r){var a=Ax(e,t,n),i;switch(r=Rf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Mq(a,o))&&(r.precision=i),K3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Aq(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Cq(a))&&(r.precision=i-(r.type==="%")*2);break}}return dk(r)}function gl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Cx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Y3(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Mx(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function G3(){var e=ck();return e.copy=function(){return fp(e,G3())},Ki.apply(e,arguments),gl(e)}function X3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return X3(e).unknown(t)},e=arguments.length?Array.from(e,cg):[0,1],gl(n)}function Q3(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function WC(e){return Math.log(e)}function HC(e){return Math.exp(e)}function Pq(e){return-Math.log(-e)}function Eq(e){return-Math.exp(-e)}function Tq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Oq(e){return e===10?Tq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Dq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qC(e){return(t,n)=>-e(-t,n)}function fk(e){const t=e(WC,HC),n=t.domain;let r=10,a,i;function o(){return a=Dq(r),i=Oq(r),n()[0]<0?(a=qC(a),i=qC(i),e(Pq,Eq)):e(WC,HC),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,v;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<c)){if(v>d)break;g.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<c)){if(v>d)break;g.push(v)}g.length*2<x&&(g=Cx(c,d,x))}else g=Cx(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rf(l)).precision==null&&(l.trim=!0),l=dk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(Q3(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function Z3(){const e=fk(R0()).domain([1,10]);return e.copy=()=>fp(e,Z3()).base(e.base()),Ki.apply(e,arguments),e}function KC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pk(e){var t=1,n=e(KC(t),YC(t));return n.constant=function(r){return arguments.length?e(KC(t=+r),YC(t)):t},gl(n)}function J3(){var e=pk(R0());return e.copy=function(){return fp(e,J3()).constant(e.constant())},Ki.apply(e,arguments)}function GC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Iq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _q(e){return e<0?-e*e:e*e}function mk(e){var t=e($a,$a),n=1;function r(){return n===1?e($a,$a):n===.5?e(Iq,_q):e(GC(n),GC(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},gl(t)}function hk(){var e=mk(R0());return e.copy=function(){return fp(e,hk()).exponent(e.exponent())},Ki.apply(e,arguments),e}function Fq(){return hk.apply(null,arguments).exponent(.5)}function XC(e){return Math.sign(e)*e*e}function Lq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function e4(){var e=ck(),t=[0,1],n=!1,r;function a(i){var o=Lq(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(XC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,cg)).map(XC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return e4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ki.apply(a,arguments),gl(a)}function t4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=zH(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[up(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(al),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return t4().domain(e).range(t).unknown(r)},Ki.apply(i,arguments)}function n4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[up(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return n4().domain([e,t]).range(a).unknown(i)},Ki.apply(gl(o),arguments)}function r4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[up(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return r4().domain(e).range(t).unknown(n)},Ki.apply(a,arguments)}const dv=new Date,fv=new Date;function Gr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Gr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(dv.setTime(+i),fv.setTime(+o),e(dv),e(fv),Math.floor(n(dv,fv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fg=Gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fg);fg.range;const Zo=1e3,$i=Zo*60,Jo=$i*60,fs=Jo*24,gk=fs*7,QC=fs*30,pv=fs*365,Yl=Gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zo)},(e,t)=>(t-e)/Zo,e=>e.getUTCSeconds());Yl.range;const yk=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getMinutes());yk.range;const vk=Gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCMinutes());vk.range;const bk=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo-e.getMinutes()*$i)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getHours());bk.range;const xk=Gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCHours());xk.range;const pp=Gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$i)/fs,e=>e.getDate()-1);pp.range;const $0=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fs,e=>e.getUTCDate()-1);$0.range;const a4=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fs,e=>Math.floor(e/fs));a4.range;function Sc(e){return Gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$i)/gk)}const B0=Sc(0),pg=Sc(1),Rq=Sc(2),$q=Sc(3),Lu=Sc(4),Bq=Sc(5),zq=Sc(6);B0.range;pg.range;Rq.range;$q.range;Lu.range;Bq.range;zq.range;function Nc(e){return Gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/gk)}const z0=Nc(0),mg=Nc(1),Uq=Nc(2),Vq=Nc(3),Ru=Nc(4),Wq=Nc(5),Hq=Nc(6);z0.range;mg.range;Uq.range;Vq.range;Ru.range;Wq.range;Hq.range;const wk=Gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wk.range;const kk=Gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kk.range;const ps=Gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ps.range;const ms=Gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ms.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ms.range;function i4(e,t,n,r,a,i){const o=[[Yl,1,Zo],[Yl,5,5*Zo],[Yl,15,15*Zo],[Yl,30,30*Zo],[i,1,$i],[i,5,5*$i],[i,15,15*$i],[i,30,30*$i],[a,1,Jo],[a,3,3*Jo],[a,6,6*Jo],[a,12,12*Jo],[r,1,fs],[r,2,2*fs],[n,1,gk],[t,1,QC],[t,3,3*QC],[e,1,pv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=rk(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Ax(c/pv,d/pv,f));if(m===0)return fg.every(Math.max(Ax(c,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[qq,Kq]=i4(ms,kk,z0,a4,xk,vk),[Yq,Gq]=i4(ps,wk,B0,pp,bk,yk);function mv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Xq(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=jd(a),d=Cd(a),f=jd(i),p=Cd(i),m=jd(o),h=Cd(o),v=jd(s),x=Cd(s),g=jd(l),b=Cd(l),k={a:Y,A:I,b:ee,B:w,c:null,d:rM,e:rM,f:bK,g:PK,G:TK,H:gK,I:yK,j:vK,L:o4,m:xK,M:wK,p:$,q:A,Q:oM,s:sM,S:kK,u:SK,U:NK,V:jK,w:CK,W:MK,x:null,X:null,y:AK,Y:EK,Z:OK,"%":iM},S={a:N,A:B,b:K,B:U,c:null,d:aM,e:aM,f:FK,g:qK,G:YK,H:DK,I:IK,j:_K,L:l4,m:LK,M:RK,p:W,q:Q,Q:oM,s:sM,S:$K,u:BK,U:zK,V:UK,w:VK,W:WK,x:null,X:null,y:HK,Y:KK,Z:GK,"%":iM},C={a:P,A:_,b:E,B:G,c:X,d:tM,e:tM,f:fK,g:eM,G:JC,H:nM,I:nM,j:lK,L:dK,m:sK,M:cK,p:R,q:oK,Q:mK,s:hK,S:uK,u:tK,U:nK,V:rK,w:eK,W:aK,x:re,X:he,y:eM,Y:JC,Z:iK,"%":pK};k.x=j(n,k),k.X=j(r,k),k.c=j(t,k),S.x=j(n,S),S.X=j(r,S),S.c=j(t,S);function j(D,J){return function(fe){var F=[],te=-1,z=0,L=D.length,oe,ye,Je;for(fe instanceof Date||(fe=new Date(+fe));++te<L;)D.charCodeAt(te)===37&&(F.push(D.slice(z,te)),(ye=ZC[oe=D.charAt(++te)])!=null?oe=D.charAt(++te):ye=oe==="e"?" ":"0",(Je=J[oe])&&(oe=Je(fe,ye)),F.push(oe),z=te+1);return F.push(D.slice(z,te)),F.join("")}}function M(D,J){return function(fe){var F=Nd(1900,void 0,1),te=T(F,D,fe+="",0),z,L;if(te!=fe.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(J&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(z=hv(Nd(F.y,0,1)),L=z.getUTCDay(),z=L>4||L===0?mg.ceil(z):mg(z),z=$0.offset(z,(F.V-1)*7),F.y=z.getUTCFullYear(),F.m=z.getUTCMonth(),F.d=z.getUTCDate()+(F.w+6)%7):(z=mv(Nd(F.y,0,1)),L=z.getDay(),z=L>4||L===0?pg.ceil(z):pg(z),z=pp.offset(z,(F.V-1)*7),F.y=z.getFullYear(),F.m=z.getMonth(),F.d=z.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),L="Z"in F?hv(Nd(F.y,0,1)).getUTCDay():mv(Nd(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(L+5)%7:F.w+F.U*7-(L+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,hv(F)):mv(F)}}function T(D,J,fe,F){for(var te=0,z=J.length,L=fe.length,oe,ye;te<z;){if(F>=L)return-1;if(oe=J.charCodeAt(te++),oe===37){if(oe=J.charAt(te++),ye=C[oe in ZC?J.charAt(te++):oe],!ye||(F=ye(D,fe,F))<0)return-1}else if(oe!=fe.charCodeAt(F++))return-1}return F}function R(D,J,fe){var F=c.exec(J.slice(fe));return F?(D.p=d.get(F[0].toLowerCase()),fe+F[0].length):-1}function P(D,J,fe){var F=m.exec(J.slice(fe));return F?(D.w=h.get(F[0].toLowerCase()),fe+F[0].length):-1}function _(D,J,fe){var F=f.exec(J.slice(fe));return F?(D.w=p.get(F[0].toLowerCase()),fe+F[0].length):-1}function E(D,J,fe){var F=g.exec(J.slice(fe));return F?(D.m=b.get(F[0].toLowerCase()),fe+F[0].length):-1}function G(D,J,fe){var F=v.exec(J.slice(fe));return F?(D.m=x.get(F[0].toLowerCase()),fe+F[0].length):-1}function X(D,J,fe){return T(D,t,J,fe)}function re(D,J,fe){return T(D,n,J,fe)}function he(D,J,fe){return T(D,r,J,fe)}function Y(D){return o[D.getDay()]}function I(D){return i[D.getDay()]}function ee(D){return l[D.getMonth()]}function w(D){return s[D.getMonth()]}function $(D){return a[+(D.getHours()>=12)]}function A(D){return 1+~~(D.getMonth()/3)}function N(D){return o[D.getUTCDay()]}function B(D){return i[D.getUTCDay()]}function K(D){return l[D.getUTCMonth()]}function U(D){return s[D.getUTCMonth()]}function W(D){return a[+(D.getUTCHours()>=12)]}function Q(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var J=j(D+="",k);return J.toString=function(){return D},J},parse:function(D){var J=M(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=j(D+="",S);return J.toString=function(){return D},J},utcParse:function(D){var J=M(D+="",!0);return J.toString=function(){return D},J}}}var ZC={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,Qq=/^%/,Zq=/[\\^$*+?|[\]().{}]/g;function xn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Jq(e){return e.replace(Zq,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(Jq).join("|")+")","i")}function Cd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function eK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function JC(e,t,n){var r=sa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function eM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function sK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=sa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pK(e,t,n){var r=Qq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mK(e,t,n){var r=sa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=sa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rM(e,t){return xn(e.getDate(),t,2)}function gK(e,t){return xn(e.getHours(),t,2)}function yK(e,t){return xn(e.getHours()%12||12,t,2)}function vK(e,t){return xn(1+pp.count(ps(e),e),t,3)}function o4(e,t){return xn(e.getMilliseconds(),t,3)}function bK(e,t){return o4(e,t)+"000"}function xK(e,t){return xn(e.getMonth()+1,t,2)}function wK(e,t){return xn(e.getMinutes(),t,2)}function kK(e,t){return xn(e.getSeconds(),t,2)}function SK(e){var t=e.getDay();return t===0?7:t}function NK(e,t){return xn(B0.count(ps(e)-1,e),t,2)}function s4(e){var t=e.getDay();return t>=4||t===0?Lu(e):Lu.ceil(e)}function jK(e,t){return e=s4(e),xn(Lu.count(ps(e),e)+(ps(e).getDay()===4),t,2)}function CK(e){return e.getDay()}function MK(e,t){return xn(pg.count(ps(e)-1,e),t,2)}function AK(e,t){return xn(e.getFullYear()%100,t,2)}function PK(e,t){return e=s4(e),xn(e.getFullYear()%100,t,2)}function EK(e,t){return xn(e.getFullYear()%1e4,t,4)}function TK(e,t){var n=e.getDay();return e=n>=4||n===0?Lu(e):Lu.ceil(e),xn(e.getFullYear()%1e4,t,4)}function OK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xn(t/60|0,"0",2)+xn(t%60,"0",2)}function aM(e,t){return xn(e.getUTCDate(),t,2)}function DK(e,t){return xn(e.getUTCHours(),t,2)}function IK(e,t){return xn(e.getUTCHours()%12||12,t,2)}function _K(e,t){return xn(1+$0.count(ms(e),e),t,3)}function l4(e,t){return xn(e.getUTCMilliseconds(),t,3)}function FK(e,t){return l4(e,t)+"000"}function LK(e,t){return xn(e.getUTCMonth()+1,t,2)}function RK(e,t){return xn(e.getUTCMinutes(),t,2)}function $K(e,t){return xn(e.getUTCSeconds(),t,2)}function BK(e){var t=e.getUTCDay();return t===0?7:t}function zK(e,t){return xn(z0.count(ms(e)-1,e),t,2)}function c4(e){var t=e.getUTCDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function UK(e,t){return e=c4(e),xn(Ru.count(ms(e),e)+(ms(e).getUTCDay()===4),t,2)}function VK(e){return e.getUTCDay()}function WK(e,t){return xn(mg.count(ms(e)-1,e),t,2)}function HK(e,t){return xn(e.getUTCFullYear()%100,t,2)}function qK(e,t){return e=c4(e),xn(e.getUTCFullYear()%100,t,2)}function KK(e,t){return xn(e.getUTCFullYear()%1e4,t,4)}function YK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),xn(e.getUTCFullYear()%1e4,t,4)}function GK(){return"+0000"}function iM(){return"%"}function oM(e){return+e}function sM(e){return Math.floor(+e/1e3)}var Uc,u4,d4;XK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XK(e){return Uc=Xq(e),u4=Uc.format,Uc.parse,d4=Uc.utcFormat,Uc.utcParse,Uc}function QK(e){return new Date(e)}function ZK(e){return e instanceof Date?+e:+new Date(+e)}function Sk(e,t,n,r,a,i,o,s,l,c){var d=ck(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),v=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),k=c("%B"),S=c("%Y");function C(j){return(l(j)<j?m:s(j)<j?h:o(j)<j?v:i(j)<j?x:r(j)<j?a(j)<j?g:b:n(j)<j?k:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?p(Array.from(j,ZK)):p().map(QK)},d.ticks=function(j){var M=p();return e(M[0],M[M.length-1],j??10)},d.tickFormat=function(j,M){return M==null?C:c(M)},d.nice=function(j){var M=p();return(!j||typeof j.range!="function")&&(j=t(M[0],M[M.length-1],j??10)),j?p(Q3(M,j)):d},d.copy=function(){return fp(d,Sk(e,t,n,r,a,i,o,s,l,c))},d}function JK(){return Ki.apply(Sk(Yq,Gq,ps,wk,B0,pp,bk,yk,Yl,u4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eY(){return Ki.apply(Sk(qq,Kq,ms,kk,z0,$0,xk,vk,Yl,d4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U0(){var e=0,t=1,n,r,a,i,o=$a,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Yu),c.rangeRound=d(lk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function f4(){var e=gl(U0()($a));return e.copy=function(){return yl(e,f4())},xs.apply(e,arguments)}function p4(){var e=fk(U0()).domain([1,10]);return e.copy=function(){return yl(e,p4()).base(e.base())},xs.apply(e,arguments)}function m4(){var e=pk(U0());return e.copy=function(){return yl(e,m4()).constant(e.constant())},xs.apply(e,arguments)}function Nk(){var e=mk(U0());return e.copy=function(){return yl(e,Nk()).exponent(e.exponent())},xs.apply(e,arguments)}function tY(){return Nk.apply(null,arguments).exponent(.5)}function h4(){var e=[],t=$a;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(al),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>BH(e,i/r))},n.copy=function(){return h4(t).domain(e)},xs.apply(n,arguments)}function V0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=$a,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),c(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var g,b,k;return arguments.length?([g,b,k]=x,c=pq(v,[g,b,k]),m):[c(0),c(.5),c(1)]}}return m.range=h(Yu),m.rangeRound=h(lk),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function g4(){var e=gl(V0()($a));return e.copy=function(){return yl(e,g4())},xs.apply(e,arguments)}function y4(){var e=fk(V0()).domain([.1,1,10]);return e.copy=function(){return yl(e,y4()).base(e.base())},xs.apply(e,arguments)}function v4(){var e=pk(V0());return e.copy=function(){return yl(e,v4()).constant(e.constant())},xs.apply(e,arguments)}function jk(){var e=mk(V0());return e.copy=function(){return yl(e,jk()).exponent(e.exponent())},xs.apply(e,arguments)}function nY(){return jk.apply(null,arguments).exponent(.5)}const Rd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ik,scaleDiverging:g4,scaleDivergingLog:y4,scaleDivergingPow:jk,scaleDivergingSqrt:nY,scaleDivergingSymlog:v4,scaleIdentity:X3,scaleImplicit:Px,scaleLinear:G3,scaleLog:Z3,scaleOrdinal:ak,scalePoint:VH,scalePow:hk,scaleQuantile:t4,scaleQuantize:n4,scaleRadial:e4,scaleSequential:f4,scaleSequentialLog:p4,scaleSequentialPow:Nk,scaleSequentialQuantile:h4,scaleSequentialSqrt:tY,scaleSequentialSymlog:m4,scaleSqrt:Fq,scaleSymlog:J3,scaleThreshold:r4,scaleTime:JK,scaleUtc:eY,tickFormat:Y3},Symbol.toStringTag,{value:"Module"}));var vl=e=>e.chartData,Ck=de([vl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mk=(e,t,n,r)=>r?Ck(e):vl(e);function ll(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if($r(t)&&$r(n))return!0}return!1}function lM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function b4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if($r(n))a=n;else if(typeof n=="function")return;if($r(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(ll(o))return o}}function rY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ll(r))return lM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(St(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Mj.test(a)){var l=Mj.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(St(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Aj.test(i)){var d=Aj.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(ll(p))return t==null?p:lM(p,t,n)}}}var Gu=1e9,aY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pk,ar=!0,qi="[DecimalError] ",rc=qi+"Invalid argument: ",Ak=qi+"Exponent out of range: ",Xu=Math.floor,Ll=Math.pow,iY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,ra=1e7,Yn=7,x4=9007199254740991,hg=Xu(x4/Yn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return ns(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return In(ns(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Rr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(mi))throw Error(qi+"NaN");if(n.s<1)throw Error(qi+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(ar=!1,t=ns($f(n,i),$f(e,i),i),ar=!0,In(t,a))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S4(t,e):w4(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(qi+"NaN");return n.s?(ar=!1,t=ns(n,e,0,1).times(e),ar=!0,n.minus(t)):In(new r(n),a)};st.naturalExponential=st.exp=function(){return k4(this)};st.naturalLogarithm=st.ln=function(){return $f(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w4(t,e):S4(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=Rr(a)+1,r=a.d.length-1,n=r*Yn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(qi+"NaN")}for(e=Rr(s),ar=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Eo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(ns(s,i,o+2)).times(.5),Eo(i.d).slice(0,o)===(t=Eo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(In(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return ar=!0,In(r,n)};st.times=st.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ra|0,t=s/ra|0;i[a]=(i[a]+t)%ra|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ar?In(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ro(e,0,Gu),t===void 0?t=r.rounding:Ro(t,0,8),In(n,e+Rr(n)+1,t))};st.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=gc(r,!0):(Ro(e,0,Gu),t===void 0?t=a.rounding:Ro(t,0,8),r=In(new a(r),e+1,t),n=gc(r,!0,e+1)),n};st.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?gc(a):(Ro(e,0,Gu),t===void 0?t=i.rounding:Ro(t,0,8),r=In(new i(a),e+Rr(a)+1,t),n=gc(r.abs(),!1,e+Rr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return In(new t(e),Rr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(mi);if(s=new l(s),!s.s){if(e.s<1)throw Error(qi+"Infinity");return s}if(s.eq(mi))return s;if(r=l.precision,e.eq(mi))return In(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=x4){for(a=new l(mi),t=Math.ceil(r/Yn+4),ar=!1;n%2&&(a=a.times(s),uM(a.d,t)),n=Xu(n/2),n!==0;)s=s.times(s),uM(s.d,t);return ar=!0,e.s<0?new l(mi).div(a):In(a,r)}}else if(i<0)throw Error(qi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,ar=!1,a=e.times($f(s,r+c)),ar=!0,a=k4(a),a.s=i,a};st.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Rr(a),r=gc(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ro(e,1,Gu),t===void 0?t=i.rounding:Ro(t,0,8),a=In(new i(a),e,t),n=Rr(a),r=gc(a,e<=n||n<=i.toExpNeg,e)),r};st.toSignificantDigits=st.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ro(e,1,Gu),t===void 0?t=r.rounding:Ro(t,0,8)),In(new r(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),n=e.constructor;return gc(e,t<=n.toExpNeg||t>=n.toExpPos)};function w4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ar?In(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Yn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/ra|0,l[i]%=ra;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ar?In(t,f):t}function Ro(e,t,n){if(e!==~~e||e<t||e>n)throw Error(rc+e)}function Eo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Yn-r.length,n&&(i+=Bs(n)),i+=r;o=e[t],r=o+"",n=Yn-r.length,n&&(i+=Bs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ns=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ra|0,o=i/ra|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ra+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,v,x,g,b,k,S,C,j,M,T,R=r.constructor,P=r.s==a.s?1:-1,_=r.d,E=a.d;if(!r.s)return new R(r);if(!a.s)throw Error(qi+"Division by zero");for(l=r.e-a.e,M=E.length,C=_.length,m=new R(P),h=m.d=[],c=0;E[c]==(_[c]||0);)++c;if(E[c]>(_[c]||0)&&--l,i==null?b=i=R.precision:o?b=i+(Rr(r)-Rr(a))+1:b=i,b<0)return new R(0);if(b=b/Yn+2|0,c=0,M==1)for(d=0,E=E[0],b++;(c<C||d)&&b--;c++)k=d*ra+(_[c]||0),h[c]=k/E|0,d=k%E|0;else{for(d=ra/(E[0]+1)|0,d>1&&(E=e(E,d),_=e(_,d),M=E.length,C=_.length),S=M,v=_.slice(0,M),x=v.length;x<M;)v[x++]=0;T=E.slice(),T.unshift(0),j=E[0],E[1]>=ra/2&&++j;do d=0,s=t(E,v,M,x),s<0?(g=v[0],M!=x&&(g=g*ra+(v[1]||0)),d=g/j|0,d>1?(d>=ra&&(d=ra-1),f=e(E,d),p=f.length,x=v.length,s=t(f,v,p,x),s==1&&(d--,n(f,M<p?T:E,p))):(d==0&&(s=d=1),f=E.slice()),p=f.length,p<x&&f.unshift(0),n(v,f,x),s==-1&&(x=v.length,s=t(E,v,M,x),s<1&&(d++,n(v,M<x?T:E,x))),x=v.length):s===0&&(d++,v=[0]),h[c++]=d,s&&v[0]?v[x++]=_[S]||0:(v=[_[S]],x=1);while((S++<C||v[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,In(m,o?i+Rr(m)+1:i)}}();function k4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Rr(e)>16)throw Error(Ak+Rr(e));if(!e.s)return new d(mi);for(ar=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ll(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(mi),d.precision=s;;){if(a=In(a.times(e),s),n=n.times(++l),o=i.plus(ns(a,n,s)),Eo(o.d).slice(0,s)===Eo(i.d).slice(0,s)){for(;c--;)i=In(i.times(i),s);return d.precision=f,t==null?(ar=!0,In(i,f)):i}i=o}}function Rr(e){for(var t=e.e*Yn,n=e.d[0];n>=10;n/=10)t++;return t}function gv(e,t,n){if(t>e.LN10.sd())throw ar=!0,n&&(e.precision=n),Error(qi+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function Bs(e){for(var t="";e--;)t+="0";return t}function $f(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(qi+(m.s?"NaN":"-Infinity"));if(m.eq(mi))return new v(0);if(t==null?(ar=!1,c=x):c=t,m.eq(10))return t==null&&(ar=!0),gv(v,c);if(c+=p,v.precision=c,n=Eo(h),r=n.charAt(0),i=Rr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Eo(m.d),r=n.charAt(0),f++;i=Rr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=gv(v,c+2,x).times(i+""),m=$f(new v(r+"."+n.slice(1)),c-p).plus(l),v.precision=x,t==null?(ar=!0,In(m,x)):m;for(s=o=m=ns(m.minus(mi),m.plus(mi),c),d=In(m.times(m),c),a=3;;){if(o=In(o.times(d),c),l=s.plus(ns(o,new v(a),c)),Eo(l.d).slice(0,c)===Eo(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(gv(v,c+2,x).times(i+""))),s=ns(s,new v(f),c),v.precision=x,t==null?(ar=!0,In(s,x)):s;s=l,a+=2}}function cM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Xu(n/Yn),e.d=[],r=(n+1)%Yn,n<0&&(r+=Yn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Yn;r<a;)e.d.push(+t.slice(r,r+=Yn));t=t.slice(r),r=Yn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),ar&&(e.e>hg||e.e<-hg))throw Error(Ak+n)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Yn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Yn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Yn,a=r-Yn+o}if(n!==void 0&&(i=Ll(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Ll(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Rr(e),f.length=1,t=t-i-1,f[0]=Ll(10,(Yn-t%Yn)%Yn),e.e=Xu(-t/Yn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ll(10,Yn-r),f[d]=a>0?(c/Ll(10,o-a)%Ll(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ra&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ra)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(ar&&(e.e>hg||e.e<-hg))throw Error(Ak+Rr(e));return e}function S4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ar?In(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Yn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ra-1;--l[i],l[a]+=ra}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ar?In(t,m):t):new p(0)}function gc(e,t,n){var r,a=Rr(e),i=Eo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Bs(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bs(-a-1)+i,n&&(r=n-o)>0&&(i+=Bs(r))):a>=o?(i+=Bs(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Bs(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Bs(r))),e.s<0?"-"+i:i}function uM(e,t){if(e.length>t)return e.length=t,!0}function N4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cM(o,i.toString())}else if(typeof i!="string")throw Error(rc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iY.test(i))cM(o,i);else throw Error(rc+i)}if(a.prototype=st,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=N4,a.config=a.set=oY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function oY(e){if(!e||typeof e!="object")throw Error(qi+"Object expected");var t,n,r,a=["precision",1,Gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Xu(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(rc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rc+n+": "+r);return this}var Pk=N4(aY);mi=new Pk(1);const Cn=Pk;var sY=e=>e,j4={},C4=e=>e===j4,dM=e=>function t(){return arguments.length===0||arguments.length===1&&C4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},M4=(e,t)=>e===1?t:dM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==j4).length;return i>=e?t(...r):M4(e-i,dM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>C4(d)?s.shift():d);return t(...c,...s)}))}),lY=e=>M4(e.length,e),Dx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},cY=lY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),uY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return sY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function A4(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function P4(e,t,n){for(var r=new Cn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var E4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},T4=(e,t,n)=>{if(e.lte(0))return new Cn(0);var r=A4(e.toNumber()),a=new Cn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Cn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Cn(l.toNumber()):new Cn(Math.ceil(l.toNumber()))},dY=(e,t,n)=>{var r=new Cn(1),a=new Cn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Cn(10).pow(A4(e)-1),a=new Cn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Cn(Math.floor(e)))}else e===0?a=new Cn(Math.floor((t-1)/2)):n||(a=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),s=uY(cY(l=>a.add(new Cn(l-o).mul(r)).toNumber()),Dx);return s(0,t)},O4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var i=T4(new Cn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Cn(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?O4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Cn(s).mul(i)),tickMax:o.add(new Cn(l).mul(i))})},fY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=E4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Dx(0,r-1).map(()=>1/0)]:[...Dx(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return dY(o,r,a);var{step:c,tickMin:d,tickMax:f}=O4(o,s,i,a,0),p=P4(d,f.add(new Cn(.1).mul(c)),c);return t>n?p.reverse():p},pY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=E4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=T4(new Cn(o).sub(i).div(s-1),a,0),c=[...P4(new Cn(i),new Cn(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},mY=e=>e.rootProps.barCategoryGap,mp=e=>e.rootProps.stackOffset,D4=e=>e.rootProps.reverseStackOrder,Ek=e=>e.options.chartName,Tk=e=>e.rootProps.syncId,I4=e=>e.rootProps.syncMethod,Ok=e=>e.options.eventEmitter,ha={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},W0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:Ko.reversed,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:Ko.type,unit:void 0},gY={allowDataOverflow:pi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,ticks:void 0,type:pi.type,unit:void 0},yY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vY={allowDataOverflow:pi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,ticks:void 0,type:"category",unit:void 0},Dk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yY:hY,Ik=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?vY:gY,H0=e=>e.polarOptions,_k=de([vs,bs,oa],O3),_4=de([H0,_k],(e,t)=>{if(e!=null)return zi(e.innerRadius,t,0)}),F4=de([H0,_k],(e,t)=>{if(e!=null)return zi(e.outerRadius,t,t*.8)}),bY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},L4=de([H0],bY);de([Dk,L4],W0);var R4=de([_k,_4,F4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([Ik,R4],W0);var $4=de([Tn,H0,_4,F4,vs,bs],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:zi(o,a,a/2),cy:zi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ir=(e,t)=>t,hp=(e,t,n)=>n;function B4(e){return e==null?void 0:e.id}function z4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=B4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(Xn(f,i,null)),h=Xn(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function Fk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var q0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function K0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=Tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Qu=e=>e.tooltip.settings.axisId;function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=kY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ix=[0,"auto"],ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},U4=(e,t)=>e.cartesianAxis.xAxis[t],ws=(e,t)=>{var n=U4(e,t);return n??ta},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ix,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sp},V4=(e,t)=>e.cartesianAxis.yAxis[t],ks=(e,t)=>{var n=V4(e,t);return n??na},NY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Lk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??NY},mr=(e,t,n)=>{switch(t){case"xAxis":return ws(e,n);case"yAxis":return ks(e,n);case"zAxis":return Lk(e,n);case"angleAxis":return Dk(e,n);case"radiusAxis":return Ik(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jY=(e,t,n)=>{switch(t){case"xAxis":return ws(e,n);case"yAxis":return ks(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gp=(e,t,n)=>{switch(t){case"xAxis":return ws(e,n);case"yAxis":return ks(e,n);case"angleAxis":return Dk(e,n);case"radiusAxis":return Ik(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},W4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Rk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var H4=e=>e.graphicalItems.cartesianItems,CY=de([ir,hp],Rk),$k=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yp=de([H4,mr,CY],$k,{memoizeOptions:{resultEqualityCheck:K0}}),q4=de([yp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fk)),K4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MY=de([yp],K4),Bk=e=>e.map(t=>t.data).filter(Boolean).flat(1),AY=de([yp],Bk,{memoizeOptions:{resultEqualityCheck:K0}}),zk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Uk=de([AY,Mk],zk),Vk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Xn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Xn(a,r)}))):e.map(r=>({value:r})),Y0=de([Uk,mr,yp],Vk);function Y4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qm(e){if(Fo(e)||e instanceof Date){var t=Number(e);if($r(t))return t}}function pM(e){if(Array.isArray(e)){var t=[Qm(e[0]),Qm(e[1])];return ll(t)?t:void 0}var n=Qm(e);if(n!=null)return[n,n]}function hs(e){return e.map(Qm).filter(WU)}function PY(e,t,n){return!n||typeof t!="number"||_o(t)?[]:n.length?hs(n.flatMap(r=>{var a=Xn(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!$r(i)||!$r(o)))return[t-i,t+o]})):[]}var Qr=e=>{var t=Xr(e),n=Qu(e);return gp(e,t,n)},vp=de([Qr],e=>e==null?void 0:e.dataKey),EY=de([q4,Mk,Qr],z4),G4=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(B4);return[s,{stackedData:o9(e,d,n),graphicalItems:c}]}))},TY=de([EY,q4,mp,D4],G4),X4=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=c9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},OY=de([mr],e=>e.allowDataOverflow),Wk=e=>{var t;if(e==null||!("domain"in e))return Ix;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=hs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ix},Hk=de([mr],Wk),qk=de([Hk,OY],b4),DY=de([TY,vl,ir,qk],X4,{memoizeOptions:{resultEqualityCheck:q0}}),G0=e=>e.errorBars,IY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Y4(n,r)),yg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Kk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>Y4(a,g)),p=Xn(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=PY(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var x=pM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=pM(Xn(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),$r(i)&&$r(o))return[i,o]},_Y=de([Uk,mr,MY,G0,ir],Kk,{memoizeOptions:{resultEqualityCheck:q0}});function FY(e){var{value:t}=e;if(Fo(t)||t instanceof Date)return t}var LY=(e,t,n)=>{var r=e.map(FY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WO(r))?$3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q4=e=>e.referenceElements.dots,Zu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),RY=de([Q4,ir,hp],Zu),Z4=e=>e.referenceElements.areas,$Y=de([Z4,ir,hp],Zu),J4=e=>e.referenceElements.lines,BY=de([J4,ir,hp],Zu),eI=(e,t)=>{if(e!=null){var n=hs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zY=de(RY,ir,eI),tI=(e,t)=>{if(e!=null){var n=hs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UY=de([$Y,ir],tI);function VY(e){var t;if(e.x!=null)return hs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:hs(n)}function WY(e){var t;if(e.y!=null)return hs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:hs(n)}var nI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?VY(r):WY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},HY=de([BY,ir],nI),qY=de(zY,HY,UY,(e,t,n)=>yg(e,n,t)),Yk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?yg(r,i,a):yg(i,a);return rY(t,c,e.allowDataOverflow)},KY=de([mr,Hk,qk,DY,_Y,qY,Tn,ir],Yk,{memoizeOptions:{resultEqualityCheck:q0}}),YY=[0,1],Gk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=hl(t,i);if(c&&s==null){var d;return $3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?LY(r,e,c):a==="expand"?YY:o}},Xk=de([mr,Tn,Uk,Y0,mp,ir,KY],Gk),rI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(rp(i));return s in Rd?s:"point"}}},Ju=de([mr,Tn,W4,Ek,ir],rI);function GY(e){if(e!=null){if(e in Rd)return Rd[e]();var t="scale".concat(rp(e));if(t in Rd)return Rd[t]()}}function Qk(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=GY(t);if(a!=null){var i=a.domain(n).range(r);return n9(i),i}}}var Zk=(e,t,n)=>{var r=Wk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ll(e))return fY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ll(e))return pY(e,t.tickCount,t.allowDecimals)}},Jk=de([Xk,gp,Ju],Zk),eS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ll(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},XY=de([mr,Xk,Jk,ir],eS),QY=de(Y0,mr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(hs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),aI=de(QY,Tn,mY,oa,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!$r(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=zi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),ZY=(e,t,n)=>{var r=ws(e,t);return r==null||typeof r.padding!="string"?0:aI(e,"xAxis",t,n,r.padding)},JY=(e,t,n)=>{var r=ks(e,t);return r==null||typeof r.padding!="string"?0:aI(e,"yAxis",t,n,r.padding)},eG=de(ws,ZY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),tG=de(ks,JY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),nG=de([oa,eG,P0,A0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),rG=de([oa,Tn,tG,P0,A0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return nG(e,n,r);case"yAxis":return rG(e,n,r);case"zAxis":return(a=Lk(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return L4(e);case"radiusAxis":return R4(e,n);default:return}},iI=de([mr,bp],W0),X0=de([mr,Ju,XY,iI],Qk);de([yp,G0,ir],IY);function oI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Q0=(e,t)=>t,Z0=(e,t,n)=>n,aG=de(C0,Q0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oI)),iG=de(M0,Q0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oI)),sI=(e,t)=>({width:e.width,height:t.height}),oG=(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}},sG=de(oa,ws,sI),lG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},cG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},uG=de(bs,oa,aG,Q0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=sI(t,s);o==null&&(o=lG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),dG=de(vs,oa,iG,Q0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=oG(t,s);o==null&&(o=cG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),fG=(e,t)=>{var n=ws(e,t);if(n!=null)return uG(e,n.orientation,n.mirror)},pG=de([oa,ws,fG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mG=(e,t)=>{var n=ks(e,t);if(n!=null)return dG(e,n.orientation,n.mirror)},hG=de([oa,ks,mG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),gG=de(oa,ks,(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}}),lI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=hl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&WO(l))return l}},tS=de([Tn,Y0,mr,ir],lI),cI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=hl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},nS=de([Tn,Y0,gp,ir],cI),mM=de([Tn,jY,Ju,X0,tS,nS,bp,Jk,ir],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=hl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),yG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=hl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?Ea(i[0]-i[1])*2*h:h;var v=f||a;if(v){var x=v.map((g,b)=>{var k=o?o.indexOf(g):g;return{index:b,coordinate:r(k)+h,value:g,offset:h}});return x.filter(g=>$r(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>$r(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},uI=de([Tn,gp,Ju,X0,Jk,bp,tS,nS,ir],yG),vG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=hl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ea(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},dI=de([Tn,gp,X0,bp,tS,nS,ir],vG),fI=de(mr,X0,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),bG=de([mr,Ju,Xk,iI],Qk);de((e,t,n)=>Lk(e,n),bG,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})});var xG=de([Tn,C0,M0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pI=e=>e.options.defaultTooltipEventType,mI=e=>e.options.validateTooltipEventTypes;function hI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function rS(e,t){var n=pI(e),r=mI(e);return hI(t,n,r)}function wG(e){return xt(t=>rS(t,e))}var gI=(e,t)=>{var n,r=Number(t);if(!(_o(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},kG=e=>e.tooltip.settings,Hs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},SG={itemInteraction:{click:Hs,hover:Hs},axisInteraction:{click:Hs,hover:Hs},keyboardInteraction:Hs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yI=ii({name:"tooltip",initialState:SG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=so(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:nr()},removeTooltipEntrySettings:{reducer(e,t){var n=so(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:NG,replaceTooltipEntrySettings:jG,removeTooltipEntrySettings:CG,setTooltipSettingsState:MG,setActiveMouseOverItemIndex:vI,mouseLeaveItem:AG,mouseLeaveChart:bI,setActiveClickItemIndex:PG,setMouseOverAxisIndex:xI,setMouseClickAxisIndex:EG,setSyncInteraction:_x,setKeyboardInteraction:Fx}=yI.actions,TG=yI.reducer;function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OG(e,t,n){return(t=DG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _G(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FG(e){return e.index!=null}var wI=(e,t,n,r)=>{if(t==null)return Hs;var a=_G(e,t,n);if(a==null)return Hs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(FG(a)){if(i)return Nm(Nm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Nm(Nm({},Hs),{},{coordinate:a.coordinate})};function LG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function RG(e,t){var n=LG(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function $G(e,t,n){if(n==null||t==null)return!0;var r=Xn(e,t);return r==null||!ll(n)?!0:RG(r,n)}var aS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!$r(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||$G(c,n,r)?String(l):null},kI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},SI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},xp=e=>e.options.tooltipPayloadSearcher,ed=e=>e.tooltip;function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BG(e,t,n){return(t=zG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e,t){return e??t}var NI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:x}=m,g=VG(v,s),b=Array.isArray(g)?e3(g,c,d):g,k=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=HO(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var T=yM(yM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Pj({tooltipEntrySettings:T,dataKey:M.dataKey,payload:M.payload,value:Xn(M.payload,M.dataKey),name:M.name}))});else{var j;p.push(Pj({tooltipEntrySettings:x,dataKey:k,payload:C,value:Xn(C,k),name:(j=Xn(C,S))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return p},f)}},iS=de([Qr,Tn,W4,Ek,Xr],rI),WG=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HG=de([Xr,Qu],Rk),td=de([WG,Qr,HG],$k,{memoizeOptions:{resultEqualityCheck:K0}}),qG=de([td],e=>e.filter(Fk)),KG=de([td],Bk,{memoizeOptions:{resultEqualityCheck:K0}}),nd=de([KG,vl],zk),YG=de([qG,vl,Qr],z4),oS=de([nd,Qr,td],Vk),jI=de([Qr],Wk),GG=de([Qr],e=>e.allowDataOverflow),CI=de([jI,GG],b4),XG=de([td],e=>e.filter(Fk)),QG=de([YG,XG,mp,D4],G4),ZG=de([QG,vl,Xr,CI],X4),JG=de([td],K4),eX=de([nd,Qr,JG,G0,Xr],Kk,{memoizeOptions:{resultEqualityCheck:q0}}),tX=de([Q4,Xr,Qu],Zu),nX=de([tX,Xr],eI),rX=de([Z4,Xr,Qu],Zu),aX=de([rX,Xr],tI),iX=de([J4,Xr,Qu],Zu),oX=de([iX,Xr],nI),sX=de([nX,oX,aX],yg),lX=de([Qr,jI,CI,ZG,eX,sX,Tn,Xr],Yk),wp=de([Qr,Tn,nd,oS,mp,Xr,lX],Gk),cX=de([wp,Qr,iS],Zk),uX=de([Qr,wp,cX,Xr],eS),MI=e=>{var t=Xr(e),n=Qu(e),r=!1;return bp(e,t,n,r)},AI=de([Qr,MI],W0),PI=de([Qr,iS,uX,AI],Qk),dX=de([Tn,oS,Qr,Xr],lI),fX=de([Tn,oS,Qr,Xr],cI),pX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=hl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ea(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ss=de([Tn,Qr,iS,PI,MI,dX,fX,Xr],pX),sS=de([pI,mI,kG],(e,t,n)=>hI(n.shared,e,t)),EI=e=>e.tooltip.settings.trigger,lS=e=>e.tooltip.settings.defaultIndex,kp=de([ed,sS,EI,lS],wI),$u=de([kp,nd,vp,wp],aS),TI=de([Ss,$u],gI),OI=de([kp],e=>{if(e)return e.dataKey}),mX=de([kp],e=>{if(e)return e.graphicalItemId}),DI=de([ed,sS,EI,lS],SI),hX=de([vs,bs,Tn,oa,Ss,lS,DI,xp],kI),gX=de([kp,hX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=de([kp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),vX=de([DI,$u,vl,vp,TI,xp,sS],NI),bX=de([vX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=()=>xt(Qr),NX=()=>{var e=SX(),t=xt(Ss),n=xt(PI);return dx(!e||!n?void 0:bM(bM({},e),{},{scale:n}),t)};function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=MX(e,"string");return typeof t=="symbol"?t:t+""}function MX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},PX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Vc(Vc(Vc({},r),Lr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Vc(Vc(Vc({},r),Lr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function EX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var II=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||v==null))if(Ea(h-m)!==Ea(v-h)){var g=[];if(Ea(v-h)===Ea(a[1]-a[0])){x=v;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var k=v+a[1]-a[0];g[0]=Math.min(h,(k+h)/2),g[1]=Math.max(h,(k+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var j=Math.min(m,v),M=Math.max(m,v);if(e>(j+h)/2&&e<=(M+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var R=0;R<o;R++){var P=t[R];if(P!=null){var _=t[R+1],E=t[R-1];if(R===0&&_!=null&&e<=(P.coordinate+_.coordinate)/2||R===o-1&&E!=null&&e>(P.coordinate+E.coordinate)/2||R>0&&R<o-1&&E!=null&&_!=null&&e>(P.coordinate+E.coordinate)/2&&e<=(P.coordinate+_.coordinate)/2)return P.index}}return-1},TX=()=>xt(Ek),cS=(e,t)=>t,_I=(e,t,n)=>n,uS=(e,t,n,r)=>r,OX=de(Ss,e=>h0(e,t=>t.coordinate)),dS=de([ed,cS,_I,uS],wI),fS=de([dS,nd,vp,wp],aS),DX=(e,t,n)=>{if(t!=null){var r=ed(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},FI=de([ed,cS,_I,uS],SI),vg=de([vs,bs,Tn,oa,Ss,uS,FI,xp],kI),IX=de([dS,vg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),LI=de([Ss,fS],gI),_X=de([FI,fS,vl,vp,LI,xp,cS],NI),FX=de([dS,fS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),LX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&EX(e,o)){var s=u9(e,t),l=II(s,i,a,n,r),c=AX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},RX=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=SH(e,n);if(s){var l=d9(s,t),c=II(l,o,i,r,a),d=PX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},$X=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?LX(e,t,r,a,i,o,s):RX(e,t,n,r,a,i,o)},BX=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),zX=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ha)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:xY}});function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=VX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX={},qX={zIndexMap:Object.values(ha).reduce((e,t)=>kM(kM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),HX)},KX=new Set(Object.values(ha));function YX(e){return KX.has(e)}var RI=ii({name:"zIndex",initialState:qX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:nr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!YX(n)&&delete e.zIndexMap[n])},prepare:nr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:nr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:nr()}}}),{registerZIndexPortal:GX,unregisterZIndexPortal:XX,registerZIndexPortalElement:QX,unregisterZIndexPortalElement:ZX}=RI.actions,JX=RI.reducer;function yo(e){var{zIndex:t,children:n}=e,r=R9(),a=r&&t!==void 0&&t!==0,i=oi(),o=Wn();y.useLayoutEffect(()=>a?(o(GX({zIndex:t})),()=>{o(XX({zIndex:t}))}):ap,[o,t,a]);var s=xt(l=>BX(l,t,i));return a?s?Ku.createPortal(n,s):null:n}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(null,arguments)}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){eQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eQ(e,t,n){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(n,r)}function aQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,v,x;if(d==="ScatterChart")h=f,v=LW,x=ha.cursorLine;else if(d==="BarChart")h=RW(s,f,i,o),v=T3,x=ha.cursorRectangle;else if(s==="radial"&&KO(f)){var{cx:g,cy:b,radius:k,startAngle:S,endAngle:C}=D3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:k,outerRadius:k},v=_3,x=ha.cursorLine}else h={points:MH(s,f,i)},v=nk,x=ha.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,M=jm(jm(jm(jm({stroke:"#ccc",pointerEvents:"none"},i),h),Tu(l)),{},{payload:p,payloadIndex:m,className:kn("recharts-tooltip-cursor",j)});return y.createElement(yo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement(rQ,{cursor:l,cursorComp:v,cursorProps:M}))}function iQ(e){var t=NX(),n=m3(),r=lp(),a=TX();return t==null||n==null||r==null||a==null?null:y.createElement(aQ,Lx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var $I=y.createContext(null),oQ=()=>y.useContext($I),BI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],x=arguments.length,g,b;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,p),!0;case 6:return v.fn.call(v.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];v.fn.apply(v.context,g)}else{var k=v.length,S;for(b=0;b<k;b++)switch(v[b].once&&this.removeListener(l,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,d);break;case 4:v[b].fn.call(v[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];v[b].fn.apply(v[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(BI);var sQ=BI.exports;const lQ=ho(sQ);var Bf=new lQ,Rx="recharts.syncEvent.tooltip",NM="recharts.syncEvent.brush";function zI(e,t){if(t){var n=Number.parseInt(t,10);if(!_o(n))return e==null?void 0:e[n]}}var cQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UI=ii({name:"options",initialState:cQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uQ=UI.reducer,{createEventEmitter:dQ}=UI.actions;function fQ(e){return e.tooltip.syncInteraction}var pQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},VI=ii({name:"chartData",initialState:pQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:jM,setDataStartEndIndexes:mQ,setComputedData:Xhe}=VI.actions,hQ=VI.reducer,gQ=["x","y"];function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xQ(e,t){if(e==null)return{};var n,r,a=wQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kQ(){var e=xt(Tk),t=xt(Ok),n=Wn(),r=xt(I4),a=xt(Ss),i=lp(),o=E0(),s=xt(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return ap;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,x=xQ(m,gQ),{x:g,y:b,width:k,height:S}=d.payload.sourceViewBox,C=Wc(Wc({},x),{},{x:o.x+(k?(h-g)/k:0)*o.width,y:o.y+(S?(v-b)/S:0)*o.height});n(Wc(Wc({},d),{},{payload:Wc(Wc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,M);j=a[T]}else r==="value"&&(j=a.find(he=>String(he.value)===d.payload.label));var{coordinate:R}=d.payload;if(j==null||d.payload.active===!1||R==null||o==null){n(_x({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:_}=R,E=Math.min(P,o.x+o.width),G=Math.min(_,o.y+o.height),X={x:i==="horizontal"?j.coordinate:E,y:i==="horizontal"?G:j.coordinate},re=_x({active:d.payload.active,coordinate:X,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(re)}}};return Bf.on(Rx,l),()=>{Bf.off(Rx,l)}},[s,n,t,e,r,a,i,o])}function SQ(){var e=xt(Tk),t=xt(Ok),n=Wn();y.useEffect(()=>{if(e==null)return ap;var r=(a,i,o)=>{t!==o&&e===a&&n(mQ(i))};return Bf.on(NM,r),()=>{Bf.off(NM,r)}},[n,t,e])}function NQ(){var e=Wn();y.useEffect(()=>{e(dQ())},[e]),kQ(),SQ()}function jQ(e,t,n,r,a,i){var o=xt(m=>DX(m,e,t)),s=xt(Ok),l=xt(Tk),c=xt(I4),d=xt(fQ),f=d==null?void 0:d.active,p=E0();y.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=_x({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Bf.emit(Rx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e){return e.dataKey}function EQ(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(gW,t)}var PM=[],TQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yc(e){var t,n,r=Yr(e,TQ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:x,cursor:g,shared:b,trigger:k,defaultIndex:S,portal:C,axisId:j}=r,M=Wn(),T=typeof S=="number"?String(S):S;y.useEffect(()=>{M(MG({shared:b,trigger:k,axisId:j,active:a,defaultIndex:T}))},[M,b,k,j,a,T]);var R=E0(),P=C3(),_=wG(b),{activeIndex:E,isActive:G}=(t=xt(W=>FX(W,_,k,T)))!==null&&t!==void 0?t:{},X=xt(W=>_X(W,_,k,T)),re=xt(W=>LI(W,_,k,T)),he=xt(W=>IX(W,_,k,T)),Y=X,I=oQ(),ee=(n=a??G)!==null&&n!==void 0?n:!1,[w,$]=ND([Y,ee]),A=_==="axis"?re:void 0;jQ(_,k,he,A,E,ee);var N=C??I;if(N==null||R==null||_==null)return null;var B=Y??PM;ee||(B=PM),c&&B.length&&(B=fD(B.filter(W=>W.value!=null&&(W.hide!==!0||r.includeHidden)),p,PQ));var K=B.length>0,U=y.createElement(SW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:ee,coordinate:he,hasPayload:K,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:R,wrapperStyle:x,lastBoundingBox:w,innerRef:$,hasPortalFromProps:!!C},EQ(l,AM(AM({},r),{},{payload:B,label:A,active:ee,activeIndex:E,coordinate:he,accessibilityLayer:P})));return y.createElement(y.Fragment,null,Ku.createPortal(U,N),ee&&y.createElement(iQ,{cursor:g,tooltipEventType:_,coordinate:he,payload:B,index:E}))}var Bu=e=>null;Bu.displayName="Cell";function OQ(e,t,n){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _Q{constructor(t){OQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){LQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BQ={cacheSize:2e3,enableCache:!0},WI=FQ({},BQ),TM=new _Q(WI.cacheSize),zQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OM="recharts_measurement_span";function UQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var DM=(e,t)=>{try{var n=document.getElementById(OM);n||(n=document.createElement("span"),n.setAttribute("id",OM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_0.isSsr)return{width:0,height:0};if(!WI.enableCache)return DM(e,t);var n=UQ(e,t),r=TM.get(n);if(r)return r;var a=DM(e,t);return TM.set(n,a),a},HI;function VQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_M=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GQ=["cm","mm","pt","pc","in","Q","px"];function XQ(e){return GQ.includes(e)}var lu="NaN";function QQ(e,t){return e*YQ[t]}class ma{static parse(t){var n,[,r,a]=(n=KQ.exec(t))!==null&&n!==void 0?n:[];return r==null?ma.NaN:new ma(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_o(t)&&(this.unit=""),n!==""&&!qQ.test(n)&&(this.num=NaN,this.unit=""),XQ(n)&&(this.num=QQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ma(NaN,""):new ma(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ma(NaN,""):new ma(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ma(NaN,""):new ma(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ma(NaN,""):new ma(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _o(this.num)}}HI=ma;VQ(ma,"NaN",new HI(NaN,""));function qI(e){if(e==null||e.includes(lu))return lu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=IM.exec(t))!==null&&n!==void 0?n:[],o=ma.parse(r??""),s=ma.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return lu;t=t.replace(IM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=_M.exec(t))!==null&&c!==void 0?c:[],m=ma.parse(d??""),h=ma.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return lu;t=t.replace(_M,v.toString())}return t}var FM=/\(([^()]*)\)/;function ZQ(e){for(var t=e,n;(n=FM.exec(t))!=null;){var[,r]=n;t=t.replace(FM,qI(r))}return t}function JQ(e){var t=e.replace(/\s+/g,"");return t=ZQ(t),t=qI(t),t}function eZ(e){try{return JQ(e)}catch{return lu}}function yv(e){var t=eZ(e.slice(5,-1));return t===lu?"":t}var tZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nZ=["dx","dy","angle","className","breakAll"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(null,arguments)}function LM(e,t){if(e==null)return{};var n,r,a=rZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KI=/[ \f\n\r\t\v\u2028\u2029]+/,YI=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Kr(t)||(n?a=t.toString().split(""):a=t.toString().split(KI));var i=a.map(s=>({word:s,width:Xd(s,r).width})),o=n?0:Xd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function aZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var GI=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),XI=e=>e.reduce((t,n)=>t.width>n.width?t:n),iZ="",RM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=YI({breakAll:n,style:r,children:l+iZ});if(!c)return[!1,[]];var d=GI(c.wordsWithComputedWidth,i,o,s),f=d.length>a||XI(d).width>Number(i);return[f,d]},oZ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=St(i),d=String(o),f=GI(t,r,n,a);if(!c||a)return f;var p=f.length>i||XI(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,x;m<=h&&v<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[k,S]=RM(d,b,l,s,i,r,n,a),[C]=RM(d,g,l,s,i,r,n,a);if(!k&&!C&&(m=g+1),k&&C&&(h=g-1),!k&&C){x=S;break}v++}return x||f},$M=e=>{var t=Kr(e)?[]:e.toString().split(KI);return[{words:t,width:void 0}]},sZ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!_0.isSsr){var s,l,c=YI({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return $M(r);return oZ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return $M(r)},QI="#808080",lZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:QI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},J0=y.forwardRef((e,t)=>{var n=Yr(e,lZ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=LM(n,tZ),p=y.useMemo(()=>sZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:x,breakAll:g}=f,b=LM(f,nZ);if(!Fo(r)||!Fo(a)||p.length===0)return null;var k=Number(r)+(St(m)?m:0),S=Number(a)+(St(h)?h:0);if(!$r(k)||!$r(S))return null;var C;switch(d){case"start":C=yv("calc(".concat(o,")"));break;case"middle":C=yv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=yv("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(l){var M=p[0].width,{width:T}=f;j.push("scale(".concat(St(T)&&St(M)?T/M:1,")"))}return v&&j.push("rotate(".concat(v,", ").concat(k,", ").concat(S,")")),j.length&&(b.transform=j.join(" ")),y.createElement("text",$x({},za(b),{ref:t,x:k,y:S,className:kn("recharts-text",x),textAnchor:c,fill:s.includes("url")?QI:s}),p.map((R,P)=>{var _=R.words.join(g?"":" ");return y.createElement("tspan",{x:k,dy:P===0?C:i,key:"".concat(_,"-").concat(P)},_)}))});J0.displayName="Text";var cZ=["labelRef"],uZ=["content"];function BM(e,t){if(e==null)return{};var n,r,a=dZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){fZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(null,arguments)}var ZI=y.createContext(null),hZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return y.createElement(ZI.Provider,{value:l},s)},JI=()=>{var e=y.useContext(ZI),t=E0();return e||p3(t)},gZ=y.createContext(null),yZ=()=>{var e=y.useContext(gZ),t=xt($4);return e||t},vZ=e=>{var{value:t,formatter:n}=e,r=Kr(e.children)?t:e.children;return typeof n=="function"?n(r):r},pS=e=>e!=null&&typeof e=="function",bZ=(e,t)=>{var n=Ea(t-e),r=Math.min(Math.abs(t-e),360);return n*r},xZ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,v=bZ(f,p),x=v>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var k=Lr(s,l,h,g),S=Lr(s,l,h,g+(b?1:-1)*359),C="M".concat(k.x,",").concat(k.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),j=Kr(e.id)?Mf("recharts-radial-line-"):e.id;return y.createElement("text",Yo({},r,{dominantBaseline:"central",className:kn("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:j,d:C})),y.createElement("textPath",{xlinkHref:"#".concat(j)},n))},wZ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Lr(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Lr(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Bx=e=>"cx"in e&&St(e.cx),kZ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Bx(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,v=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",k=x>0?"start":"end",S=l>=0?1:-1,C=S*r,j=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Cr(Cr({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var R={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:k};return Cr(Cr({},R),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var P={x:m-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Cr(Cr({},P),i?{width:Math.max(P.x-i.x,0),height:d}:{})}if(a==="right"){var _={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Cr(Cr({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:d}:{})}var E=i?{width:h,height:d}:{};return a==="insideLeft"?Cr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},E):a==="insideRight"?Cr({x:m+h-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},E):a==="insideTop"?Cr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:k},E):a==="insideBottom"?Cr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},E):a==="insideTopLeft"?Cr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:k},E):a==="insideTopRight"?Cr({x:f+l-C,y:s+g,textAnchor:j,verticalAnchor:k},E):a==="insideBottomLeft"?Cr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},E):a==="insideBottomRight"?Cr({x:p+c-C,y:s+d-g,textAnchor:j,verticalAnchor:b},E):a&&typeof a=="object"&&(St(a.x)||us(a.x))&&(St(a.y)||us(a.y))?Cr({x:o+zi(a.x,h),y:s+zi(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):Cr({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},SZ={angle:0,offset:5,zIndex:ha.label,position:"middle",textBreakAll:!1};function zs(e){var t=Yr(e,SZ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=yZ(),f=JI(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:Bx(n)?m=n:m=p3(n),!m||Kr(a)&&Kr(i)&&!y.isValidElement(o)&&typeof o!="function")return null;var x=Cr(Cr({},t),{},{viewBox:m});if(y.isValidElement(o)){var{labelRef:g}=x,b=BM(x,cZ);return y.cloneElement(o,b)}if(typeof o=="function"){var{content:k}=x,S=BM(x,uZ);if(h=y.createElement(o,S),y.isValidElement(h))return h}else h=vZ(t);var C=za(t);if(Bx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return xZ(t,r,h,C,m);v=wZ(m,t.offset,t.position)}else v=kZ(t,m);return y.createElement(yo,{zIndex:t.zIndex},y.createElement(J0,Yo({ref:c,className:kn("recharts-label",s)},C,v,{textAnchor:aZ(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),h))}zs.displayName="Label";var NZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(zs,Yo({key:"label-implicit"},r)):Fo(e)?y.createElement(zs,Yo({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===zs?y.cloneElement(e,Cr({key:"label-implicit"},r)):y.createElement(zs,Yo({key:"label-implicit",content:e},r)):pS(e)?y.createElement(zs,Yo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(zs,Yo({},e,{key:"label-implicit"},r)):null};function jZ(e){var{label:t,labelRef:n}=e,r=JI();return NZ(t,r,n)||null}var e_={},t_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(t_);var n_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(n_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t_,n=n_,r=f0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(e_);var CZ=e_.last;const MZ=ho(CZ);var AZ=["valueAccessor"],PZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(null,arguments)}function UM(e,t){if(e==null)return{};var n,r,a=EZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TZ=e=>Array.isArray(e.value)?MZ(e.value):e.value,r_=y.createContext(void 0),OZ=r_.Provider,a_=y.createContext(void 0),DZ=a_.Provider;function IZ(){return y.useContext(r_)}function _Z(){return y.useContext(a_)}function Zm(e){var{valueAccessor:t=TZ}=e,n=UM(e,AZ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=UM(n,PZ),c=IZ(),d=_Z(),f=c||d;return!f||!f.length?null:y.createElement(yo,{zIndex:s??ha.label},y.createElement(ri,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=Kr(r)?t(p,m):Xn(p&&p.payload,r),x=Kr(i)?{}:{id:"".concat(i,"-").concat(m)};return y.createElement(zs,bg({key:"label-".concat(m)},za(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Zm.displayName="LabelList";function i_(e){var{label:t}=e;return t?t===!0?y.createElement(Zm,{key:"labelList-implicit"}):y.isValidElement(t)||pS(t)?y.createElement(Zm,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Zm,bg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zx.apply(null,arguments)}var o_=e=>{var{cx:t,cy:n,r,className:a}=e,i=kn("recharts-dot",a);return St(t)&&St(n)&&St(r)?y.createElement("circle",zx({},Wi(e),O1(e),{className:i,cx:t,cy:n,r})):null},s_=e=>e.graphicalItems.polarItems,FZ=de([ir,hp],Rk),ey=de([s_,mr,FZ],$k),LZ=de([ey],Bk),ty=de([LZ,Ck],zk),RZ=de([ty,mr,ey],Vk);de([ty,mr,ey],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Xn(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Xn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var VM=()=>{},$Z=de([ty,mr,ey,G0,ir],Kk),BZ=de([mr,Hk,qk,VM,$Z,VM,Tn,ir],Yk),l_=de([mr,Tn,ty,RZ,mp,ir,BZ],Gk),zZ=de([l_,mr,Ju],Zk);de([mr,l_,zZ,ir],eS);var UZ={radiusAxis:{},angleAxis:{}},c_=ii({name:"polarAxis",initialState:UZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qhe,removeRadiusAxis:Zhe,addAngleAxis:Jhe,removeAngleAxis:ege}=c_.actions,VZ=c_.reducer;function WM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(n),!0).forEach(function(r){WZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=(e,t)=>t,mS=de([s_,KZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),YZ=[],hS=(e,t,n)=>(n==null?void 0:n.length)===0?YZ:n,u_=de([Ck,mS,hS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>HM(HM({},t.presentationProps),i.props))),a!=null)return a}}),GZ=de([u_,mS,hS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=Xn(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:j0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),XZ=de([u_,mS,hS,oa],(e,t,n,r)=>{if(!(t==null||e==null))return cee({offset:r,pieSettings:t,displayedData:e,cells:n})}),d_={exports:{}},Fn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ny=60103,ry=60106,Sp=60107,Np=60108,jp=60114,Cp=60109,Mp=60110,Ap=60112,Pp=60113,gS=60120,Ep=60115,Tp=60116,f_=60121,p_=60122,m_=60117,h_=60129,g_=60131;if(typeof Symbol=="function"&&Symbol.for){var da=Symbol.for;ny=da("react.element"),ry=da("react.portal"),Sp=da("react.fragment"),Np=da("react.strict_mode"),jp=da("react.profiler"),Cp=da("react.provider"),Mp=da("react.context"),Ap=da("react.forward_ref"),Pp=da("react.suspense"),gS=da("react.suspense_list"),Ep=da("react.memo"),Tp=da("react.lazy"),f_=da("react.block"),p_=da("react.server.block"),m_=da("react.fundamental"),h_=da("react.debug_trace_mode"),g_=da("react.legacy_hidden")}function vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ny:switch(e=e.type,e){case Sp:case jp:case Np:case Pp:case gS:return e;default:switch(e=e&&e.$$typeof,e){case Mp:case Ap:case Tp:case Ep:case Cp:return e;default:return t}}case ry:return t}}}var QZ=Cp,ZZ=ny,JZ=Ap,eJ=Sp,tJ=Tp,nJ=Ep,rJ=ry,aJ=jp,iJ=Np,oJ=Pp;Fn.ContextConsumer=Mp;Fn.ContextProvider=QZ;Fn.Element=ZZ;Fn.ForwardRef=JZ;Fn.Fragment=eJ;Fn.Lazy=tJ;Fn.Memo=nJ;Fn.Portal=rJ;Fn.Profiler=aJ;Fn.StrictMode=iJ;Fn.Suspense=oJ;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return vo(e)===Mp};Fn.isContextProvider=function(e){return vo(e)===Cp};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ny};Fn.isForwardRef=function(e){return vo(e)===Ap};Fn.isFragment=function(e){return vo(e)===Sp};Fn.isLazy=function(e){return vo(e)===Tp};Fn.isMemo=function(e){return vo(e)===Ep};Fn.isPortal=function(e){return vo(e)===ry};Fn.isProfiler=function(e){return vo(e)===jp};Fn.isStrictMode=function(e){return vo(e)===Np};Fn.isSuspense=function(e){return vo(e)===Pp};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sp||e===jp||e===h_||e===Np||e===Pp||e===gS||e===g_||typeof e=="object"&&e!==null&&(e.$$typeof===Tp||e.$$typeof===Ep||e.$$typeof===Cp||e.$$typeof===Mp||e.$$typeof===Ap||e.$$typeof===m_||e.$$typeof===f_||e[0]===p_)};Fn.typeOf=vo;d_.exports=Fn;var sJ=d_.exports,qM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",KM=null,vv=null,y_=e=>{if(e===KM&&Array.isArray(vv))return vv;var t=[];return y.Children.forEach(e,n=>{Kr(n)||(sJ.isFragment(n)?t=t.concat(y_(n.props.children)):t.push(n))}),vv=t,KM=e,t};function v_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>qM(a)):r=[qM(t)],y_(e).forEach(a=>{var i=dc(a,"type.displayName")||dc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var b_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,x_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(x_);var lJ=x_.isPlainObject;const cJ=ho(lJ);var YM,GM,XM,QM,ZM;function JM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(n),!0).forEach(function(r){uJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(null,arguments)}function Md(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tA=(e,t,n,r,a)=>{var i=n-r,o;return o=br(YM||(YM=Md(["M ",",",""])),e,t),o+=br(GM||(GM=Md(["L ",",",""])),e+n,t),o+=br(XM||(XM=Md(["L ",",",""])),e+n-i/2,t+a),o+=br(QM||(QM=Md(["L ",",",""])),e+n-i/2-r,t+a),o+=br(ZM||(ZM=Md(["L ",","," Z"])),e,t),o},pJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mJ=e=>{var t=Yr(e,pJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=y.useRef(null),[m,h]=y.useState(-1),v=y.useRef(a),x=y.useRef(i),g=y.useRef(o),b=y.useRef(n),k=y.useRef(r),S=L0(e,"trapezoid-");if(y.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var X=p.current.getTotalLength();X&&h(X)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=kn("recharts-trapezoid",s);if(!f)return y.createElement("g",null,y.createElement("path",xg({},za(t),{className:C,d:tA(n,r,a,i,o)})));var j=v.current,M=x.current,T=g.current,R=b.current,P=k.current,_="0px ".concat(m===-1?1:m,"px"),E="".concat(m,"px 0px"),G=M3(["strokeDasharray"],c,l);return y.createElement(F0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},X=>{var re=Pa(j,a,X),he=Pa(M,i,X),Y=Pa(T,o,X),I=Pa(R,n,X),ee=Pa(P,r,X);p.current&&(v.current=re,x.current=he,g.current=Y,b.current=I,k.current=ee);var w=X>0?{transition:G,strokeDasharray:E}:{strokeDasharray:_};return y.createElement("path",xg({},za(t),{className:C,d:tA(I,ee,re,he,Y),ref:p,style:eA(eA({},w),t.style)}))})},hJ=["option","shapeType","activeClassName"];function gJ(e,t){if(e==null)return{};var n,r,a=yJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){vJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wJ(e,t){return wg(wg({},t),e)}function kJ(e,t){return e==="symbols"}function rA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(T3,n);case"trapezoid":return y.createElement(mJ,n);case"sector":return y.createElement(_3,n);case"symbols":if(kJ(t))return y.createElement(T1,n);break;case"curve":return y.createElement(nk,n);default:return null}}function SJ(e){return y.isValidElement(e)?e.props:e}function w_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=gJ(e,hJ),i;if(y.isValidElement(t))i=y.cloneElement(t,wg(wg({},a),SJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(cJ(t)&&typeof t!="boolean"){var o=wJ(t,a);i=y.createElement(rA,{shapeType:n,elementProps:o})}else{var s=a;i=y.createElement(rA,{shapeType:n,elementProps:s})}return a.isActive?y.createElement(ri,{className:r},i):i}var NJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(vI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},jJ=e=>{var t=Wn();return(n,r)=>a=>{e==null||e(n,r,a),t(AG())}},CJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(PG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function k_(e){var{tooltipEntrySettings:t}=e,n=Wn(),r=oi(),a=y.useRef(null);return y.useLayoutEffect(()=>{r||(a.current===null?n(NG(t)):a.current!==t&&n(jG({prev:a.current,next:t})),a.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{a.current&&(n(CG(a.current)),a.current=null)},[n]),null}function MJ(e){var{legendPayload:t}=e,n=Wn(),r=oi(),a=y.useRef(null);return y.useLayoutEffect(()=>{r||(a.current===null?n(k3(t)):a.current!==t&&n(S3({prev:a.current,next:t})),a.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{a.current&&(n(N3(a.current)),a.current=null)},[n]),null}function AJ(e){var{legendPayload:t}=e,n=Wn(),r=xt(Tn),a=y.useRef(null);return y.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(k3(t)):a.current!==t&&n(S3({prev:a.current,next:t})),a.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{a.current&&(n(N3(a.current)),a.current=null)},[n]),null}var bv,PJ=()=>{var[e]=y.useState(()=>Mf("uid-"));return e},EJ=(bv=RR.useId)!==null&&bv!==void 0?bv:PJ;function TJ(e,t){var n=EJ();return t||(e?"".concat(e,"-").concat(n):n)}var OJ=y.createContext(void 0),S_=e=>{var{id:t,type:n,children:r}=e,a=TJ("recharts-".concat(n),t);return y.createElement(OJ.Provider,{value:a},r(a))},DJ={cartesianItems:[],polarItems:[]},N_=ii({name:"graphicalItems",initialState:DJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=so(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:nr()},removeCartesianGraphicalItem:{reducer(e,t){var n=so(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nr()},removePolarGraphicalItem:{reducer(e,t){var n=so(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:nr()}}}),{addCartesianGraphicalItem:IJ,replaceCartesianGraphicalItem:_J,removeCartesianGraphicalItem:FJ,addPolarGraphicalItem:LJ,removePolarGraphicalItem:RJ}=N_.actions,$J=N_.reducer,BJ=e=>{var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(IJ(e)):n.current!==e&&t(_J({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(FJ(n.current)),n.current=null)},[t]),null},zJ=y.memo(BJ);function UJ(e){var t=Wn();return y.useLayoutEffect(()=>(t(LJ(e)),()=>{t(RJ(e))}),[t,e]),null}var VJ=["key"],WJ=["onMouseEnter","onClick","onMouseLeave"],HJ=["id"],qJ=["id"];function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){KJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KJ(e,t,n){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(null,arguments)}function ay(e,t){if(e==null)return{};var n,r,a=XJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QJ(e){var t=y.useMemo(()=>v_(e.children,Bu),[e.children]),n=xt(r=>GZ(r,e.id,t));return n==null?null:y.createElement(AJ,{legendPayload:n})}var ZJ=y.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:j0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return y.createElement(k_,{tooltipEntrySettings:f})}),JJ=(e,t)=>e>t?"start":e<t?"end":"middle",eee=(e,t,n)=>zi(typeof t=="function"?t(e):t,n,n*.8),tee=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=O3(i,o),l=a+zi(e.cx,i,i/2),c=r+zi(e.cy,o,o/2),d=zi(e.innerRadius,s,0),f=eee(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},nee=(e,t)=>{var n=Ea(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function ree(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aee=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=kn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=ay(t,VJ);return y.createElement(nk,cl({},a,{type:"linear",className:n}))},iee=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),y.isValidElement(r)))return r;var a=kn("recharts-pie-label-text",ree(e));return y.createElement(J0,cl({},t,{alignmentBaseline:"middle",className:a}),r)};function oee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Wi(n),l=Tu(a),c=Tu(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=Lr(p.cx,p.cy,p.outerRadius+d,h),x=wr(wr(wr(wr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:JJ(v.x,p.cx)},v),g=wr(wr(wr(wr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Lr(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return y.createElement(yo,{zIndex:ha.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},y.createElement(ri,null,i&&aee(i,g),iee(a,x,Xn(p,o))))});return y.createElement(ri,{className:"recharts-pie-labels"},f)}function see(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?y.createElement(i_,{label:a}):y.createElement(oee,{sectors:t,props:n,showLabels:r})}function lee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=xt($u),l=xt(OI),c=xt(mX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=ay(a,WJ),h=NJ(d,a.dataKey,o),v=jJ(p),x=CJ(f,a.dataKey,o);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var k=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&k,C=s?r:null,j=n&&S?n:C,M=wr(wr({},g),{},{stroke:g.stroke,tabIndex:-1,[a3]:b,[i3]:o});return y.createElement(ri,cl({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},D1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:v(g,b),onClick:x(g,b)}),y.createElement(w_,cl({option:i??j,index:b,shapeType:"sector",isActive:S},M)))}))}function cee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=nee(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(j=>Xn(j,c,0)!==0).length,g=(h>=360?x:x-1)*v,b=h-x*p-g,k=r.reduce((j,M)=>{var T=Xn(M,c,0);return j+(St(T)?T:0)},0),S;if(k>0){var C;S=r.map((j,M)=>{var T=Xn(j,c,0),R=Xn(j,d,M),P=tee(n,i,j),_=(St(T)?T:0)/k,E,G=wr(wr({},j),a&&a[M]&&a[M].props);M?E=C.endAngle+Ea(m)*v*(T!==0?1:0):E=s;var X=E+Ea(m)*((T!==0?p:0)+_*b),re=(E+X)/2,he=(P.innerRadius+P.outerRadius)/2,Y=[{name:R,value:T,payload:G,dataKey:c,type:f,graphicalItemId:n.id}],I=Lr(P.cx,P.cy,he,re);return C=wr(wr(wr(wr({},n.presentationProps),{},{percent:_,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:Y,midAngle:re,middleRadius:he,tooltipPosition:I},G),P),{},{value:T,dataKey:c,startAngle:E,endAngle:X,payload:G,paddingAngle:Ea(m)*v}),C})}return S}function uee(e){var{showLabels:t,sectors:n,children:r}=e,a=y.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return y.createElement(DZ,{value:t?a:void 0},r)}function dee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=L0(t,"recharts-pie-"),h=n.current,[v,x]=y.useState(!1),g=y.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=y.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return y.createElement(uee,{showLabels:!v,sectors:a},y.createElement(F0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},k=>{var S=[],C=a&&a[0],j=C==null?void 0:C.startAngle;return a==null||a.forEach((M,T)=>{var R=h&&h[T],P=T>0?dc(M,"paddingAngle",0):0;if(R){var _=Pa(R.endAngle-R.startAngle,M.endAngle-M.startAngle,k),E=wr(wr({},M),{},{startAngle:j+P,endAngle:j+_+P});S.push(E),j=E.endAngle}else{var{endAngle:G,startAngle:X}=M,re=Pa(0,G-X,k),he=wr(wr({},M),{},{startAngle:j+P,endAngle:j+re+P});S.push(he),j=he.endAngle}}),n.current=S,y.createElement(ri,null,y.createElement(lee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),y.createElement(see,{showLabels:!v,sectors:a,props:t}),t.children)}var fee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ha.area};function pee(e){var{id:t}=e,n=ay(e,HJ),{hide:r,className:a,rootTabIndex:i}=e,o=y.useMemo(()=>v_(e.children,Bu),[e.children]),s=xt(d=>XZ(d,t,o)),l=y.useRef(null),c=kn("recharts-pie",a);return r||s==null?(l.current=null,y.createElement(ri,{tabIndex:i,className:c})):y.createElement(yo,{zIndex:e.zIndex},y.createElement(ZJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),y.createElement(ri,{tabIndex:i,className:c},y.createElement(dee,{props:wr(wr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function kg(e){var t=Yr(e,fee),{id:n}=t,r=ay(t,qJ),a=Wi(r);return y.createElement(S_,{id:n,type:"pie"},i=>y.createElement(y.Fragment,null,y.createElement(UJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),y.createElement(QJ,cl({},r,{id:i})),y.createElement(pee,cl({},r,{id:i}))))}kg.displayName="Pie";var mee=["points"];function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hee(e,t,n){return(t=gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function vee(e,t){if(e==null)return{};var n,r,a=bee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xee(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var a=kn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=vee(i,mee);return y.createElement(o_,Sg({},s,{className:a}))}function wee(e,t){return e==null?!1:t?!0:e.length===1}function kee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=ha.scatter}=e;if(!wee(t,n))return null;var d=b_(n),f=eU(n),p=t.map((h,v)=>{var x,g,b=xv(xv(xv({r:3},o),f),{},{index:v,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return y.createElement(xee,{key:"dot-".concat(v),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),y.createElement(yo,{zIndex:c},y.createElement(ri,Sg({className:r},m),p))}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cee={xAxis:{},yAxis:{},zAxis:{}},j_=ii({name:"cartesianAxis",initialState:Cee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=sA(sA({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Mee,replaceXAxis:Aee,removeXAxis:Pee,addYAxis:Eee,replaceYAxis:Tee,removeYAxis:Oee,addZAxis:tge,replaceZAxis:nge,removeZAxis:rge,updateYAxisWidth:Dee}=j_.actions,Iee=j_.reducer,_ee=de([oa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fee=de([_ee,vs,bs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),yS=()=>xt(Fee),Lee=()=>xt(bX);function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=wv(wv(wv({},s),Tu(a)),O1(a)),c;return y.isValidElement(a)?c=y.cloneElement(a,l):typeof a=="function"?c=a(l):c=y.createElement(o_,l),y.createElement(ri,{className:"recharts-active-dot",clipPath:o},c)};function Uee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=ha.activeDot}=e,s=xt($u),l=Lee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Kr(c)?null:y.createElement(yo,{zIndex:o},y.createElement(zee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var C_=e=>{var{chartData:t}=e,n=Wn(),r=oi();return y.useEffect(()=>r?()=>{}:(n(jM(t)),()=>{n(jM(void 0))}),[t,n,r]),null},cA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},M_=ii({name:"brush",initialState:cA,reducers:{setBrushSettings(e,t){return t.payload==null?cA:t.payload}}}),{setBrushSettings:age}=M_.actions,Vee=M_.reducer;function Wee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vS{static create(t){return new vS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Wee(vS,"EPS",1e-4);function Kee(e){return(e%180+180)%180}var Yee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Gee={dots:[],areas:[],lines:[]},A_=ii({name:"referenceElements",initialState:Gee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=so(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=so(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=so(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:ige,removeDot:oge,addArea:sge,removeArea:lge,addLine:cge,removeLine:uge}=A_.actions,Xee=A_.reducer,Qee=y.createContext(void 0),Zee=e=>{var{children:t}=e,[n]=y.useState("".concat(Mf("recharts"),"-clip")),r=yS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return y.createElement(Qee.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function P_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function Jee(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Yee(r,n)}function ete(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function zf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function tte(e,t){return P_(e,t+1)}function nte(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:P_(r,c)};var h=l,v,x=()=>(v===void 0&&(v=n(m,h)),v),g=m.coordinate,b=l===0||zf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function rte(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,k,S=()=>(k===void 0&&(k=n(g,b)),k),C=g.coordinate,j=h===d||zf(e,C,S,f,l);if(!j)return p=!1,1;j&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var v=[],x=d;x<o;x+=c)v.push(r[x]);return v}}return[]}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ite(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=Ca(Ca({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=Ca(Ca({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=zf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=Ca(Ca({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function lte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=Ca(Ca({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=zf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=Ca(Ca({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(g){var b=o[g],k,S=()=>(k===void 0&&(k=n(b,g)),k);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=Ca(Ca({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=Ca(Ca({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=zf(e,b.tickCoord,S,l,c);j&&(l=b.tickCoord+e*(S()/2+a),o[g]=Ca(Ca({},b),{},{isShow:!0}))}},x=0;x<h;x++)v(x);return o}function bS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(St(l)||_0.isSsr){var p;return(p=tte(a,St(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Xd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(k,S)=>{var C=typeof c=="function"?c(k.value,S):k.value;return h==="width"?Jee(Xd(C,{fontSize:t,letterSpacing:n}),v,f):Xd(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?Ea(a[1].coordinate-a[0].coordinate):1,b=ete(i,g,h);return l==="equidistantPreserveStart"?nte(g,b,x,a,o):l==="equidistantPreserveEnd"?rte(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=lte(g,b,x,a,o,l==="preserveStartEnd"):m=ste(g,b,x,a,o),m.filter(k=>k.isShow))}var cte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},ute=["axisLine","width","height","className","hide","ticks","axisType"];function dte(e,t){if(e==null)return{};var n,r,a=fte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(null,arguments)}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ha.axis};function gte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=_r(_r(_r({},l),Wi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=_r(_r({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=_r(_r({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return y.createElement("line",vc({},c,{className:kn("recharts-cartesian-axis-line",dc(s,"className"))}))}function yte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,v=s?-1:1,x=e.tickSize||o,g=St(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-v*x,h=f-v*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-v*x,m=c-v*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+v*x,m=c+v*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+v*x,h=f+v*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function vte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xte(e){var{option:t,tickProps:n,value:r}=e,a,i=kn(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,_r(_r({},n),{},{className:i}));else if(typeof t=="function")a=t(_r(_r({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=kn(o,t==null?void 0:t.className)),a=y.createElement(J0,vc({},n,{className:o}),r)}return a}var wte=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:k,getTicksConfig:S,events:C,axisType:j}=e,M=bS(_r(_r({},S),{},{ticks:n}),b,k),T=vte(d,f),R=bte(d,f),P=Wi(S),_=Tu(r),E={};typeof a=="object"&&(E=a);var G=_r(_r({},P),{},{fill:"none"},E),X=M.map(Y=>_r({entry:Y},yte(Y,p,m,h,v,d,x,f,g))),re=X.map(Y=>{var{entry:I,line:ee}=Y;return y.createElement(ri,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&y.createElement("line",vc({},G,ee,{className:kn("recharts-cartesian-axis-tick-line",dc(a,"className"))})))}),he=X.map((Y,I)=>{var{entry:ee,tick:w}=Y,$=_r(_r(_r(_r({textAnchor:T,verticalAnchor:R},P),{},{stroke:"none",fill:i},_),w),{},{index:I,payload:ee,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return y.createElement(ri,vc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},D1(C,ee,I)),r&&y.createElement(xte,{option:r,tickProps:$,value:"".concat(typeof o=="function"?o(ee.value,I):ee.value).concat(s||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},he.length>0&&y.createElement(yo,{zIndex:ha.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},he)),re.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},re))}),kte=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=dte(e,ute),[d,f]=y.useState(""),[p,m]=y.useState(""),h=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return cte({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var k=window.getComputedStyle(b),S=k.fontSize,C=k.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:y.createElement(yo,{zIndex:e.zIndex},y.createElement(ri,{className:kn("recharts-cartesian-axis",i)},y.createElement(gte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Wi(e)}),y.createElement(wte,{ref:v,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(hZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(jZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),xS=y.forwardRef((e,t)=>{var n=Yr(e,rs);return y.createElement(kte,vc({},n,{ref:t}))});xS.displayName="CartesianAxis";var Ste=["x1","y1","x2","y2","key"],Nte=["offset"],jte=["xAxisId","yAxisId"],Cte=["xAxisId","yAxisId"];function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){Mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function Ng(e,t){if(e==null)return{};var n,r,a=Ete(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ete(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return y.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function E_(e){var{option:t,lineItemProps:n}=e,r;if(y.isValidElement(t))r=y.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Ng(n,Ste),f=(a=Wi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Ng(f,Nte);r=y.createElement("line",Gl({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Ote(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ng(e,jte),l=a.map((c,d)=>{var f=Aa(Aa({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return y.createElement(E_,{key:"line-".concat(d),option:r,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Dte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ng(e,Cte),l=a.map((c,d)=>{var f=Aa(Aa({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return y.createElement(E_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ite(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var v=p%t.length;return y.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var v=p%n.length;return y.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fte=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return t3(bS(Aa(Aa(Aa({},rs),n),{},{ticks:n3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Lte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return t3(bS(Aa(Aa(Aa({},rs),n),{},{ticks:n3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Rte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ha.grid};function Uf(e){var t=Z1(),n=J1(),r=m3(),a=Aa(Aa({},Yr(e,Rte)),{},{x:St(e.x)?e.x:r.left,y:St(e.y)?e.y:r.top,width:St(e.width)?e.width:r.width,height:St(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=oi(),v=xt(R=>mM(R,"xAxis",i,h)),x=xt(R=>mM(R,"yAxis",o,h));if(!Lo(c)||!Lo(d)||!St(s)||!St(l))return null;var g=a.verticalCoordinatesGenerator||Fte,b=a.horizontalCoordinatesGenerator||Lte,{horizontalPoints:k,verticalPoints:S}=a;if((!k||!k.length)&&typeof b=="function"){var C=p&&p.length,j=b({yAxis:x?Aa(Aa({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Xh(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(k=j)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,T=g({xAxis:v?Aa(Aa({},v),{},{ticks:M?m:v.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);Xh(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return y.createElement(yo,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Tte,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(Ite,Gl({},a,{horizontalPoints:k})),y.createElement(_te,Gl({},a,{verticalPoints:S})),y.createElement(Ote,Gl({},a,{offset:r,horizontalPoints:k,xAxis:v,yAxis:x})),y.createElement(Dte,Gl({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:x}))))}Uf.displayName="CartesianGrid";var $te={},T_=ii({name:"errorBars",initialState:$te,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:dge,replaceErrorBar:fge,removeErrorBar:pge}=T_.actions,Bte=T_.reducer,zte=["children"];function Ute(e,t){if(e==null)return{};var n,r,a=Vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hte=y.createContext(Wte);function qte(e){var{children:t}=e,n=Ute(e,zte);return y.createElement(Hte.Provider,{value:n},t)}function O_(e,t){var n,r,a=xt(c=>ws(c,e)),i=xt(c=>ks(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ta.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:na.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Kte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=yS(),{needClipX:i,needClipY:o,needClip:s}=O_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var D_=(e,t,n,r)=>fI(e,"xAxis",t,r),I_=(e,t,n,r)=>dI(e,"xAxis",t,r),__=(e,t,n,r)=>fI(e,"yAxis",n,r),F_=(e,t,n,r)=>dI(e,"yAxis",n,r),Yte=de([Tn,D_,__,I_,F_],(e,t,n,r,a)=>hl(e,"xAxis")?dx(t,r,!1):dx(n,a,!1)),Gte=(e,t,n,r,a)=>a;function Xte(e){return e.type==="line"}var Qte=de([H4,Gte],(e,t)=>e.filter(Xte).find(n=>n.id===t)),Zte=de([Tn,D_,__,I_,F_,Qte,Yte,Mk],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return _ne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function Jte(e){var t=Tu(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Op=y;Op.useSyncExternalStore;Op.useRef;Op.useEffect;Op.useMemo;Op.useDebugValue;function ene(e){e()}function tne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ene(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var pA={notify(){},get:()=>[]};function nne(e,t){let n,r=pA,a=0,i=!1;function o(v){d();const x=r.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=tne())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=pA)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var rne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ane=rne(),ine=()=>typeof navigator<"u"&&navigator.product==="ReactNative",one=ine(),sne=()=>ane||one?y.useLayoutEffect:y.useEffect,lne=sne();function mA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cne(e,t){if(mA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!mA(e[n[a]],t[n[a]]))return!1;return!0}var hA=Symbol.for("react-redux-context"),gA=typeof globalThis<"u"?globalThis:{};function une(){if(!y.createContext)return{};const e=gA[hA]??(gA[hA]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var dne=une();function fne(e){const{children:t,context:n,serverState:r,store:a}=e,i=y.useMemo(()=>{const l=nne(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=y.useMemo(()=>a.getState(),[a]);lne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||dne;return y.createElement(s.Provider,{value:i},t)}var pne=fne,mne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function wS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(mne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!cne(e[r],t[r]))return!1}else if(!hne(e[r],t[r]))return!1;return!0}var gne=["id"],yne=["type","layout","connectNulls","needClip","shape"],vne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e,t){if(e==null)return{};var n,r,a=kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:j0(n,t),payload:e}]},Nne=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:j0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return y.createElement(k_,{tooltipEntrySettings:f})}),L_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function jne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Cne=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return L_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...jne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Mne(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=kS(r,gne),c=Wi(l);return y.createElement(kee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Ane(e){var{showLabels:t,children:n,points:r}=e,a=y.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ao(Ao({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(OZ,{value:t?a:void 0},n)}function vA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=kS(i,yne),p=Ao(Ao({},za(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(w_,Vf({shapeType:"curve",option:d},p,{pathRef:n})),y.createElement(Mne,{points:r,clipPathId:t,props:i}))}function Pne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ene(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:x}=n,g=a.current,b=L0(o,"recharts-line-"),k=y.useRef(b),[S,C]=y.useState(!1),j=!S,M=y.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),T=y.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),R=Pne(r.current),P=y.useRef(0);k.current!==b&&(P.current=i.current,k.current=b);var _=P.current;return y.createElement(Ane,{points:o,showLabels:j},n.children,y.createElement(F0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:T,key:b},E=>{var G=Pa(_,R+_,E),X=Math.min(G,R),re;if(l)if(s){var he="".concat(s).split(/[,\s]+/gim).map(ee=>parseFloat(ee));re=Cne(X,R,he)}else re=L_(R,X);else re=s==null?void 0:String(s);if(E>0&&R>0&&(a.current=o,i.current=Math.max(i.current,X)),g){var Y=g.length/o.length,I=E===1?o:o.map((ee,w)=>{var $=Math.floor(w*Y);if(g[$]){var A=g[$];return Ao(Ao({},ee),{},{x:Pa(A.x,ee.x,E),y:Pa(A.y,ee.y,E)})}return p?Ao(Ao({},ee),{},{x:Pa(m*2,ee.x,E),y:Pa(h/2,ee.y,E)}):Ao(Ao({},ee),{},{x:ee.x,y:ee.y})});return a.current=I,y.createElement(vA,{props:n,points:I,clipPathId:t,pathRef:r,strokeDasharray:re})}return y.createElement(vA,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:re})}),y.createElement(i_,{label:n.label}))}function Tne(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(Ene,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var One=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Xn(e.payload,t)}};class Dne extends y.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=kn("recharts-line",a),v=f,{r:x,strokeWidth:g}=Jte(n),b=b_(n),k=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return y.createElement(yo,{zIndex:m},y.createElement(ri,{className:h},p&&y.createElement("defs",null,y.createElement(Kte,{clipPathId:v,xAxisId:i,yAxisId:o}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:l-k/2,y:s-k/2,width:c+k,height:d+k}))),y.createElement(qte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:One,errorBarOffset:0},y.createElement(Tne,{props:this.props,clipPathId:v}))),y.createElement(Uee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var R_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ha.line,type:"linear"};function Ine(e){var t=Yr(e,R_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,x=kS(t,vne),{needClip:g}=O_(m,h),b=yS(),k=lp(),S=oi(),C=xt(P=>Zte(P,m,h,S,v));if(k!=="horizontal"&&k!=="vertical"||C==null||b==null)return null;var{height:j,width:M,x:T,y:R}=b;return y.createElement(Dne,Vf({},x,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:k,height:j,width:M,left:T,top:R,needClip:g}))}function _ne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=Xn(c,o);if(t==="horizontal"){var p=Cj({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=Kr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=Kr(f)?null:n.scale(f),v=Cj({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:c}}).filter(Boolean)}function Fne(e){var t=Yr(e,R_),n=oi();return y.createElement(S_,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(MJ,{legendPayload:Sne(t)}),y.createElement(Nne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),y.createElement(zJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(Ine,Vf({},t,{id:r}))))}var Go=y.memo(Fne,wS);Go.displayName="Line";var Lne=["domain","range"],Rne=["domain","range"];function bA(e,t){if(e==null)return{};var n,r,a=$ne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function $_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=bA(e,Lne),{domain:i,range:o}=t,s=bA(t,Rne);return!xA(n,i)||!xA(r,o)?!1:wS(a,s)}var Bne=["dangerouslySetInnerHTML","ticks","scale"],zne=["id","scale"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function wA(e,t){if(e==null)return{};var n,r,a=Une(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Une(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vne(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Aee({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}var Wne=e=>{var{xAxisId:t,className:n}=e,r=xt(o3),a=oi(),i="xAxis",o=xt(g=>uI(g,i,t,a)),s=xt(g=>sG(g,t)),l=xt(g=>pG(g,t)),c=xt(g=>U4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=wA(e,Bne),{id:h,scale:v}=c,x=wA(c,zne);return y.createElement(xS,Ux({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:kn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Hne={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:rs.axisLine,height:ta.height,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:rs.tickLine,tickSize:rs.tickSize,type:ta.type,xAxisId:0},qne=e=>{var t=Yr(e,Hne);return y.createElement(y.Fragment,null,y.createElement(Vne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Wne,t))},Wf=y.memo(qne,$_);Wf.displayName="XAxis";var Kne=["dangerouslySetInnerHTML","ticks","scale"],Yne=["id","scale"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}function kA(e,t){if(e==null)return{};var n,r,a=Gne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xne(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Eee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Oee(n.current)),n.current=null)},[t]),null}var Qne=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=y.useRef(null),o=y.useRef(null),s=xt(o3),l=oi(),c=Wn(),d="yAxis",f=xt(j=>gG(j,t)),p=xt(j=>hG(j,t)),m=xt(j=>uI(j,d,t,l)),h=xt(j=>V4(j,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!f||pS(a)||y.isValidElement(a)||h==null)){var j=i.current;if(j){var M=j.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c(Dee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:x,scale:g}=e,b=kA(e,Kne),{id:k,scale:S}=h,C=kA(h,Yne);return y.createElement(xS,Vx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:kn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},Zne={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,angle:na.angle,axisLine:rs.axisLine,hide:!1,includeHidden:na.includeHidden,interval:na.interval,minTickGap:na.minTickGap,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,tickLine:rs.tickLine,tickSize:rs.tickSize,type:na.type,width:na.width,yAxisId:0},Jne=e=>{var t=Yr(e,Zne);return y.createElement(y.Fragment,null,y.createElement(Xne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Qne,t))},Hf=y.memo(Jne,$_);Hf.displayName="YAxis";var ere=(e,t)=>t,SS=de([ere,Tn,$4,Xr,AI,Ss,OX,oa],$X),NS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},B_=Hi("mouseClick"),z_=op();z_.startListening({actionCreator:B_,effect:(e,t)=>{var n=e.payload,r=SS(t.getState(),NS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(EG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Wx=Hi("mouseMove"),U_=op(),Cm=null;U_.startListening({actionCreator:Wx,effect:(e,t)=>{var n=e.payload;Cm!==null&&cancelAnimationFrame(Cm);var r=NS(n);Cm=requestAnimationFrame(()=>{var a=t.getState(),i=rS(a,a.tooltip.settings.shared);if(i==="axis"){var o=SS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(xI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(bI())}Cm=null})}});function tre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var SA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V_=ii({name:"rootProps",initialState:SA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:SA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),nre=V_.reducer,{updateOptions:rre}=V_.actions,W_=ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:are}=W_.actions,ire=W_.reducer,H_=Hi("keyDown"),q_=Hi("focus"),jS=op();jS.startListening({actionCreator:H_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=aS(a,nd(n),vp(n),wp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ss(n);if(i==="Enter"){var c=vg(n,"axis","hover",String(a.index));t.dispatch(Fx({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=xG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=vg(n,"axis","hover",String(m));t.dispatch(Fx({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});jS.startListening({actionCreator:q_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=vg(n,"axis","hover",String(i));t.dispatch(Fx({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ti=Hi("externalEvent"),K_=op(),kv=new Map;K_.startListening({actionCreator:Ti,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=kv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:gX(s),activeDataKey:OI(s),activeIndex:$u(s),activeLabel:TI(s),activeTooltipIndex:$u(s),isTooltipActive:yX(s)};n(l,r)}finally{kv.delete(a)}});kv.set(a,o)}}});var ore=de([ed],e=>e.tooltipItemPayloads),sre=de([ore,xp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),Y_=Hi("touchMove"),G_=op();G_.startListening({actionCreator:Y_,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=rS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=SS(r,NS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(xI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(a3),f=(s=c.getAttribute(i3))!==null&&s!==void 0?s:void 0,p=td(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=sre(r,d,f);t.dispatch(vI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var lre=CD({brush:Vee,cartesianAxis:Iee,chartData:hQ,errorBars:Bte,graphicalItems:$J,layout:QV,legend:Z9,options:uQ,polarAxis:VZ,polarOptions:ire,referenceElements:Xee,rootProps:nre,tooltip:TG,zIndex:JX}),cre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return kV({reducer:lre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([z_.middleware,U_.middleware,jS.middleware,K_.middleware,G_.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(zD({type:"raf"}))},devTools:{serialize:{replacer:tre},name:"recharts-".concat(t)}})};function X_(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=oi(),i=y.useRef(null);if(a)return n;i.current==null&&(i.current=cre(t,r));var o=U1;return y.createElement(pne,{context:o,store:i.current},n)}function ure(e){var{layout:t,margin:n}=e,r=Wn(),a=oi();return y.useEffect(()=>{a||(r(YV(t)),r(KV(n)))},[r,a,t,n]),null}var Q_=y.memo(ure,wS);function Z_(e){var t=Wn();return y.useEffect(()=>{t(rre(e))},[t,e]),null}function NA(e){var{zIndex:t,isPanorama:n}=e,r=y.useRef(null),a=Wn();return y.useLayoutEffect(()=>(r.current&&a(QX({zIndex:t,element:r.current,isPanorama:n})),()=>{a(ZX({zIndex:t,isPanorama:n}))}),[a,t,n]),y.createElement("g",{tabIndex:-1,ref:r})}function jA(e){var{children:t,isPanorama:n}=e,r=xt(zX);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return y.createElement(y.Fragment,null,a.map(o=>y.createElement(NA,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>y.createElement(NA,{key:o,zIndex:o,isPanorama:n})))}var dre=["children"];function fre(e,t){if(e==null)return{};var n,r,a=pre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}var mre={width:"100%",height:"100%",display:"block"},hre=y.forwardRef((e,t)=>{var n=Z1(),r=J1(),a=C3();if(!Lo(n)||!Lo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),y.createElement(C1,jg({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:mre,ref:t}),i)}),gre=e=>{var{children:t}=e,n=xt(P0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return y.createElement(C1,{width:r,height:a,x:o,y:i},t)},CA=y.forwardRef((e,t)=>{var{children:n}=e,r=fre(e,dre),a=oi();return a?y.createElement(gre,null,y.createElement(jA,{isPanorama:!0},n)):y.createElement(hre,jg({ref:t},r),y.createElement(jA,{isPanorama:!1},n))});function yre(){var e=Wn(),[t,n]=y.useState(null),r=xt(f9);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;$r(i)&&i!==r&&e(XV(i))}},[t,e,r]),n}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return(t=xre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}var kre=()=>(NQ(),null);function Cg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Sre=y.forwardRef((e,t)=>{var n,r,a=y.useRef(null),[i,o]=y.useState({containerWidth:Cg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Cg((r=e.style)===null||r===void 0?void 0:r.height)}),s=y.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:x}=h[0].contentRect;s(v,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return y.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),y.createElement(y.Fragment,null,y.createElement(T0,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",bc({ref:l},e)))}),Nre=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=y.useState({containerWidth:Cg(n),containerHeight:Cg(r)}),o=y.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return y.createElement(y.Fragment,null,y.createElement(T0,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",bc({ref:s},e)))}),jre=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(T0,{width:n,height:r}),y.createElement("div",bc({ref:t},e)))}),Cre=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return us(n)||us(r)?y.createElement(Nre,bc({},e,{ref:t})):y.createElement(jre,bc({},e,{ref:t}))});function Mre(e){return e===!0?Sre:Cre}var Are=y.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:x,width:g,responsive:b,dispatchTouchEvents:k=!0}=e,S=y.useRef(null),C=Wn(),[j,M]=y.useState(null),[T,R]=y.useState(null),P=yre(),_=Q1(),E=(_==null?void 0:_.width)>0?_.width:g,G=(_==null?void 0:_.height)>0?_.height:a,X=y.useCallback(D=>{P(D),typeof t=="function"&&t(D),M(D),R(D),D!=null&&(S.current=D)},[P,t,M,R]),re=y.useCallback(D=>{C(B_(D)),C(Ti({handler:i,reactEvent:D}))},[C,i]),he=y.useCallback(D=>{C(Wx(D)),C(Ti({handler:c,reactEvent:D}))},[C,c]),Y=y.useCallback(D=>{C(bI()),C(Ti({handler:d,reactEvent:D}))},[C,d]),I=y.useCallback(D=>{C(Wx(D)),C(Ti({handler:f,reactEvent:D}))},[C,f]),ee=y.useCallback(()=>{C(q_())},[C]),w=y.useCallback(D=>{C(H_(D.key))},[C]),$=y.useCallback(D=>{C(Ti({handler:o,reactEvent:D}))},[C,o]),A=y.useCallback(D=>{C(Ti({handler:s,reactEvent:D}))},[C,s]),N=y.useCallback(D=>{C(Ti({handler:l,reactEvent:D}))},[C,l]),B=y.useCallback(D=>{C(Ti({handler:p,reactEvent:D}))},[C,p]),K=y.useCallback(D=>{C(Ti({handler:v,reactEvent:D}))},[C,v]),U=y.useCallback(D=>{k&&C(Y_(D)),C(Ti({handler:h,reactEvent:D}))},[C,k,h]),W=y.useCallback(D=>{C(Ti({handler:m,reactEvent:D}))},[C,m]),Q=Mre(b);return y.createElement($I.Provider,{value:j},y.createElement(jO.Provider,{value:T},y.createElement(Q,{width:E??(x==null?void 0:x.width),height:G??(x==null?void 0:x.height),className:kn("recharts-wrapper",r),style:vre({position:"relative",cursor:"default",width:E,height:G},x),onClick:re,onContextMenu:$,onDoubleClick:A,onFocus:ee,onKeyDown:w,onMouseDown:N,onMouseEnter:he,onMouseLeave:Y,onMouseMove:I,onMouseUp:B,onTouchEnd:W,onTouchMove:U,onTouchStart:K,ref:X},y.createElement(kre,null),n)))}),Pre=["width","height","responsive","children","className","style","compact","title","desc"];function Ere(e,t){if(e==null)return{};var n,r,a=Tre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J_=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Ere(e,Pre),p=Wi(f);return l?y.createElement(y.Fragment,null,y.createElement(T0,{width:n,height:r}),y.createElement(CA,{otherAttributes:p,title:c,desc:d},i)):y.createElement(Are,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(CA,{otherAttributes:p,title:c,desc:d,ref:t},y.createElement(Zee,null,i)))});function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}var Ore={top:5,right:5,bottom:5,left:5},Dre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ore,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ire=y.forwardRef(function(e,t){var n,r=Yr(e.categoricalChartProps,Dre),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return y.createElement(X_,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},y.createElement(C_,{chartData:l.data}),y.createElement(Q_,{layout:r.layout,margin:r.margin}),y.createElement(Z_,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),y.createElement(J_,Hx({},r,{ref:t})))}),_re=["axis"],Mg=y.forwardRef((e,t)=>y.createElement(Ire,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_re,tooltipPayloadSearcher:zI,categoricalChartProps:e,ref:t}));function Fre(e){var t=Wn();return y.useEffect(()=>{t(are(e))},[t,e]),null}var Lre=["layout"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function Rre(e,t){if(e==null)return{};var n,r,a=$re(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $re(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bre={top:5,right:5,bottom:5,left:5},eF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zre=y.forwardRef(function(e,t){var n,r=Yr(e.categoricalChartProps,eF),{layout:a}=r,i=Rre(r,Lre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(X_,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},y.createElement(C_,{chartData:r.data}),y.createElement(Q_,{layout:a,margin:r.margin}),y.createElement(Z_,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),y.createElement(Fre,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),y.createElement(J_,qx({},i,{ref:t})))});function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){Ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ure(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre=["item"],qre=PA(PA({},eF),{},{layout:"centric",startAngle:0,endAngle:360}),Kx=y.forwardRef((e,t)=>{var n=Yr(e,qre);return y.createElement(zre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:zI,categoricalChartProps:n,ref:t})});const Mn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),EA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Qd=new Map,wu=new Map,Kre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Qd.has(r)||wu.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Qd.set(r,o),o})();wu.set(r,a);try{await a}finally{wu.delete(r)}}))},Yre=e=>{const[t,n]=y.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Qd.get(e)||EA:null});return y.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Qd.get(e);if(a){n(a);return}let i=!0;const o=wu.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Qd.set(e,l),l})();return wu.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(EA)}}).finally(()=>{wu.delete(e)}),()=>{i=!1}},[e]),t},Gre=(e,t,n,r)=>{const[a,i]=y.useState("bottom"),[o,s]=y.useState(0);return y.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let T=(M==null?void 0:M.parentElement)||null;for(;T;){const R=window.getComputedStyle(T),P=`${R.overflow}${R.overflowY}${R.overflowX}`;if(/(auto|scroll|hidden)/.test(P))return T;T=T.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,x=f.top-h.top,g=v<p.height+8&&x>v?"top":"bottom";i(g);const b=6,k=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,j=Math.min(Math.max(k,S),C);s(j-k)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},Xre=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},tF=(e,t,n,r,a=8)=>{const[i,o]=y.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return y.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,k=Math.min(Math.max(x,g),b);o({position:"fixed",top:v,left:k,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},Qre=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Hl(a||"Unknown"),o=r.length>1,[s,l]=y.useState(!1),c=y.useRef(null),d=y.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Gre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>ec(b||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((b,k)=>`${b} ${k*360/h.length}deg ${(k+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${x} ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const k=Hl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[k?u.jsx("img",{src:k,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},Zre=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Qre,{profession:e,professionList:t,className:n}),Sv=({count:e,classCounts:t,label:n,className:r})=>{const a=Xre(t||{}),i=e>0,[o,s]=y.useState(!1),l=y.useRef(null),c=y.useRef(null),d=tF(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Ku.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=Hl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[v?u.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},kr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a=""})=>{const i=Yre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[i?u.jsx("img",{src:i,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${a}`,children:e})]})},TA=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=y.useState(!1),s=y.useRef(null),l=y.useRef(null),c=tF(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Ku.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${i?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(kr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Jre=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:k,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:j,setSelectedSkillId:M,skillBarData:T,selectedSkillName:R,selectedSkillIcon:P,skillUsageReady:_,skillUsageAvailable:E,isSkillUsagePerSecond:G,skillChartData:X,skillChartMaxY:re,playerTotalsForSkill:he,hoveredSkillPlayer:Y,setHoveredSkillPlayer:I,getLineStrokeColor:ee,getLineDashForPlayer:w,formatSkillUsageValue:$,renderProfessionIcon:A})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(m1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Mn,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[k.logRecords.length," ",k.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(N=>{const B=d.get(N);return B?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:B.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[B.logs," ",B.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(B.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(iO,{className:"w-3 h-3"})})]},B.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:v,onChange:N=>x(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(N=>{const B=p===N.profession,K=N.players.map(W=>W.key),U=K.length>0&&K.every(W=>s.includes(W));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(B){m(null);return}m(N.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${B?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A(N.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[N.players.length,"p"]}),B?u.jsx(Wl,{className:"w-3.5 h-3.5"}):u.jsx(sz,{className:"w-3.5 h-3.5"})]})]})}),B&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[N.players.length," ",N.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(W=>{if(U)return W.filter(D=>!K.includes(D));const Q=new Set(W);return K.forEach(D=>Q.add(D)),Array.from(Q)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:U?"Clear All":"Select All"})]}),N.players.map(W=>{const Q=s.includes(W.key);return u.jsx("button",{type:"button",onClick:()=>h(W.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Q?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:W.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[W.account,"  ",W.profession,"  ",W.logs," ",W.logs===1?"log":"logs"]})]}),Q&&u.jsx(nO,{className:"w-4 h-4 text-cyan-300"})]})},W.key)})]})]},N.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:N=>C(N.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const N=T.reduce((B,K)=>Math.max(B,K.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((B,K)=>{const U=Math.min(100,B.total/N*100),W=j===B.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(B.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${W?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${K+1}`}),u.jsx(kr,{name:B.name,iconUrl:B.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:$(B.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${U}%`,backgroundColor:B.color}})})]},B.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:_?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?u.jsx(kr,{name:R,iconUrl:P,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),u.jsx(pc,{width:"100%",height:250,children:u.jsxs(Mg,{data:X,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:N=>{const B=X[N],K=String((B==null?void 0:B.shortLabel)??N);return K.length>20?`${K.slice(0,20)}`:K}}),u.jsx(Hf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,re)],allowDecimals:!1}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:N,payload:B,label:K})=>{var U;if(!N||!B||B.length===0)return null;const W=[...B].sort((J,fe)=>(fe.value||0)-(J.value||0)),Q=W[0],D=((U=Q==null?void 0:Q.payload)==null?void 0:U.fullLabel)||K;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:D}),u.jsx("div",{className:"space-y-1",children:W.map(J=>{const fe=String(J.name||""),F=d.get(fe),te=(F==null?void 0:F.displayName)||fe||"Player",z=$(Number(J.value||0)),L=J.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:L},children:te}),u.jsx("span",{className:"text-gray-200 font-mono",children:z})]},`${te}-${z}`)})})]})}}),s.map(N=>{const B=Y.includes(N),K=Y.length>0,U=ee(N,B,K),W=w(N),Q=Y.length>0&&!B;return u.jsx(Go,{dataKey:N,stroke:U,strokeWidth:B?4:3,strokeDasharray:W,opacity:Q?.6:1,dot:!1,isAnimationActive:!1},N)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((N,B)=>(he.get(B)||0)-(he.get(N)||0)).map(N=>{const B=d.get(N),K=he.get(N)??0,U=Y.includes(N),W=Y.length>0,Q=ee(N,U,W);return u.jsxs("button",{type:"button",onClick:()=>{I(D=>D.includes(N)?D.filter(J=>J!==N):[...D,N])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${U?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":U,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Q,strokeWidth:"2",strokeDasharray:w(N),strokeLinecap:"round"})}),A(B==null?void 0:B.profession,B==null?void 0:B.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(B==null?void 0:B.displayName)||N}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(B==null?void 0:B.logs)??0," ",((B==null?void 0:B.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:$(K)})]},N)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:E?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),eae=({containerRef:e,className:t=""})=>{const n=y.useRef(null),[r,a]=y.useState(0),[i,o]=y.useState(0),s=y.useRef(!1),l=y.useRef(0),c=y.useRef(0);y.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:k,clientWidth:S,scrollLeft:C}=p,j=k>S,M=n.current,T=(M==null?void 0:M.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!j){a(T),o(0);return}const R=S/k,P=Math.max(20,Math.floor(T*R)),_=k-S,E=Math.max(0,T-P),G=_>0?Math.floor(C/_*E):0;a(P),o(G)};h();const v=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),y.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,x=e.current;if(!v||!x)return;const g=v.getBoundingClientRect(),b=h.clientX-l.current,k=Math.max(0,g.width-r),S=Math.min(k,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,j=k>0?S/k*C:0;x.scrollLeft=j},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),x=p.clientX-v.left,g=Math.max(0,v.width-r),b=Math.min(g,Math.max(0,x-r/2)),k=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*k:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},po=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=y.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(eae,{containerRef:c})]})},mo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=y.useState(""),[s,l]=y.useState(!1),[c,d]=y.useState(0),f=y.useRef(null),p=y.useRef(null),m=y.useRef(new Map);y.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=y.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),v=y.useMemo(()=>{const g=new Map;return h.forEach((b,k)=>{g.set(`${b.type}-${b.id}`,k)}),g},[h]),x=y.useMemo(()=>{const g=h.filter(k=>k.type==="column"),b=h.filter(k=>k.type==="player");return{columns:g,players:b}},[h]);return y.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),y.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,k=m.current.get(b);k&&p.current&&k.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:k=>{m.current.set(`${g.type}-${g.id}`,k)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const k=v.get(`${g.type}-${g.id}`);typeof k=="number"&&d(k)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:k=>{m.current.set(`${g.type}-${g.id}`,k)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const k=v.get(`${g.type}-${g.id}`);typeof k=="number"&&d(k)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},dr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=y.useState(!1),c=y.useRef(null),d=new Set(t);return y.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},tae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:k,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:j,apmView:M,setApmView:T,formatApmValue:R,formatCastRateValue:P,formatCastCountValue:_,renderProfessionIcon:E})=>{var G;const[X,re]=y.useState({key:"apm",dir:"desc"}),he=e==="apm-stats",[Y,I]=y.useState({columnId:"",dir:"desc"}),[ee,w]=y.useState([]),[$,A]=y.useState([]),[N,B]=y.useState({}),K=he?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,U=Q=>{re(D=>({key:Q,dir:D.key===Q&&D.dir==="desc"?"asc":"desc"}))},W=y.useMemo(()=>{const Q=[...(S==null?void 0:S.playerRows)||[]];return Q.sort((D,J)=>{const fe=X.key==="apm"?Number(M==="perSecond"?D.aps:D.apm):Number(M==="perSecond"?D.apsNoAuto:D.apmNoAuto),F=X.key==="apm"?Number(M==="perSecond"?J.aps:J.apm):Number(M==="perSecond"?J.apsNoAuto:J.apmNoAuto);return(X.dir==="desc"?F-fe:fe-F)||String(D.displayName||"").localeCompare(String(J.displayName||""))}),Q},[S,X,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:Q=>k(Q.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:K,children:d.map(Q=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const D=f!==Q.profession;p(Q.profession),h(D?Q.profession:m===Q.profession?null:Q.profession),D&&(x(g),w([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Q.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E(Q.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[Q.players.length,"p"]})})]})}),!he&&m===Q.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:N[Q.profession]||"",onChange:D=>{const J=D.target.value;B(fe=>({...fe,[Q.profession]:J}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(Q.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Q.profession&&j?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Q.skills||[]).filter(D=>{const J=(N[Q.profession]||"").trim().toLowerCase();return J?String(D.name||"").toLowerCase().includes(J):!0}).map(D=>u.jsx("button",{type:"button",onClick:()=>{p(Q.profession),x(D.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Q.profession&&v===D.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:D.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D.icon?u.jsx("img",{src:D.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:D.name})]})},D.id)),(Q.skills||[]).filter(D=>{const J=(N[Q.profession]||"").trim().toLowerCase();return J?String(D.name||"").toLowerCase().includes(J):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Q.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[he&&(()=>{const Q=S.skills||[],D=(S.playerRows||[]).map(te=>({id:te.key,label:te.displayName||te.account||te.key,icon:E(te.profession,te.professionList,"w-3 h-3")})),J=Q.map(te=>({id:te.id,label:te.name,icon:te.icon?u.jsx("img",{src:te.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),fe=[...Q.map(te=>({id:te.id,label:te.name,type:"column",icon:te.icon?u.jsx("img",{src:te.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(te=>({id:te.key,label:te.displayName||te.account||te.key,type:"player",icon:E(te.profession,te.professionList,"w-3 h-3")}))],F=new Set([...ee.map(te=>`column:${te}`),...$.map(te=>`player:${te}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:fe,selectedIds:F,onSelect:te=>{te.type==="column"?w(z=>z.includes(te.id)?z.filter(L=>L!==te.id):[...z,te.id]):A(z=>z.includes(te.id)?z.filter(L=>L!==te.id):[...z,te.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:J,selectedIds:ee,onToggle:te=>{w(z=>z.includes(te)?z.filter(L=>L!==te):[...z,te])},onClear:()=>w([]),buttonLabel:"Columns",buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:D,selectedIds:$,onToggle:te=>{A(z=>z.includes(te)?z.filter(L=>L!==te):[...z,te])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:M,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(ee.length>0||$.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{w([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),ee.map(te=>{var z;const L=((z=Q.find(oe=>oe.id===te))==null?void 0:z.name)||te;return u.jsxs("button",{type:"button",onClick:()=>w(oe=>oe.filter(ye=>ye!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},te)}),$.map(te=>{var z;const L=((z=D.find(oe=>oe.id===te))==null?void 0:z.label)||te;return u.jsxs("button",{type:"button",onClick:()=>A(oe=>oe.filter(ye=>ye!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},te)})]})]})})(),he?(()=>{var Q,D;const J=S.skills||[],fe=ee.length>0?J.filter(L=>ee.includes(L.id)):J,F=$.length>0?(S.playerRows||[]).filter(L=>$.includes(L.key)):S.playerRows||[];if(J.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const te=((Q=fe.find(L=>L.id===Y.columnId))==null?void 0:Q.id)||((D=fe[0])==null?void 0:D.id)||"",z=[...F].map(L=>{const oe={},ye={};return fe.forEach(Je=>{var le;const Ke=Number(((le=Je.playerCounts)==null?void 0:le.get(L.key))||0),Ae=M==="perSecond"?Ke/Math.max(1,L.totalActiveSeconds||0):Ke;ye[Je.id]=Ae,oe[Je.id]=M==="perSecond"?P(Ae):_(Ae)}),{row:L,values:oe,numericValues:ye}}).sort((L,oe)=>{const ye=L.numericValues[te]??0,Je=oe.numericValues[te]??0;return(Y.dir==="desc"?Je-ye:ye-Je)||String(L.row.displayName||"").localeCompare(String(oe.row.displayName||""))});return u.jsx(po,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:te,sortDirection:Y.dir,onSortColumn:L=>{I(oe=>({columnId:L,dir:oe.columnId===L&&oe.dir==="desc"?"asc":"desc"}))},columns:fe.map(L=>({id:L.id,label:u.jsx(kr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:z.map((L,oe)=>({id:`${S.profession}-${L.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),E(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.displayName})]}),values:L.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),j||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(kr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:j||!C?`${((G=S.playerRows)==null?void 0:G.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),j||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>U("apm"),className:`text-right transition-colors ${X.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",X.key==="apm"?X.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>U("apmNoAuto"),className:`text-right transition-colors ${X.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",X.key==="apmNoAuto"?X.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),j||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:W.map((Q,D)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${D+1}`}),E(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:Q.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?Q.aps:Q.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?Q.apsNoAuto:Q.apmNoAuto)})]},`${S.profession}-all-${Q.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((Q,D)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${D+1}`}),E(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:Q.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(Q.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(M==="perSecond"?Q.aps||0:Q.apm||0))})]},`${S.profession}-${C.id}-${Q.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:k,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:j,setActiveClassSkillId:M,skillSearch:T,setSkillSearch:R,activePlayerBreakdown:P,activePlayerSkill:_,activeClassBreakdown:E,activeClassSkill:G,renderProfessionIcon:X})=>{const re=d.length,he=((P==null?void 0:P.skills)||[]).reduce((z,L)=>z+(L.damage||0),0),Y=(E==null?void 0:E.players)||[],[I,ee]=y.useState({key:"down",dir:"desc"}),w=e==="player-breakdown",[$,A]=y.useState([]),[N,B]=y.useState([]),[K,U]=y.useState({columnId:"",dir:"desc"}),[W,Q]=y.useState({}),[D,J]=y.useState({}),fe=w?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,F=y.useMemo(()=>{if(!E||!G)return Y;const z=[...Y];return z.sort((L,oe)=>{var ye,Je;const le=(ye=L.skillMap)==null?void 0:ye[G.id],Ke=(Je=oe.skillMap)==null?void 0:Je[G.id],Ae=Number((le==null?void 0:le.downContribution)||0),ct=Number((Ke==null?void 0:Ke.downContribution)||0),en=Number((le==null?void 0:le.damage)||0),Pn=Number((Ke==null?void 0:Ke.damage)||0),Br=L.totalFightMs>0?en/(L.totalFightMs/1e3):0,ce=oe.totalFightMs>0?Pn/(oe.totalFightMs/1e3):0;let Te=0;return I.key==="down"&&(Te=Ae-ct),I.key==="damage"&&(Te=en-Pn),I.key==="dps"&&(Te=Br-ce),I.dir==="asc"?Te:-Te}),z},[E,Y,G,I]),te=z=>{ee(L=>L.key!==z?{key:z,dir:"desc"}:{key:z,dir:L.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[re," ",re===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:w?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!w&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(z=>{const L=l===z.id;return u.jsx("button",{type:"button",onClick:()=>c(z.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${L?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:z.label},z.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:T,onChange:z=>R(z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:fe,children:(w?"class":l)==="player"?d.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=p!==z.key;L&&(g(null),A([]),B([])),m(z.key),v(L?z.key:h===z.key?null:z.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===z.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:z.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(z.profession,z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:z.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[z.skills.length," skills"]})})]})}),!w&&h===z.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:W[z.key]||"",onChange:L=>{const oe=L.target.value;Q(ye=>({...ye,[z.key]:oe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(L=>{const oe=(W[z.key]||"").trim().toLowerCase();return oe?String(L.name||"").toLowerCase().includes(oe):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{m(z.key),g(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===z.key&&x===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),z.skills.filter(L=>{const oe=(W[z.key]||"").trim().toLowerCase();return oe?String(L.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.key)):f.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=b!==z.profession;L&&(M(null),A([]),B([])),k(z.profession),C(L?z.profession:S===z.profession?null:z.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===z.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(z.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:z.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[z.players.length,"p"]})})]})}),!w&&S===z.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:D[z.profession]||"",onChange:L=>{const oe=L.target.value;J(ye=>({...ye,[z.profession]:oe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(L=>{const oe=(D[z.profession]||"").trim().toLowerCase();return oe?String(L.name||"").toLowerCase().includes(oe):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{k(z.profession),M(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===z.profession&&j===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),z.skills.filter(L=>{const oe=(D[z.profession]||"").trim().toLowerCase();return oe?String(L.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(w?"class":l)==="player"?!P||!w&&!_?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[w&&(()=>{const z=P.skills||[],L=d.map(le=>({id:le.key,label:le.displayName||le.key,icon:X(le.profession,le.professionList,"w-3 h-3")})),oe=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:X(le.profession,le.professionList,"w-3 h-3")}))],Je=new Set([...$.map(le=>`column:${le}`),...N.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:ye,selectedIds:Je,onSelect:le=>{le.type==="column"?A(Ke=>Ke.includes(le.id)?Ke.filter(Ae=>Ae!==le.id):[...Ke,le.id]):B(Ke=>Ke.includes(le.id)?Ke.filter(Ae=>Ae!==le.id):[...Ke,le.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:oe,selectedIds:$,onToggle:le=>{A(Ke=>Ke.includes(le)?Ke.filter(Ae=>Ae!==le):[...Ke,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:L,selectedIds:N,onToggle:le=>{B(Ke=>Ke.includes(le)?Ke.filter(Ae=>Ae!==le):[...Ke,le])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),($.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(le=>{var Ke;const Ae=((Ke=z.find(ct=>ct.id===le))==null?void 0:Ke.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ae}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),N.map(le=>{var Ke;const Ae=((Ke=L.find(ct=>ct.id===le))==null?void 0:Ke.label)||le;return u.jsxs("button",{type:"button",onClick:()=>B(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ae}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),w?(()=>{var z,L;const oe=P.skills||[],ye=$.length>0?oe.filter(Ae=>$.includes(Ae.id)):oe,Je=N.length>0?d.filter(Ae=>N.includes(Ae.key)):d,le=((z=ye.find(Ae=>Ae.id===K.columnId))==null?void 0:z.id)||((L=ye[0])==null?void 0:L.id)||"",Ke=Je.map(Ae=>{const ct={},en={};return ye.forEach(Pn=>{var Br;const ce=(Br=Ae.skillMap)==null?void 0:Br[Pn.id],Te=Number((ce==null?void 0:ce.damage)||0);en[Pn.id]=Te,ct[Pn.id]=Fs(Te)}),{player:Ae,values:ct,numericValues:en}}).sort((Ae,ct)=>{const en=Ae.numericValues[le]??0,Pn=ct.numericValues[le]??0;return(K.dir==="desc"?Pn-en:en-Pn)||String(Ae.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(po,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:K.dir,onSortColumn:Ae=>{U(ct=>({columnId:Ae,dir:ct.columnId===Ae&&ct.dir==="desc"?"asc":"desc"}))},columns:ye.map(Ae=>({id:Ae.id,label:u.jsx(kr,{name:Ae.name,iconUrl:Ae.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ke.map((Ae,ct)=>({id:`${Ae.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),X(Ae.player.profession,Ae.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ae.player.displayName})]}),values:Ae.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(P.profession,P.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(kr,{name:(_==null?void 0:_.name)||"",iconUrl:_==null?void 0:_.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.skills.length," skills | ",Fs(he)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Fs((_==null?void 0:_.downContribution)||0)},{label:"Total Damage",value:Fs((_==null?void 0:_.damage)||0)},{label:"DPS",value:Oi(P.totalFightMs>0?((_==null?void 0:_.damage)||0)/(P.totalFightMs/1e3):0,1)}].map(z=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:z.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:z.value})]},z.label))})]})]}):!E||!w&&!G?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[w&&(()=>{const z=E.skills||[],L=Y.map(le=>({id:le.key,label:le.displayName||le.key,icon:X(le.profession,le.professionList,"w-3 h-3")})),oe=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...Y.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:X(le.profession,le.professionList,"w-3 h-3")}))],Je=new Set([...$.map(le=>`column:${le}`),...N.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:ye,selectedIds:Je,onSelect:le=>{le.type==="column"?A(Ke=>Ke.includes(le.id)?Ke.filter(Ae=>Ae!==le.id):[...Ke,le.id]):B(Ke=>Ke.includes(le.id)?Ke.filter(Ae=>Ae!==le.id):[...Ke,le.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:oe,selectedIds:$,onToggle:le=>{A(Ke=>Ke.includes(le)?Ke.filter(Ae=>Ae!==le):[...Ke,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:L,selectedIds:N,onToggle:le=>{B(Ke=>Ke.includes(le)?Ke.filter(Ae=>Ae!==le):[...Ke,le])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),($.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(le=>{var Ke;const Ae=((Ke=z.find(ct=>ct.id===le))==null?void 0:Ke.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ae}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),N.map(le=>{var Ke;const Ae=((Ke=L.find(ct=>ct.id===le))==null?void 0:Ke.label)||le;return u.jsxs("button",{type:"button",onClick:()=>B(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ae}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),w?(()=>{var z,L;const oe=E.skills||[],ye=$.length>0?oe.filter(Ae=>$.includes(Ae.id)):oe,Je=N.length>0?Y.filter(Ae=>N.includes(Ae.key)):Y,le=((z=ye.find(Ae=>Ae.id===K.columnId))==null?void 0:z.id)||((L=ye[0])==null?void 0:L.id)||"",Ke=Je.map(Ae=>{const ct={},en={};return ye.forEach(Pn=>{var Br;const ce=(Br=Ae.skillMap)==null?void 0:Br[Pn.id],Te=Number((ce==null?void 0:ce.damage)||0);en[Pn.id]=Te,ct[Pn.id]=Fs(Te)}),{player:Ae,values:ct,numericValues:en}}).sort((Ae,ct)=>{const en=Ae.numericValues[le]??0,Pn=ct.numericValues[le]??0;return(K.dir==="desc"?Pn-en:en-Pn)||String(Ae.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(po,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:K.dir,onSortColumn:Ae=>{U(ct=>({columnId:Ae,dir:ct.columnId===Ae&&ct.dir==="desc"?"asc":"desc"}))},columns:ye.map(Ae=>({id:Ae.id,label:u.jsx(kr,{name:Ae.name,iconUrl:Ae.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ke.map((Ae,ct)=>({id:`${Ae.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),X(Ae.player.profession,Ae.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ae.player.displayName})]}),values:Ae.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(E.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(kr,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[Y.length," players | ",E.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:I.key==="down"?I.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>te("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:I.key==="damage"?I.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>te("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:I.key==="dps"?I.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:F.map(z=>{var L;const oe=(L=z.skillMap)==null?void 0:L[(G==null?void 0:G.id)||""],ye=Number((oe==null?void 0:oe.downContribution)||0),Je=Number((oe==null?void 0:oe.damage)||0),le=z.totalFightMs>0?Je/(z.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(z.profession,z.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:z.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Fs(ye)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Fs(Je)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Oi(le,1)})]},`${E.profession}-${z.key}`)})})]})]})})]})})]})},Ns=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),js=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),rae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var k;const[S,C]=y.useState({key:"value",dir:"desc"}),[j,M]=y.useState({columnId:((k=t[0])==null?void 0:k.id)||"value",dir:"desc"}),T=f==="offense-detailed",[R,P]=y.useState([]),[_,E]=y.useState([]),G=t.filter(w=>w.label.toLowerCase().includes(r.trim().toLowerCase())),X=t.map(w=>({id:w.id,label:w.label})),re=X.filter(w=>w.label.toLowerCase().includes(r.trim().toLowerCase())),he=R.length>0?t.filter(w=>R.includes(w.id)):t,Y=Array.from(new Map(e.offensePlayers.map(w=>[w.account,w])).values()).map(w=>({id:w.account,label:w.account,icon:d(w.profession,w.professionList,"w-3 h-3")})),I=new Set([...R.map(w=>`column:${w}`),..._.map(w=>`player:${w}`)]),ee=w=>{C($=>({key:w,dir:$.key===w&&$.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Th,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...X.map(w=>({...w,type:"column"})),...Y.map(w=>({...w,type:"player"}))],onSelect:w=>{w.type==="column"?P($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id]):E($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id])},selectedIds:I,className:"w-full sm:w-64"}),u.jsx(dr,{options:re,selectedIds:R,onToggle:w=>{P($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>P([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:Y,selectedIds:_,onToggle:w=>{E($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(w=>{var $;const A=(($=X.find(N=>N.id===w))==null?void 0:$.label)||w;return u.jsxs("button",{type:"button",onClick:()=>P(N=>N.filter(B=>B!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},w)}),_.map(w=>u.jsxs("button",{type:"button",onClick:()=>E($=>$.filter(A=>A!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:w}),u.jsx("span",{className:"text-gray-400",children:""})]},w))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:G.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var w,$;const A=W=>Math.max(1,(W.totalFightMs||0)/1e3),N=(W,Q,D)=>{var J,fe,F,te,z;if(Q==="downContributionPercent"){const L=((J=W.offenseTotals)==null?void 0:J.downContribution)||0,oe=((fe=W.offenseTotals)==null?void 0:fe.damage)||0;return oe>0?L/oe*100:0}if(D.isRate){const L=((F=W.offenseRateWeights)==null?void 0:F[Q])||0,oe=((te=W.offenseTotals)==null?void 0:te[Q])||0;return L>0?oe/L*100:0}return((z=W.offenseTotals)==null?void 0:z[Q])||0},B=(W,Q)=>{const D=n&&!Q.isPercent&&s==="total"?0:2,J=c(W,D);return Q.isPercent?`${J}%`:J},K=((w=he.find(W=>W.id===j.columnId))==null?void 0:w.id)||(($=he[0])==null?void 0:$.id)||"",U=[...e.offensePlayers].filter(W=>_.length===0||_.includes(W.account)).map(W=>{const Q={},D={};return he.forEach(J=>{const fe=N(W,J.id,J),F=s==="total"||J.isPercent||J.isRate?fe:s==="per1s"?fe/A(W):fe*60/A(W);D[J.id]=F,Q[J.id]=B(F,J)}),{row:W,values:Q,numericValues:D}}).sort((W,Q)=>{const D=W.numericValues[K]??0,J=Q.numericValues[K]??0;return(j.dir==="desc"?J-D:D-J)||String(W.row.account||"").localeCompare(String(Q.row.account||""))});return u.jsx(po,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:K,sortDirection:j.dir,onSortColumn:W=>{M(Q=>({columnId:W,dir:Q.columnId===W&&Q.dir==="desc"?"asc":"desc"}))},columns:he.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:U.map((W,Q)=>({id:`${W.row.account}-${Q}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),d(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):u.jsx(Ns,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:w=>a(w.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:G.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):G.map(w=>u.jsx("button",{onClick:()=>o(w.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===w.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:w.label},w.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const w=t.find(K=>K.id===i)||t[0],$=K=>Math.max(1,(K.totalFightMs||0)/1e3),A=K=>{var U,W,Q,D,J;if(w.id==="downContributionPercent"){const fe=((U=K.offenseTotals)==null?void 0:U.downContribution)||0,F=((W=K.offenseTotals)==null?void 0:W.damage)||0;return F>0?fe/F*100:0}if(w.isRate){const fe=((Q=K.offenseRateWeights)==null?void 0:Q[w.id])||0,F=((D=K.offenseTotals)==null?void 0:D[w.id])||0;return fe>0?F/fe*100:0}return((J=K.offenseTotals)==null?void 0:J[w.id])||0},N=K=>{const U=n&&!w.isPercent&&s==="total"?0:2,W=c(K,U);return w.isPercent?`${W}%`:W},B=[...e.offensePlayers].map(K=>({...K,total:A(K),per1s:w.isPercent||w.isRate?A(K):A(K)/$(K),per60s:w.isPercent||w.isRate?A(K):A(K)*60/$(K)})).sort((K,U)=>{const W=S.key==="fightTime"?Number(K.totalFightMs||0):Number(s==="total"?K.total:s==="per1s"?K.per1s:K.per60s),Q=S.key==="fightTime"?Number(U.totalFightMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s);return(S.dir==="desc"?Q-W:W-Q)||K.account.localeCompare(U.account)});return u.jsx(js,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:w.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ee("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ee("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:B.map((K,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(K.profession,K.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const W=s==="total"?K.total:s==="per1s"?K.per1s:K.per60s;return N(W)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:K.totalFightMs?`${(K.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${w.id}-${K.account}-${U}`))})})})()})})]})},aae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:k,sidebarListClass:S})=>{var C;const j=m==="conditions-outgoing",[M,T]=y.useState([]),[R,P]=y.useState([]),[_,E]=y.useState({columnId:"all",dir:"desc"}),G=w=>{if(!w)return 0;if(o!=="outgoing"){const B=Number(w.applicationsFromUptime);return Number.isFinite(B)&&B>0?B:Number(w.applications||0)}const $=Number(w.applicationsFromUptime);if(Number.isFinite($)&&$>0)return $;const A=Number(w.applicationsFromBuffsActive);if(Number.isFinite(A)&&A>0)return A;const N=Number(w.applicationsFromBuffs);return Number.isFinite(N)&&N>0?N:Number(w.applications||0)},X=[...e||[]].sort((w,$)=>($.damage||0)-(w.damage||0)),re=X.filter(w=>w.name.toLowerCase().includes(n.trim().toLowerCase())),he=re.map(w=>({id:w.name,label:w.name,icon:w.icon?u.jsx("img",{src:w.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Y=M.length>0?X.filter(w=>M.includes(w.name)):X,I=Array.from(new Map((t||[]).map(w=>[w.account,w])).values()).map(w=>({id:w.account,label:w.account,icon:p(w.profession,w.professionList,"w-3 h-3")})),ee=new Set([...M.map(w=>`column:${w}`),...R.map(w=>`player:${w}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:k("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(r0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e&&e.length>0?j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...X.map(w=>({id:w.name,label:w.name,type:"column"})),...I.map(w=>({...w,type:"player"}))],onSelect:w=>{w.type==="column"?T($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id]):P($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id])},selectedIds:ee,className:"w-full sm:w-64"}),u.jsx(dr,{options:he,selectedIds:M,onToggle:w=>{T($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>T([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:I,selectedIds:R,onToggle:w=>{P($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Mn,{value:c.key,onChange:w=>d({key:w,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:re.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const w=c.key,$=[{id:"all",label:"All Conditions",icon:null},...Y],A=(t||[]).filter(K=>R.length===0||R.includes(K.account)).map(K=>{const U=K.conditions||{},W={},Q={};return $.forEach(D=>{if(D.id==="all"||D.name==="All Conditions"){const F=Object.values(U).reduce((z,L)=>{const oe=G(L);return z.applications+=Number(oe||0),z.damage+=Number((L==null?void 0:L.damage)||0),z},{applications:0,damage:0}),te=w==="applications"?F.applications:F.damage;Q.all=te||0,W.all=Math.round(te||0).toLocaleString();return}const J=U[D.name],fe=w==="applications"?G(J):Number((J==null?void 0:J.damage)||0);Q[D.name]=Number(fe||0),W[D.name]=Math.round(fe||0).toLocaleString()}),{player:K,values:W,numericValues:Q}}).filter(K=>Object.values(K.values).some(U=>U!=="0")),N=["all",...Y.map(K=>K.name)].includes(_.columnId)?_.columnId:"all",B=[...A].sort((K,U)=>{const W=K.numericValues[N]??0,Q=U.numericValues[N]??0;return(_.dir==="desc"?Q-W:W-Q)||String(K.player.account||"").localeCompare(String(U.player.account||""))});return u.jsx(po,{title:"Conditions - Dense View",subtitle:w==="applications"?"Applications":"Damage",sortColumnId:N,sortDirection:_.dir,onSortColumn:K=>{E(U=>({columnId:K,dir:U.columnId===K&&U.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...Y.map(K=>({id:K.name,label:u.jsx(kr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:B.map((K,U)=>({id:`${K.player.account}-${U}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),p(K.player.profession,K.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.player.account})]}),values:K.values}))})})()}),(M.length>0||R.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(w=>u.jsxs("button",{type:"button",onClick:()=>T($=>$.filter(A=>A!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:w}),u.jsx("span",{className:"text-gray-400",children:""})]},w)),R.map(w=>u.jsxs("button",{type:"button",onClick:()=>P($=>$.filter(A=>A!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:w}),u.jsx("span",{className:"text-gray-400",children:""})]},w))]})]}):u.jsx(Ns,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:w=>r(w.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:re.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),re.map(w=>u.jsx("button",{type:"button",onClick:()=>i(w.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===w.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:w.name,iconUrl:w.icon,iconClassName:"h-5 w-5"})},w.name))]})})]}),content:u.jsx(js,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(kr,{name:a,iconUrl:(C=e.find(w=>w.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const w=(t||[]).map($=>{const A=$.conditions||{};if(a==="all"){const B=Object.values(A).reduce((K,U)=>{const W=G(U);return K.applications+=Number(W||0),K.damage+=Number((U==null?void 0:U.damage)||0),K},{applications:0,damage:0});return{...$,applications:B.applications,damage:B.damage}}const N=A[a];return{...$,applications:G(N),damage:Number((N==null?void 0:N.damage)||0)}}).filter($=>$.applications>0||$.damage>0).sort(($,A)=>{const N=c.key==="applications"?$.applications||0:$.damage||0,B=c.key==="applications"?A.applications||0:A.damage||0,K=c.dir==="desc"?B-N:N-B;if(K!==0)return K;const U=c.key==="applications"?(A.damage||0)-($.damage||0):(A.applications||0)-($.applications||0);return U!==0?U:String($.account||"").localeCompare(String(A.account||""))});return w.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):w.map(($,A)=>{var N;const B=$.conditions||{};let K={};a==="all"?Object.values(B).forEach(F=>{const te=(F==null?void 0:F.skills)||{};Object.values(te).forEach(z=>{const L=(z==null?void 0:z.name)||"Unknown",oe=Number((z==null?void 0:z.hits)||0),ye=Number((z==null?void 0:z.damage)||0);if((!Number.isFinite(oe)||oe<=0)&&(!Number.isFinite(ye)||ye<=0))return;const Je=K[L]||{name:L,hits:0,damage:0,icon:z==null?void 0:z.icon};Je.hits+=Number.isFinite(oe)?oe:0,Je.damage+=Number.isFinite(ye)?ye:0,!Je.icon&&z!=null&&z.icon&&(Je.icon=z.icon),K[L]=Je})}):K=((N=B[a])==null?void 0:N.skills)||{};const U=Object.values(K).filter(F=>Number.isFinite(F.hits)&&F.hits>0).sort((F,te)=>te.hits-F.hits||F.name.localeCompare(te.name)),W=Object.values(K).filter(F=>Number.isFinite(F.damage)&&F.damage>0).sort((F,te)=>te.damage-F.damage||F.name.localeCompare(te.name)),Q=a==="all"&&U.length>0,D=a==="all"&&W.length>0,J=Math.round($.applications||0).toLocaleString(),fe=Math.round($.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:A+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p($.profession,$.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Q?u.jsx(TA,{value:J,label:"Condition Sources",items:U.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.hits).toLocaleString()})),className:"justify-end"}):J}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:D?u.jsx(TA,{value:fe,label:"Condition Damage Sources",items:W.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.damage).toLocaleString()})),className:"justify-end"}):fe}):null]},`${$.account}-${A}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},iae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:k,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:j})=>{const[M,T]=y.useState({key:"value",dir:"desc"}),[R,P]=y.useState({columnId:"",dir:"desc"}),_=v==="boon-output",[E,G]=y.useState([]),[X,re]=y.useState([]),he=e.boonTables||[],Y=E.length>0?he.filter(A=>E.includes(A.id)):he,I=l.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ee=Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:m(A.profession,A.professionList,"w-3 h-3")})),w=new Set([...E.map(A=>`column:${A}`),...X.map(A=>`player:${A}`)]),$=A=>{T(N=>({key:A,dir:N.key===A&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":k("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...he.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:m(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?G(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id]):re(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id])},selectedIds:w,className:"w-full sm:w-64"}),u.jsx(dr,{options:I,selectedIds:E,onToggle:A=>{G(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>G([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:ee,selectedIds:X,onToggle:A=>{re(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>re([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||X.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{G([]),re([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(A=>{var N;const B=((N=he.find(K=>K.id===A))==null?void 0:N.name)||A;return u.jsxs("button",{type:"button",onClick:()=>G(K=>K.filter(U=>U!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),X.map(A=>u.jsxs("button",{type:"button",onClick:()=>re(N=>N.filter(B=>B!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:he.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var A,N;const B=Y,K=((A=B.find(D=>D.id===R.columnId))==null?void 0:A.id)||(i&&B.some(D=>D.id===i)?i:void 0)||((N=B[0])==null?void 0:N.id)||"",U=new Map,W=new Map;B.forEach(D=>{const J=new Map;D.rows.forEach(fe=>{const F=fe.account||fe.name||fe.id;F&&(J.set(F,fe),W.has(F)||W.set(F,fe))}),U.set(D.id,J)});const Q=Array.from(W.entries()).filter(([D])=>X.length===0||X.includes(String(D))).map(([D,J])=>{const fe={};return B.forEach(F=>{var te;const z=(te=U.get(F.id))==null?void 0:te.get(D);fe[F.id]=z?f(z,t,F.stacking,r,{roundCountStats:h}):"-"}),{key:D,row:J,values:fe}}).sort((D,J)=>{var fe,F;if(!K)return String(D.key).localeCompare(String(J.key));const te=B.find(Je=>Je.id===K),z=te?(fe=U.get(te.id))==null?void 0:fe.get(D.key):null,L=te?(F=U.get(te.id))==null?void 0:F.get(J.key):null,oe=z?p(z,t,te==null?void 0:te.stacking,r):0,ye=L?p(L,t,te==null?void 0:te.stacking,r):0;return(R.dir==="desc"?ye-oe:oe-ye)||String(D.key).localeCompare(String(J.key))});return u.jsx(po,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:K,sortDirection:R.dir,onSortColumn:D=>{P(J=>({columnId:D,dir:J.columnId===D&&J.dir==="desc"?"asc":"desc"}))},columns:B.map(D=>({id:D.id,label:u.jsx(kr,{name:D.name,iconUrl:D.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Q.map((D,J)=>({id:`${D.key}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),m(D.row.profession,D.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:D.row.account||D.row.name||D.key})]}),values:D.values}))})})()})]}):u.jsx(Ns,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:A=>d(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${j} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(A=>u.jsx("button",{onClick:()=>o(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:A.name,iconUrl:A.icon,iconClassName:"h-3.5 w-3.5"})},A.id))})]}),content:s?u.jsx(js,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((A,N)=>(()=>{const B=M.key==="fightTime"?Number(A.activeTimeMs||0):p(A,t,s.stacking,r),K=M.key==="fightTime"?Number(N.activeTimeMs||0):p(N,t,s.stacking,r);return(M.dir==="desc"?K-B:B-K)||String(A.account||"").localeCompare(String(N.account||""))})()).map((A,N)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(A,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.activeTimeMs?`${(A.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${N}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},oae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var k;const[S,C]=y.useState({key:"value",dir:"desc"}),[j,M]=y.useState({columnId:((k=t[0])==null?void 0:k.id)||"value",dir:"desc"}),T=f==="defense-detailed",[R,P]=y.useState([]),[_,E]=y.useState([]),G=t.filter(w=>w.label.toLowerCase().includes(n.trim().toLowerCase())),X=t.map(w=>({id:w.id,label:w.label})),re=X.filter(w=>w.label.toLowerCase().includes(n.trim().toLowerCase())),he=R.length>0?t.filter(w=>R.includes(w.id)):t,Y=Array.from(new Map(e.defensePlayers.map(w=>[w.account,w])).values()).map(w=>({id:w.account,label:w.account,icon:d(w.profession,w.professionList,"w-3 h-3")})),I=new Set([...R.map(w=>`column:${w}`),..._.map(w=>`player:${w}`)]),ee=w=>{C($=>({key:w,dir:$.key===w&&$.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Eu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...X.map(w=>({...w,type:"column"})),...Y.map(w=>({...w,type:"player"}))],onSelect:w=>{w.type==="column"?P($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id]):E($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id])},selectedIds:I,className:"w-full sm:w-64"}),u.jsx(dr,{options:re,selectedIds:R,onToggle:w=>{P($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>P([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:Y,selectedIds:_,onToggle:w=>{E($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(w=>{var $;const A=(($=X.find(N=>N.id===w))==null?void 0:$.label)||w;return u.jsxs("button",{type:"button",onClick:()=>P(N=>N.filter(B=>B!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},w)}),_.map(w=>u.jsxs("button",{type:"button",onClick:()=>E($=>$.filter(A=>A!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:w}),u.jsx("span",{className:"text-gray-400",children:""})]},w))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:G.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var w,$;const A=U=>Math.max(1,(U.activeMs||0)/1e3),N=(U,W)=>{const Q=W.isPercent,D=c(U,l&&!Q&&o==="total"?0:2);return Q?`${D}%`:D},B=((w=he.find(U=>U.id===j.columnId))==null?void 0:w.id)||(($=he[0])==null?void 0:$.id)||"",K=[...e.defensePlayers].filter(U=>_.length===0||_.includes(U.account)).map(U=>{const W={},Q={};return he.forEach(D=>{var J;const fe=((J=U.defenseTotals)==null?void 0:J[D.id])||0,F=D.isPercent,te=o==="total"||F?fe:o==="per1s"?fe/A(U):fe*60/A(U);Q[D.id]=te,W[D.id]=N(te,D)}),{row:U,values:W,numericValues:Q}}).sort((U,W)=>{const Q=U.numericValues[B]??0,D=W.numericValues[B]??0;return(j.dir==="desc"?D-Q:Q-D)||String(U.row.account||"").localeCompare(String(W.row.account||""))});return u.jsx(po,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:j.dir,onSortColumn:U=>{M(W=>({columnId:U,dir:W.columnId===U&&W.dir==="desc"?"asc":"desc"}))},columns:he.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:K.map((U,W)=>({id:`${U.row.account}-${W}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),d(U.row.profession,U.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:U.row.account})]}),values:U.values}))})})()})]}):u.jsx(Ns,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:w=>r(w.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:G.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):G.map(w=>u.jsx("button",{onClick:()=>i(w.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===w.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:w.label},w.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const w=t.find(N=>N.id===a)||t[0],$=N=>Math.max(1,(N.activeMs||0)/1e3),A=[...e.defensePlayers].map(N=>{var B,K,U;return{...N,total:((B=N.defenseTotals)==null?void 0:B[w.id])||0,per1s:(((K=N.defenseTotals)==null?void 0:K[w.id])||0)/$(N),per60s:(((U=N.defenseTotals)==null?void 0:U[w.id])||0)*60/$(N)}}).sort((N,B)=>{const K=S.key==="fightTime"?Number(N.activeMs||0):Number(o==="total"?N.total:o==="per1s"?N.per1s:N.per60s),U=S.key==="fightTime"?Number(B.activeMs||0):Number(o==="total"?B.total:o==="per1s"?B.per1s:B.per60s);return(S.dir==="desc"?U-K:K-U)||N.account.localeCompare(B.account)});return u.jsx(js,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:w.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ee("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ee("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.map((N,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const K=o==="total"?N.total:o==="per1s"?N.per1s:N.per60s;return c(K,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${w.id}-${N.account}-${B}`))})})})()})})]})},sae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:k,sidebarListClass:S})=>{var C,j;const M=((C=t.find(F=>F.id==="totalMitigation"))==null?void 0:C.id)||((j=t[0])==null?void 0:j.id)||"totalMitigation",[T,R]=y.useState({key:"value",dir:"desc"}),[P,_]=y.useState({columnId:M,dir:"desc"}),E=m==="defense-mitigation",[G,X]=y.useState([]),[re,he]=y.useState([]),[Y,I]=y.useState([]),ee=e.damageMitigationPlayers||[],w=e.damageMitigationMinions||[],$=l==="minions"?w:ee,A=ee.length>0||w.length>0,N=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),B=t.map(F=>({id:F.id,label:F.label})),K=B.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),U=G.length>0?t.filter(F=>G.includes(F.id)):t,W=Array.from(new Map($.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:p(F.profession,F.professionList,"w-3 h-3")})),Q=Array.from(new Map(w.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),D=new Set([...G.map(F=>`column:${F}`),...re.map(F=>`player:${F}`)]),J=F=>{R(te=>({key:F,dir:te.key===F&&te.dir==="desc"?"asc":"desc"}))},fe=F=>f(F,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:k("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),A?E?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...B.map(F=>({...F,type:"column"})),...W.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?X(te=>te.includes(F.id)?te.filter(z=>z!==F.id):[...te,F.id]):he(te=>te.includes(F.id)?te.filter(z=>z!==F.id):[...te,F.id])},selectedIds:D,className:"w-full sm:w-64"}),u.jsx(dr,{options:K,selectedIds:G,onToggle:F=>{X(te=>te.includes(F)?te.filter(z=>z!==F):[...te,F])},onClear:()=>X([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:W,selectedIds:re,onToggle:F=>{he(te=>te.includes(F)?te.filter(z=>z!==F):[...te,F])},onClear:()=>he([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(dr,{options:Q,selectedIds:Y,onToggle:F=>{I(te=>te.includes(F)?te.filter(z=>z!==F):[...te,F])},onClear:()=>I([]),buttonLabel:"Minions"}),u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||re.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{X([]),he([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(F=>{var te;const z=((te=B.find(L=>L.id===F))==null?void 0:te.label)||F;return u.jsxs("button",{type:"button",onClick:()=>X(L=>L.filter(oe=>oe!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},F)}),re.map(F=>u.jsxs("button",{type:"button",onClick:()=>he(te=>te.filter(z=>z!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&Y.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>I([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),Y.map(F=>u.jsxs("button",{type:"button",onClick:()=>I(te=>te.filter(z=>z!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:$.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):N.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var F,te;const z=ye=>Math.max(1,(ye.activeMs||0)/1e3),L=((F=U.find(ye=>ye.id===P.columnId))==null?void 0:F.id)||((te=U[0])==null?void 0:te.id)||"",oe=[...$].filter(ye=>re.length===0||re.includes(ye.account)).filter(ye=>l!=="minions"||!Y.length?!0:Y.includes(String(ye.minion||""))).map(ye=>{const Je={},le={};return U.forEach(Ke=>{var Ae;const ct=((Ae=ye.mitigationTotals)==null?void 0:Ae[Ke.id])||0,en=o==="total"?ct:o==="per1s"?ct/z(ye):ct*60/z(ye);le[Ke.id]=en,Je[Ke.id]=fe(en)}),{row:ye,values:Je,numericValues:le}}).sort((ye,Je)=>{const le=ye.numericValues[L]??0,Ke=Je.numericValues[L]??0;return(P.dir==="desc"?Ke-le:le-Ke)||String(ye.row.account||"").localeCompare(String(Je.row.account||""))});return u.jsx(po,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:L,sortDirection:P.dir,onSortColumn:ye=>{_(Je=>({columnId:ye,dir:Je.columnId===ye&&Je.dir==="desc"?"asc":"desc"}))},columns:U.map(ye=>({id:ye.id,label:ye.label,align:"right",minWidth:90})),rows:oe.map((ye,Je)=>({id:`${ye.row.account}-${ye.row.minion||"player"}-${Je}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Je+1}),p(ye.row.profession,ye.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ye.row.account}),ye.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ye.row.minion})]})]}),values:ye.values}))})})()})]}):u.jsx(Ns,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:N.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):N.map(F=>u.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const F=t.find(L=>L.id===a)||t[0],te=L=>Math.max(1,(L.activeMs||0)/1e3),z=[...$].map(L=>{var oe,ye,Je;return{...L,total:((oe=L.mitigationTotals)==null?void 0:oe[F.id])||0,per1s:(((ye=L.mitigationTotals)==null?void 0:ye[F.id])||0)/te(L),per60s:(((Je=L.mitigationTotals)==null?void 0:Je[F.id])||0)*60/te(L)}}).filter(L=>l!=="minions"||!Y.length?!0:Y.includes(String(L.minion||""))).sort((L,oe)=>{const ye=T.key==="fightTime"?Number(L.activeMs||0):Number(o==="total"?L.total:o==="per1s"?L.per1s:L.per60s),Je=T.key==="fightTime"?Number(oe.activeMs||0):Number(o==="total"?oe.total:o==="per1s"?oe.per1s:oe.per60s);return(T.dir==="desc"?Je-ye:ye-Je)||L.account.localeCompare(oe.account)});return u.jsx(js,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>J("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>J("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:z.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:z.map((L,oe)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:oe+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(L.profession,L.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:L.account}),L.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:L.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ye=o==="total"?L.total:o==="per1s"?L.per1s:L.per60s;return fe(ye)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:L.activeMs?`${(L.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${L.account}-${L.minion||"player"}-${oe}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},lae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:k,sidebarListClass:S})=>{var C;const[j,M]=y.useState({key:"value",dir:"desc"}),[T,R]=y.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),P=m==="support-detailed",[_,E]=y.useState([]),[G,X]=y.useState([]),re=t.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),he=t.map(A=>({id:A.id,label:A.label})),Y=he.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),I=_.length>0?t.filter(A=>_.includes(A.id)):t,ee=Array.from(new Map(e.supportPlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:p(A.profession,A.professionList,"w-3 h-3")})),w=new Set([..._.map(A=>`column:${A}`),...G.map(A=>`player:${A}`)]),$=A=>{M(N=>({key:A,dir:N.key===A&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:k("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...he.map(A=>({...A,type:"column"})),...ee.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?E(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id]):X(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id])},selectedIds:w,className:"w-full sm:w-64"}),u.jsx(dr,{options:Y,selectedIds:_,onToggle:A=>{E(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>E([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:ee,selectedIds:G,onToggle:A=>{X(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>X([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||G.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),X([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(A=>{var N;const B=((N=he.find(K=>K.id===A))==null?void 0:N.label)||A;return u.jsxs("button",{type:"button",onClick:()=>E(K=>K.filter(U=>U!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),G.map(A=>u.jsxs("button",{type:"button",onClick:()=>X(N=>N.filter(B=>B!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:re.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var A,N;const B=(D,J)=>{var fe,F,te;if(J==="condiCleanse"){const z=((fe=D.supportTotals)==null?void 0:fe.condiCleanse)||0,L=((F=D.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?z+L:z}return((te=D.supportTotals)==null?void 0:te[J])||0},K=D=>Math.max(1,(D.activeMs||0)/1e3),U=(D,J)=>{const fe=D.isTime?1:d&&o==="total"?0:2;return f(J,fe)},W=((A=I.find(D=>D.id===T.columnId))==null?void 0:A.id)||((N=I[0])==null?void 0:N.id)||"",Q=[...e.supportPlayers].filter(D=>G.length===0||G.includes(D.account)).map(D=>{const J={},fe={};return I.forEach(F=>{const te=B(D,F.id),z=o==="total"?te:o==="per1s"?te/K(D):te*60/K(D);fe[F.id]=z,J[F.id]=U(F,z)}),{row:D,values:J,numericValues:fe}}).sort((D,J)=>{const fe=D.numericValues[W]??0,F=J.numericValues[W]??0;return(T.dir==="desc"?F-fe:fe-F)||String(D.row.account||"").localeCompare(String(J.row.account||""))});return u.jsx(po,{title:"Support - Dense View",subtitle:"Support",sortColumnId:W,sortDirection:T.dir,onSortColumn:D=>{R(J=>({columnId:D,dir:J.columnId===D&&J.dir==="desc"?"asc":"desc"}))},columns:I.map(D=>({id:D.id,label:D.label,align:"right",minWidth:90})),rows:Q.map((D,J)=>({id:`${D.row.account}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),p(D.row.profession,D.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:D.row.account})]}),values:D.values}))})})()})]}):u.jsx(Ns,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:re.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):re.map(A=>u.jsx("button",{onClick:()=>i(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(U=>U.id===a)||t[0],N=U=>{var W,Q,D;if(A.id==="condiCleanse"){const J=((W=U.supportTotals)==null?void 0:W.condiCleanse)||0,fe=((Q=U.supportTotals)==null?void 0:Q.condiCleanseSelf)||0;return l==="all"?J+fe:J}return((D=U.supportTotals)==null?void 0:D[A.id])||0},B=U=>Math.max(1,(U.activeMs||0)/1e3),K=[...e.supportPlayers].map(U=>({...U,total:N(U),per1s:N(U)/B(U),per60s:N(U)*60/B(U)})).sort((U,W)=>{const Q=j.key==="fightTime"?Number(U.activeMs||0):Number(o==="total"?U.total:o==="per1s"?U.per1s:U.per60s),D=j.key==="fightTime"?Number(W.activeMs||0):Number(o==="total"?W.total:o==="per1s"?W.per1s:W.per60s);return(j.dir==="desc"?D-Q:Q-D)||U.account.localeCompare(W.account)});return u.jsx(js,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[A.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:K.map((U,W)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(U.profession,U.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:U.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Q=o==="total"?U.total:o==="per1s"?U.per1s:U.per60s,D=A.isTime?1:d&&o==="total"?0:2;return f(Q,D)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:U.activeMs?`${(U.activeMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${U.account}-${W}`))})})})()})})]})},cae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[k,S]=y.useState({key:"value",dir:"desc"}),[C,j]=y.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[T,R]=y.useState([]),[P,_]=y.useState([]),E=Array.from(new Map(e.healingPlayers.map(Y=>[Y.account,Y])).values()).map(Y=>({id:Y.account,label:Y.account,icon:d(Y.profession,Y.professionList,"w-3 h-3")})),G=new Set([...P.map(Y=>`column:${Y}`),...T.map(Y=>`player:${Y}`)]),X=t.map(Y=>({id:Y.id,label:Y.label})),re=P.length>0?t.filter(Y=>P.includes(Y.id)):t,he=Y=>{S(I=>({key:Y,dir:I.key===Y&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(eO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...X.map(Y=>({...Y,type:"column"})),...E.map(Y=>({...Y,type:"player"}))],onSelect:Y=>{Y.type==="column"?_(I=>I.includes(Y.id)?I.filter(ee=>ee!==Y.id):[...I,Y.id]):R(I=>I.includes(Y.id)?I.filter(ee=>ee!==Y.id):[...I,Y.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(Mn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(dr,{options:X,selectedIds:P,onToggle:Y=>{_(I=>I.includes(Y)?I.filter(ee=>ee!==Y):[...I,Y])},onClear:()=>_([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(Y=>({value:Y.id,label:Y.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(dr,{options:E,selectedIds:T,onToggle:Y=>{R(I=>I.includes(Y)?I.filter(ee=>ee!==Y):[...I,Y])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(P.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(Y=>{var I;const ee=((I=X.find(w=>w.id===Y))==null?void 0:I.label)||Y;return u.jsxs("button",{type:"button",onClick:()=>_(w=>w.filter($=>$!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ee}),u.jsx("span",{className:"text-gray-400",children:""})]},Y)}),T.map(Y=>u.jsxs("button",{type:"button",onClick:()=>R(I=>I.filter(ee=>ee!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Y}),u.jsx("span",{className:"text-gray-400",children:""})]},Y))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var Y,I;const ee=N=>Math.max(1,(N.activeMs||0)/1e3),w=N=>{const B=N.baseField==="resUtility",K=B||a==="total"?"":a==="offSquad"?"offSquad":a;return B?o==="all"?"resUtility":`resUtility_${o}`:K?`${K}${N.baseField[0].toUpperCase()}${N.baseField.slice(1)}`:N.baseField},$=[...e.healingPlayers].filter(N=>T.length===0||T.includes(N.account)).filter(N=>Object.values(N.healingTotals||{}).some(B=>Number(B)>0)).map(N=>{const B={},K={};return re.forEach(U=>{var W;const Q=w(U),D=Number(((W=N.healingTotals)==null?void 0:W[Q])??0),J=U.perSecond?D/ee(N):D;K[U.id]=J,B[U.id]=c(J,U.decimals)}),{row:N,values:B,numericValues:K}}).sort((N,B)=>{var K,U;const W=((K=re.find(J=>J.id===C.columnId))==null?void 0:K.id)||((U=re[0])==null?void 0:U.id)||"",Q=N.numericValues[W]??0,D=B.numericValues[W]??0;return(C.dir==="desc"?D-Q:Q-D)||String(N.row.account||"").localeCompare(String(B.row.account||""))}),A=((Y=re.find(N=>N.id===C.columnId))==null?void 0:Y.id)||((I=re[0])==null?void 0:I.id)||"";return u.jsx(po,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:A,sortDirection:C.dir,onSortColumn:N=>{j(B=>({columnId:N,dir:B.columnId===N&&B.dir==="desc"?"asc":"desc"}))},columns:re.map(N=>({id:N.id,label:N.label,align:"right",minWidth:90})),rows:$.map((N,B)=>({id:`${N.row.account}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(N.row.profession,N.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.row.account})]}),values:N.values}))})})()})]}):u.jsx(Ns,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(Y=>u.jsx("button",{onClick:()=>r(Y.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===Y.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:Y.label},Y.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const Y=t.find(N=>N.id===n)||t[0],I=Y.baseField==="resUtility",ee=N=>Math.max(1,(N.activeMs||0)/1e3),w=I||a==="total"?"":a==="offSquad"?"offSquad":a,$=I?o==="all"?"resUtility":`resUtility_${o}`:w?`${w}${Y.baseField[0].toUpperCase()}${Y.baseField.slice(1)}`:Y.baseField,A=[...e.healingPlayers].filter(N=>Object.values(N.healingTotals||{}).some(B=>Number(B)>0)).map(N=>{var B;const K=Number(((B=N.healingTotals)==null?void 0:B[$])??0),U=Y.perSecond?K/ee(N):K;return{...N,value:U}}).sort((N,B)=>{const K=k.key==="fightTime"?Number(N.activeMs||0):Number(N.value||0),U=k.key==="fightTime"?Number(B.activeMs||0):Number(B.value||0);return(k.dir==="desc"?U-K:K-U)||N.account.localeCompare(B.account)});return u.jsx(js,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:Y.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[I&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(N=>({value:N.id,label:N.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!I&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>he("value"),className:`text-right transition-colors ${k.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[Y.label,k.key==="value"?k.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>he("fightTime"),className:`text-right transition-colors ${k.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",k.key==="fightTime"?k.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):A.map((N,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(N.value,Y.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${Y.id}-${N.account}-${B}`))})})})()})})]})},uae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",dae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("total"),[k,S]=y.useState("desc"),[C,j]=y.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[T,R]=y.useState([]),[P,_]=y.useState([]),E=e.specialTables||[],G=T.length>0?E.filter(w=>T.includes(w.id)):E,X=r.map(w=>({id:w.id,label:w.name,icon:w.icon?u.jsx("img",{src:w.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=Array.from(new Map((e.specialTables||[]).flatMap(w=>w.rows||[]).filter(w=>w.account).map(w=>[w.account,w])).values()).map(w=>({id:w.account,label:w.account,icon:l(w.profession,w.professionList,"w-3 h-3")})),he=new Set([...T.map(w=>`column:${w}`),...P.map(w=>`player:${w}`)]),Y=y.useMemo(()=>{if(!(o!=null&&o.rows))return[];const w=[...o.rows];return w.sort(($,A)=>{const N=Number(($==null?void 0:$[g])??0),B=Number((A==null?void 0:A[g])??0),K=k==="desc"?B-N:N-B;return K!==0?K:String(($==null?void 0:$.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),w},[o,g,k]),I=w=>{if(g===w){S($=>$==="desc"?"asc":"desc");return}b(w),S("desc")},ee=w=>g!==w?"":k==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(a0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(mo,{options:[...E.map(w=>({id:w.id,label:w.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(w=>w.rows||[]).filter(w=>w.account).map(w=>[w.account,w])).values()).map(w=>({id:w.account,label:w.account,type:"player",icon:l(w.profession,w.professionList,"w-3 h-3")}))],onSelect:w=>{w.type==="column"?R($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id]):_($=>$.includes(w.id)?$.filter(A=>A!==w.id):[...$,w.id])},selectedIds:he,className:"w-full sm:w-64"}),u.jsx(dr,{options:X,selectedIds:T,onToggle:w=>{R($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>R([]),buttonIcon:u.jsx(uo,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:re,selectedIds:P,onToggle:w=>{_($=>$.includes(w)?$.filter(A=>A!==w):[...$,w])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:g,onChange:w=>b(w),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{R([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(w=>{var $;const A=(($=E.find(N=>N.id===w))==null?void 0:$.name)||w;return u.jsxs("button",{type:"button",onClick:()=>R(N=>N.filter(B=>B!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},w)}),P.map(w=>u.jsxs("button",{type:"button",onClick:()=>_($=>$.filter(A=>A!==w)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:w}),u.jsx("span",{className:"text-gray-400",children:""})]},w))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:E.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var w,$;const A=G,N=new Map,B=new Map;A.forEach(Q=>{const D=new Map;Q.rows.forEach(J=>{const fe=J.account||J.name||J.id;fe&&(D.set(fe,J),B.has(fe)||B.set(fe,J))}),N.set(Q.id,D)});const K=Array.from(B.entries()).filter(([Q])=>P.length===0||P.includes(String(Q))).map(([Q,D])=>{const J={},fe={};return A.forEach(F=>{var te;const z=(te=N.get(F.id))==null?void 0:te.get(Q);if(!z){J[F.id]="-",fe[F.id]=0;return}if(g==="duration"){J[F.id]=z.duration?`${z.duration.toFixed(1)}s`:"-",fe[F.id]=Number(z.duration||0);return}const L=g==="total"?z.total:z.perSecond,oe=g==="total"?0:1;fe[F.id]=Number(L||0),J[F.id]=s(L||0,oe)}),{key:Q,row:D,values:J,numericValues:fe}}),U=((w=A.find(Q=>Q.id===C.columnId))==null?void 0:w.id)||(a&&A.some(Q=>Q.id===a)?a:void 0)||(($=A[0])==null?void 0:$.id)||"",W=[...K].sort((Q,D)=>{if(!U)return String(Q.key).localeCompare(String(D.key));const J=Q.numericValues[U]??0,fe=D.numericValues[U]??0;return(C.dir==="desc"?fe-J:J-fe)||String(Q.key).localeCompare(String(D.key))});return u.jsx(po,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:U,sortDirection:C.dir,onSortColumn:Q=>{j(D=>({columnId:Q,dir:D.columnId===Q&&D.dir==="desc"?"asc":"desc"}))},columns:A.map(Q=>({id:Q.id,label:u.jsx(kr,{name:Q.name,iconUrl:Q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:W.map((Q,D)=>({id:`${Q.key}-${D}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:D+1}),l(Q.row.profession,Q.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.row.account||Q.row.name||Q.key})]}),values:Q.values}))})})()})]}):u.jsx(Ns,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:w=>n(w.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(w=>u.jsx("button",{onClick:()=>i(w.id),title:w.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===w.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:uae(w.name),iconUrl:w.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},w.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(js,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",ee("total")]}),u.jsxs("button",{type:"button",onClick:()=>I("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",ee("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>I("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",ee("duration")]})]}),rows:u.jsx(u.Fragment,{children:Y.map((w,$)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:$+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(w.profession,w.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:w.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(w.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(w.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:w.duration?`${w.duration.toFixed(1)}s`:"-"})]},`${o.id}-${w.account}-${$}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},fae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",pae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("desc"),k=c==="sigil-relic-uptime",S=y.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((j,M)=>{const T=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),R=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),P=g==="desc"?R-T:T-R;return P!==0?P:String((j==null?void 0:j.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]}),e?u.jsx(Ns,{expanded:k,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${k?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${k?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${k?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:fae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(js,{expanded:k,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,j)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${j}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},mae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),hae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=y.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},OA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},gae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=OA[r]||OA.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},yae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},DA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},vae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Jl,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(cz,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(a0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Eh,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:DA(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(k=>l(k.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(k=>l(k.name)).map((k,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:k.name}),u.jsx("span",{className:"tabular-nums leading-none",children:DA(k.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:pz,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Eu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:eO,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:wz,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Nf,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:dz,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:fz,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:aO,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:lz,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],k=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,j,M,T;const R=a==="all",P=yae((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),_=P[0],E=_?{...S.data,value:Number(_.value||0),player:_.account||((C=S.data)==null?void 0:C.player)||"-",count:_.count||((j=S.data)==null?void 0:j.count)||0,profession:_.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:_.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return u.jsx(gae,{...S,data:E,active:R,onClick:()=>i(G=>G==="all"?null:"all"),rows:P,formatValue:k,renderProfessionIcon:c},S.statKey)})})})()]}):null,bae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution",s=o?"Down Contrib":"Damage",l=o?"downContribution":"damage",c=[...e.topSkills||[]].sort((p,m)=>{const h=Number((p==null?void 0:p[l])||0);return Number((m==null?void 0:m[l])||0)-h||Number((m==null?void 0:m.hits)||0)-Number((p==null?void 0:p.hits)||0)||String((p==null?void 0:p.name)||"").localeCompare(String((m==null?void 0:m.name)||""))}),d=Math.max(1,...c.map(p=>Number((p==null?void 0:p[l])||0))),f=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(p1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s})]}),f&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(p=>{const m=(t||e.topSkillsMetric)===p.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(p.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${m?"bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:p.label},p.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[c.map((p,m)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",m+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(kr,{name:p.name,iconUrl:p.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(p[l]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",p.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(p[l]||0)/d*100}%`}})})]})]},m)),c.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(az,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[e.topIncomingSkills.map((p,m)=>{var h;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",m+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(kr,{name:p.name,iconUrl:p.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(p.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",p.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${p.damage/(((h=e.topIncomingSkills[0])==null?void 0:h.damage)||1)*100}%`}})})]})]},m)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},xae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"squad-composition","data-section-visible":r("squad-composition"),"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Kx,{children:[u.jsx(kg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,s)=>u.jsx(Bu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${s}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(r0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Kx,{children:[u.jsx(kg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,s)=>u.jsx(Bu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${s}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]}),wae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Hf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Go,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Go,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),kae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(g1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Kx,{children:[u.jsx(kg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(Bu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(j3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),IA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:k,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:j,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:T,spikeDrilldownTitle:R,spikeDrilldownData:P,spikeDrilldownDownIndices:_,spikeDrilldownDeathIndices:E,spikeFightSkillRows:G=[],spikeFightSkillTitle:X="Skill Damage (Selected Fight)",formatWithCommas:re,renderProfessionIcon:he})=>{const[Y,I]=y.useState(null),[ee,w]=y.useState(null),$=L=>String(L||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),A=o===e,N=S?ec(S.profession):"#fda4af",B=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",K=L=>x==="hit"?L.peakHit:x==="1s"?L.peak1s:x==="5s"?L.peak5s:L.peak30s,U=v.flatMap(L=>L.players.map(oe=>({...oe,groupProfession:L.profession}))).sort((L,oe)=>{const ye=K(oe)-K(L);return ye!==0?ye:L.displayName.localeCompare(oe.displayName)}),W=C.reduce((L,oe)=>!L||oe.damage>L.damage?oe:L,null),Q=L=>{if(!Number.isFinite(L)||L<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(L))}catch{return""}},D=P.reduce((L,oe)=>Math.max(L,Number(oe.value||0)),0),J=Math.max(1,D),fe=new Set(_),F=new Set(E),te=P.map((L,oe)=>({...L,downMarker:fe.has(oe)?Math.max(Number(L.value||0),J*.88):null,deathMarker:F.has(oe)?Math.max(Number(L.value||0),J*.96):null})),z=L=>oe=>{const ye=Number(oe==null?void 0:oe.cx),Je=Number(oe==null?void 0:oe.cy),le=Number(oe==null?void 0:oe.index);if(!Number.isFinite(ye)||!Number.isFinite(Je)||!Number.isFinite(le))return null;const Ke=(oe==null?void 0:oe.payload)||{},Ae=L==="down"?Ke==null?void 0:Ke.downMarker:Ke==null?void 0:Ke.deathMarker;if(!Number.isFinite(Number(Ae)))return null;const ct=`${L}-${le}`,en=Y===ct,Pn=L==="down"?"#facc15":"#ef4444",Br=L==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{I(ct),w({x:ye,y:Je,kind:L,label:String((Ke==null?void 0:Ke.label)||"")})},onMouseLeave:()=>{I(ce=>ce===ct?null:ce),w(ce=>(ce==null?void 0:ce.kind)===L&&(ce==null?void 0:ce.label)===String((Ke==null?void 0:Ke.label)||"")?null:ce)},children:[u.jsx("circle",{cx:ye,cy:Je,r:en?10:7,fill:Br,opacity:en?.35:.18}),u.jsx("circle",{cx:ye,cy:Je,r:en?7:5.5,fill:Pn,stroke:"#0f172a",strokeWidth:en?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${A?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:A?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Nf,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${A?"pr-10 md:pr-0":""}`,children:[u.jsx(Mn,{value:x,onChange:L=>g(L),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>A?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${A?"absolute top-2 right-2 md:static":""}`,"aria-label":A?`Close ${t}`:`Expand ${t}`,title:A?"Close":"Expand",children:A?u.jsx(Ha,{className:"w-4 h-4"}):u.jsx(ji,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:L=>h(L.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:U.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:U.map(L=>{const oe=b===L.key;return u.jsx("button",{type:"button",onClick:()=>k(L.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${oe?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[he(L.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:L.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:L.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[L.characterName||L.displayName,"  ",L.logs," ",L.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:re(K(L)||0,0)})]})},L.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",B]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:C,onClick:L=>{const oe=Number(L==null?void 0:L.activeTooltipIndex);Number.isFinite(oe)&&T(M===oe?null:oe)},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Hf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:L=>re(L,0)}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,oe)=>[re(Number(L||0),0),String(oe||"")],labelFormatter:(L,oe)=>{var ye;const Je=(ye=oe==null?void 0:oe[0])==null?void 0:ye.payload;if(!Je)return"";const le=$(Je.fullLabel||"");return x==="hit"&&Je.skillName?`${le}  ${Je.skillName}`:le}}),u.jsx(Go,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:N,strokeWidth:3,dot:L=>{var oe;const ye=Number((oe=L==null?void 0:L.payload)==null?void 0:oe.index);if(!Number.isFinite(ye))return null;const Je=M===ye;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:le=>{le.stopPropagation(),T(Je?null:ye)},children:[u.jsx("circle",{cx:L.cx,cy:L.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:L.cx,cy:L.cy,r:Je?4:3,fill:N,stroke:Je?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Je?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Go,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[he(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${B}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:re(K(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const L=$((W==null?void 0:W.fullLabel)||S.peakFightLabel||"N/A"),oe=Q(Number((W==null?void 0:W.timestamp)||0)),ye=oe?`${oe} - ${L}`:L;return x!=="hit"?ye:S.peakSkillName?`${S.peakSkillName}  ${ye}`:ye})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:R}),u.jsx("button",{type:"button",onClick:()=>T(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:P.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:te,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Hf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:L=>re(L,0)}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,oe)=>{const ye=String(oe||"");return ye==="Down"?["Downed","Event"]:ye==="Death"?["Dead","Event"]:[re(Number(L||0),0),"Damage"]},labelFormatter:L=>String(L||"")}),u.jsx(Go,{type:"monotone",dataKey:"value",name:"Damage",stroke:N,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Go,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("down")}),u.jsx(Go,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("death")})]})}),ee&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ee.x)}px`,top:`${Math.max(8,ee.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${ee.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ee.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:ee.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${G.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:X}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[G.length," ",G.length===1?"skill":"skills"]})]}),G.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:G.map((L,oe)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:L.skillName,children:L.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:re(Number(L.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:re(Number(L.hits||0),0)})]},`${L.skillName}-${oe}`))})]})]})]})},Nv=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Sae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(""),[s,l]=y.useState("squad"),[c,d]=y.useState("desc"),f=i.trim().toLowerCase(),p=y.useMemo(()=>{const h=e.filter(x=>{if(!f)return!0;const g=String(x.account||"").toLowerCase(),b=(x.characterNames||[]).join(" ").toLowerCase(),k=(x.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return g.includes(f)||b.includes(f)||k.includes(f)}),v=x=>Number(s==="fight"?x.combatTimeMs??x.squadTimeMs??0:x.squadTimeMs??0);return[...h].sort((x,g)=>{const b=v(g)-v(x);return b!==0?c==="desc"?b:-b:String(x.account||"").localeCompare(String(g.account||""))})},[e,f,c,s]),m=h=>{if(s===h){d(v=>v==="desc"?"asc":"desc");return}l(h),d("desc")};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:i,onChange:h=>o(h.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[900px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] bg-white/5",children:[u.jsx("th",{className:"text-left py-2 px-4",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(h=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:h.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:h.characterNames.length>0?h.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:h.classTimes.length>0?h.classTimes.map(v=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(v.profession)?u.jsx("img",{src:t(v.profession),alt:v.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:v.profession}),u.jsx("span",{className:"text-gray-400",children:Nv(v.timeMs)})]},`${h.account}-${v.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nv(Number(h.combatTimeMs??h.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nv(h.squadTimeMs)})]},h.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Nae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},jae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(null),[s,l]=y.useState(""),c=s.trim().toLowerCase(),d=np("svg/commander_tag.svg");y.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=y.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||v.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Nae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Cae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Mae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(null);y.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=y.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=y.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Gd,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Cae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-3 overflow-x-auto",children:s?u.jsxs("div",{className:"grid grid-cols-2 gap-3 min-w-[640px]",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2.5 space-y-1.5",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>String((f==null?void 0:f.profession)||"Unknown")).filter(f=>f&&f!=="Unknown").sort((f,p)=>f.localeCompare(p)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>String(f))).filter(f=>f&&f!=="Unknown").sort((f,p)=>f.localeCompare(p));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[42px_minmax(0,1fr)] gap-2 items-center rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1.5",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-1",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f,className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",children:t(f)?u.jsx("img",{src:t(f),alt:f,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2.5",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[11px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Aae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(tO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(Jl,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(a0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(xz,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(yz,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Pae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=y.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(hz,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(nO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(iO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Eae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Tae=({embedded:e,uiTheme:t="classic",mobileNavOpen:n,setMobileNavOpen:r,tocGroups:a,tocItems:i,activeNavId:o,scrollToSection:s,stepSection:l})=>{var c;const d=t==="matte",f=t==="modern",p=t==="crt",m=d?"rounded-2xl border border-white/10 bg-[#222629] shadow-[-4px_-4px_8px_rgba(255,255,255,0.03),6px_6px_12px_rgba(0,0,0,0.45)]":p?"rounded-sm border border-green-400/35 bg-[#07110c]":f?"rounded-2xl border border-white/15 bg-[#1b2430]":"rounded-2xl border border-white/25 bg-white/5 backdrop-blur-2xl shadow-[0_24px_65px_rgba(0,0,0,0.55)]",h=d?"rounded-xl bg-[#2a2e31] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200 shadow-[inset_1px_1px_2px_rgba(255,255,255,0.04),inset_-1px_-1px_2px_rgba(0,0,0,0.35)]":p?"rounded-sm bg-[#0b1a12] border border-green-400/35 text-[10px] uppercase tracking-widest text-green-200":f?"rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200":"rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",v=d?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/15 bg-[#222629] flex flex-col overflow-hidden":p?"w-full max-w-sm max-h-[68vh] rounded-sm p-4 border border-green-400/35 bg-[#07110c] flex flex-col overflow-hidden":f?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden":"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-white/5 shadow-[0_22px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl flex flex-col overflow-hidden",[x,g]=y.useState({});return y.useEffect(()=>{a.length!==0&&g(b=>{if(Object.keys(b).length>0)return b;const k={};return a.forEach((S,C)=>{k[S.id]=C===0}),k})},[a]),y.useEffect(()=>{const b=a.find(k=>k.items.some(S=>S.id===o));b&&g(k=>({...k,[b.id]:!0}))},[o,a]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 ${m}`,children:[u.jsxs("button",{onClick:()=>l(-1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:[u.jsx(Wl,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>r(b=>!b),className:`flex items-center gap-2 px-4 py-1.5 ${h}`,children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((c=i.find(b=>b.id===o))==null?void 0:c.label)||"Sections"}),u.jsx(Wl,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${n?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>l(1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:["Next",u.jsx(Wl,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),n&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:b=>{b.target===b.currentTarget&&r(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:v,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(Ha,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:a.map(b=>{const k=b.icon,S=x[b.id]??!1,C=b.items.some(j=>j.id===o);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>g(j=>({...j,[b.id]:!S})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${C?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(k,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:b.label}),u.jsx(Wl,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${S?"rotate-180":""}`})]}),S&&u.jsx("div",{className:"space-y-1 pl-2",children:b.items.map(j=>{const M=j.icon,T=j.id===o;return u.jsxs("button",{onClick:()=>s(j.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${T?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(M,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:j.label})]},j.id)})})]},b.id)})})})]})})]})},No="space-y-1 pr-1 max-h-72 overflow-y-auto",Oae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Dae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Iae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0}){var h,v;const x=n||bO,g=r||Kb,b=i||B8,k=g.showTopStats,S=g.showMvp,C=g.roundCountStats,j=g.topStatsMode||"total",[M,T]=y.useState(g.topSkillsMetric||"damage"),R=(a?g.topSkillsMetric:M)||"damage",P=b.uploading,_=b.message,E=b.url,G=b.buildStatus,X=!c&&!1,{result:re}=Y8({logs:e,precomputedStats:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),{stats:he,skillUsageData:Y}=re,I=y.useMemo(()=>{var q,se,me,He,xe,et;const ie=he&&typeof he=="object"?he:{},qe=be=>Array.isArray(be)?be:[],cn=be=>be&&typeof be=="object"?be:{},Re=(be,jt)=>be&&typeof be=="object"?be:jt,Et={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Dt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},un={...ie,total:Number(ie.total||0),timelineData:qe(ie.timelineData),mapData:qe(ie.mapData),fightBreakdown:qe(ie.fightBreakdown),topSkills:qe(ie.topSkills),topIncomingSkills:qe(ie.topIncomingSkills),leaderboards:cn(ie.leaderboards),topStatsPerSecond:cn(ie.topStatsPerSecond),topStatsLeaderboardsPerSecond:cn(ie.topStatsLeaderboardsPerSecond),maxDownContrib:Re(ie.maxDownContrib,Et),maxBarrier:Re(ie.maxBarrier,Et),maxHealing:Re(ie.maxHealing,Et),maxDodges:Re(ie.maxDodges,Et),maxStrips:Re(ie.maxStrips,Et),maxCleanses:Re(ie.maxCleanses,Et),maxCC:Re(ie.maxCC,Et),maxStab:Re(ie.maxStab,Et),closestToTag:Re(ie.closestToTag,Et),mvp:{...Dt,...cn(ie.mvp),topStats:qe((q=ie==null?void 0:ie.mvp)==null?void 0:q.topStats)},silver:Re(ie.silver,Dt),bronze:Re(ie.bronze,Dt),avgMvpScore:Number(ie.avgMvpScore||0),offensePlayers:qe(ie.offensePlayers),defensePlayers:qe(ie.defensePlayers),damageMitigationPlayers:qe(ie.damageMitigationPlayers),damageMitigationMinions:qe(ie.damageMitigationMinions),supportPlayers:qe(ie.supportPlayers),healingPlayers:qe(ie.healingPlayers),boonTables:qe(ie.boonTables),specialTables:qe(ie.specialTables),outgoingConditionSummary:qe(ie.outgoingConditionSummary),outgoingConditionPlayers:qe(ie.outgoingConditionPlayers),incomingConditionSummary:qe(ie.incomingConditionSummary),incomingConditionPlayers:qe(ie.incomingConditionPlayers),squadClassData:qe(ie.squadClassData),enemyClassData:qe(ie.enemyClassData),attendanceData:qe(ie.attendanceData),squadCompByFight:qe(ie.squadCompByFight),playerSkillBreakdowns:qe(ie.playerSkillBreakdowns)},lt=qe((se=un.leaderboards)==null?void 0:se.downContrib).map(be=>({...be,value:Number((be==null?void 0:be.value)??0)})).filter(be=>Number.isFinite(be.value)).sort((be,jt)=>jt.value-be.value||String((be==null?void 0:be.account)||"").localeCompare(String((jt==null?void 0:jt.account)||"")))[0];return lt&&(un.maxDownContrib={...un.maxDownContrib||{},value:Number(lt.value||0),player:String(lt.account||((me=un.maxDownContrib)==null?void 0:me.player)||"-"),count:Number(lt.count||((He=un.maxDownContrib)==null?void 0:He.count)||0),profession:String(lt.profession||((xe=un.maxDownContrib)==null?void 0:xe.profession)||"Unknown"),professionList:Array.isArray(lt.professionList)?lt.professionList:((et=un.maxDownContrib)==null?void 0:et.professionList)||[]}),un},[he]);y.useEffect(()=>{var q;if(!((q=window==null?void 0:window.electronAPI)!=null&&q.fetchImageAsDataUrl))return;const se=new Set,me=He=>{if(He){if(typeof He=="string"){/^https?:\/\//i.test(He)&&se.add(He);return}if(Array.isArray(He)){He.forEach(me);return}typeof He=="object"&&Object.entries(He).forEach(([xe,et])=>{if((xe==="icon"||xe==="iconUrl")&&typeof et=="string"){/^https?:\/\//i.test(et)&&se.add(et);return}me(et)})}};me(I),se.size>0&&Kre(Array.from(se))},[I]);const ee=y.useMemo(()=>{const q=(l==null?void 0:l.skillUsageData)??Y;return{logRecords:Array.isArray(q==null?void 0:q.logRecords)?q.logRecords:[],players:Array.isArray(q==null?void 0:q.players)?q.players:[],skillOptions:Array.isArray(q==null?void 0:q.skillOptions)?q.skillOptions:[],resUtilitySkills:Array.isArray(q==null?void 0:q.resUtilitySkills)?q.resUtilitySkills:[]}},[Y,l==null?void 0:l.skillUsageData]),w=ee.players.length>0;y.useEffect(()=>{a||T(g.topSkillsMetric||"damage")},[g.topSkillsMetric,a]);const $=q=>{if(a){a({...g,topSkillsMetric:q});return}T(q)},{mobileNavOpen:A,setMobileNavOpen:N,activeNavId:B,scrollContainerRef:K,tocGroups:U,tocItems:W,scrollToSection:Q,stepSection:D}=kz(c),{devMockUploadState:J,webCopyStatus:fe,setWebCopyStatus:F,handleWebUpload:te,handleDevMockUpload:z}=Sz({logs:e,stats:I,skillUsageData:ee,activeStatsViewSettings:r||Kb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:L,handleShare:oe}=y8(c),ye={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Je=q=>{const se=ye[q];return se?x[se]>0:!0},[le,Ke]=y.useState(null),[Ae,ct]=y.useState(null),[en,Pn]=y.useState("totalBuffs"),[Br,ce]=y.useState("total"),[Te,ft]=y.useState(""),[tn,fn]=y.useState(null),[Sr,or]=y.useState(""),[Hn,zr]=y.useState(null),[Zr,gn]=y.useState(""),[sn,va]=y.useState(""),[nn,Er]=y.useState(""),[Ur,id]=y.useState(""),[Ac,wl]=y.useState(""),[Ms,kl]=y.useState(""),[Bo,H]=y.useState(""),[ue,Ce]=y.useState("outgoing"),[Ye,Ft]=y.useState(""),[Pt,pt]=y.useState("damage"),[mn,On]=y.useState("damageTaken"),[sr,Le]=y.useState("totalMitigation"),[nt,Wt]=y.useState("all"),[Jt,hr]=y.useState({key:"damage",dir:"desc"}),Nr=!(nt!=="all"&&Oae.has(nt)),Vr=Nr?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Sl=Nr?Jt:{key:"applications",dir:Jt.key==="applications"?Jt.dir:"desc"},[vy,by]=y.useState("condiCleanse"),[xy,wy]=y.useState("healing"),[O,V]=y.useState("total"),[ne,je]=y.useState("all"),[Z,Se]=y.useState("total"),[De,ut]=y.useState("total"),[wt,ht]=y.useState("total"),[zt,Nn]=y.useState("total"),[Dn,Xe]=y.useState("all"),[Ge,mt]=y.useState("squad"),[Ut,Gt]=y.useState("player"),[ve,Ne]=y.useState(""),[we,Be]=y.useState(""),[pe,Me]=y.useState(null),[Ie,kt]=y.useState([]),[We,rt]=y.useState(null),[Xt,yn]=y.useState(null),[rn,gr]=y.useState("hit"),[gt,ae]=y.useState(null),[_e,Qe]=y.useState(null),[it,Pe]=y.useState("hit"),[Ze,yt]=y.useState([]),[ze,$t]=y.useState(null),[Nt,_t]=y.useState(!1),tt=y.useRef(null),[Ht,vt]=y.useState("sizes"),[qt,Lt]=y.useState("total"),At=qt==="perSecond",[Oe,ge]=y.useState(null),[bt,Mt]=y.useState("total"),[Vt,vn]=y.useState(null),[jr,Jr]=y.useState(null),[ea,Yi]=y.useState(null),[Pc,As]=y.useState(""),[ba,Ec]=y.useState(null),[Bp,Nl]=y.useState(null),[li,bo]=y.useState(null),[od,xo]=y.useState(""),[Tc,Ee]=y.useState("player"),[Ve,dt]=y.useState(null),[Bt,bn]=y.useState(null),[wn,Ln]=y.useState(null),{apmSpecBuckets:jn}=G8(ee),ln=I.playerSkillBreakdowns||[],la=y.useMemo(()=>{const q=new Map;return ln.forEach(se=>q.set(se.key,se)),q},[ln]),ci=y.useMemo(()=>{const q=new Map;return ln.forEach(se=>{const me=se.profession||"Unknown";q.has(me)||q.set(me,{profession:me,players:[],skills:new Map});const He=q.get(me);He.players.push(se),se.skills.forEach(xe=>{var et;const ie=He.skills.get(xe.id)||{...xe,damage:0,downContribution:0};ie.damage+=Number(xe.damage||0),ie.downContribution+=Number(xe.downContribution||0),!ie.icon&&xe.icon&&(ie.icon=xe.icon),(et=ie.name)!=null&&et.startsWith("Skill ")&&!xe.name.startsWith("Skill ")&&(ie.name=xe.name),He.skills.set(xe.id,ie)})}),Array.from(q.values()).map(se=>{const me=Array.from(se.skills.values()).sort((xe,et)=>et.damage-xe.damage),He=me.reduce((xe,et)=>(xe[et.id]=et,xe),{});return{profession:se.profession,players:se.players,skills:me,skillMap:He}}).sort((se,me)=>se.profession.localeCompare(me.profession))},[ln]),Ia=ba&&la.get(ba)||null,Oc=Ia&&li&&((h=Ia.skillMap)==null?void 0:h[li])||null,Dc=y.useMemo(()=>{const q=new Map;return ci.forEach(se=>q.set(se.profession,se)),q},[ci]),Ci=Ve&&Dc.get(Ve)||null,zp=Ci&&wn&&((v=Ci.skillMap)==null?void 0:v[wn])||null,xa=y.useMemo(()=>{const q=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=be=>q(be).toLowerCase().split(/[^a-z0-9]+/i).map(jt=>jt.trim()).filter(Boolean).map(jt=>jt.length>3&&jt.endsWith("s")?jt.slice(0,-1):jt),me=(be,jt)=>{const Ue=q(be),$n=q(jt);if(!$n)return Ue;if(!Ue)return $n;const Tr=se(Ue),Bn=se($n),yr=new Set(Tr),Sn=new Set(Bn),Ka=Bn.length>0&&Bn.every(It=>yr.has(It)),Tt=Tr.length>0&&Tr.every(It=>Sn.has(It));return Ka||Tt?Ue:`${Ue} - ${$n}`},He=be=>{if(be==null||be==="")return 0;if(typeof be=="number")return!Number.isFinite(be)||be<=0?0:be>1e12?be:be*1e3;if(be instanceof Date){const yr=be.getTime();return Number.isFinite(yr)&&yr>0?yr:0}const jt=String(be).trim();if(!jt)return 0;const Ue=Number(jt);if(Number.isFinite(Ue)&&Ue>0)return Ue>1e12?Ue:Ue*1e3;const $n=Date.parse(jt);if(Number.isFinite($n)&&$n>0)return $n;const Tr=jt.replace(/([+-]\d{2})$/,"$1:00"),Bn=Date.parse(Tr);return Number.isFinite(Bn)&&Bn>0?Bn:0},xe=(be,jt)=>He((be==null?void 0:be.uploadTime)??(jt==null?void 0:jt.uploadTime)??(be==null?void 0:be.timeStartStd)??(be==null?void 0:be.timeStart)??(be==null?void 0:be.timeEndStd)??(be==null?void 0:be.timeEnd)),et=I==null?void 0:I.spikeDamage,ie=Array.isArray(et==null?void 0:et.fights)?et.fights:[],qe=Array.isArray(et==null?void 0:et.players)?et.players:[],cn=ie.some(be=>(be!=null&&be.values&&typeof be.values=="object"?Object.values(be.values):[]).some(jt=>jt&&typeof jt=="object"&&(Number(jt.burst1s||0)>0||Number(jt.burst5s||0)>0||Number(jt.burst30s||0)>0)))||qe.some(be=>Number((be==null?void 0:be.peak1s)||0)>0||Number((be==null?void 0:be.peak5s)||0)>0||Number((be==null?void 0:be.peak30s)||0)>0);if((ie.length>0||qe.length>0)&&(cn||e.length===0)){const be=ie.map((Ue,$n)=>{const Tr=Ue!=null&&Ue.values&&typeof Ue.values=="object"?Ue.values:{},Bn={};return Object.entries(Tr).forEach(([yr,Sn])=>{if(Sn&&typeof Sn=="object"){const Ka=Number(Sn.damage||0);Bn[yr]={hit:Number(Sn.hit??Ka),burst1s:Number(Sn.burst1s||0),burst5s:Number(Sn.burst5s||0),burst30s:Number(Sn.burst30s||0),skillName:String(Sn.skillName||""),buckets5s:Array.isArray(Sn.buckets5s)?Sn.buckets5s.map(Tt=>Number(Tt||0)):void 0,downIndices5s:Array.isArray(Sn.downIndices5s)?Sn.downIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,deathIndices5s:Array.isArray(Sn.deathIndices5s)?Sn.deathIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,skillRows:Array.isArray(Sn.skillRows)?Sn.skillRows.map(Tt=>({skillName:String((Tt==null?void 0:Tt.skillName)||(Tt==null?void 0:Tt.name)||"Unknown Skill"),damage:Number((Tt==null?void 0:Tt.damage)||0),hits:Number((Tt==null?void 0:Tt.hits)||0),icon:typeof(Tt==null?void 0:Tt.icon)=="string"?Tt.icon:void 0})).filter(Tt=>Number.isFinite(Tt.damage)&&Tt.damage>0):void 0};return}Bn[yr]={hit:Number(Sn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((Ue==null?void 0:Ue.id)||`fight-${$n+1}`),shortLabel:String((Ue==null?void 0:Ue.shortLabel)||`F${$n+1}`),fullLabel:q((Ue==null?void 0:Ue.fullLabel)||`Fight ${$n+1}`),timestamp:Number((Ue==null?void 0:Ue.timestamp)||0),values:Bn,maxHit:Number((Ue==null?void 0:Ue.maxHit)??(Ue==null?void 0:Ue.maxDamage)??0),max1s:Number((Ue==null?void 0:Ue.max1s)||0),max5s:Number((Ue==null?void 0:Ue.max5s)||0),max30s:Number((Ue==null?void 0:Ue.max30s)||0)}}),jt=qe.map(Ue=>({key:String((Ue==null?void 0:Ue.key)||""),account:String((Ue==null?void 0:Ue.account)||"Unknown"),displayName:String((Ue==null?void 0:Ue.displayName)||(Ue==null?void 0:Ue.account)||"Unknown"),characterName:String((Ue==null?void 0:Ue.characterName)||(Ue==null?void 0:Ue.name)||(Ue==null?void 0:Ue.character_name)||(Ue==null?void 0:Ue.display_name)||""),profession:String((Ue==null?void 0:Ue.profession)||"Unknown"),professionList:Array.isArray(Ue==null?void 0:Ue.professionList)?Ue.professionList.map($n=>String($n)):[],logs:Number((Ue==null?void 0:Ue.logs)||0),peakHit:Number((Ue==null?void 0:Ue.peakHit)||0),peak1s:Number((Ue==null?void 0:Ue.peak1s)||0),peak5s:Number((Ue==null?void 0:Ue.peak5s)||0),peak30s:Number((Ue==null?void 0:Ue.peak30s)||0),peakFightLabel:q((Ue==null?void 0:Ue.peakFightLabel)||""),peakSkillName:String((Ue==null?void 0:Ue.peakSkillName)||"")}));return{fights:be,players:jt}}const Re=(be,jt)=>{const Ue=(jt==null?void 0:jt.skillMap)||{},$n=(jt==null?void 0:jt.buffMap)||{};let Tr=0,Bn="";const yr=Tt=>{const It=Number(Tt);if(!Number.isFinite(It))return String(Tt||"Unknown Skill");const Ct=(Ue==null?void 0:Ue[`s${It}`])||(Ue==null?void 0:Ue[`${It}`]);if(Ct!=null&&Ct.name)return String(Ct.name);const Qt=($n==null?void 0:$n[`b${It}`])||($n==null?void 0:$n[`${It}`]);return Qt!=null&&Qt.name?String(Qt.name):`Skill ${It}`},Sn=Tt=>{if(!Tt||typeof Tt!="object")return;const It=[Number(Tt.max),Number(Tt.maxDamage),Number(Tt.maxHit)].filter(Qt=>Number.isFinite(Qt)),Ct=It.length>0?Math.max(...It):0;Ct>Tr&&(Tr=Ct,Bn=yr(Tt.id))};let Ka=!1;return Array.isArray(be==null?void 0:be.targetDamageDist)&&be.targetDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(It=>{Array.isArray(It)&&It.forEach(Ct=>{Ka=!0,Sn(Ct)})})}),(!Ka||Tr<=0)&&Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(It=>Sn(It))}),{peak:Tr,skillName:Bn||"Unknown Skill"}},Et=(be,jt)=>{const Ue=It=>{if(!Array.isArray(It)||It.length===0)return[];const Ct=[];for(let Qt=0;Qt<It.length;Qt+=1){const vr=Number(It[Qt]||0),er=Qt>0?Number(It[Qt-1]||0):0;Ct.push(Math.max(0,vr-er))}return Ct},$n=(It,Ct)=>{if(!Array.isArray(It)||It.length===0||Ct<=0)return 0;let Qt=0,vr=0;for(let er=0;er<It.length;er+=1)Qt+=Number(It[er]||0),er>=Ct&&(Qt-=Number(It[er-Ct]||0)),er>=Ct-1&&Qt>vr&&(vr=Qt);return Math.max(0,vr)},Tr=It=>{if(!Array.isArray(It))return[];const Ct=It.reduce((vr,er)=>Math.max(vr,Array.isArray(er)?er.length:0),0);if(Ct<=0)return[];const Qt=new Array(Ct).fill(0);return It.forEach(vr=>{if(Array.isArray(vr))for(let er=0;er<Ct;er+=1)Qt[er]+=Number(vr[er]||0)}),Qt},Bn=It=>Array.isArray(It)?It.map(Ct=>Number(Ct||0)):null,yr=(It=>{if(!Array.isArray(It)||It.length===0)return null;const Ct=It[0];if(!Array.isArray(Ct))return null;if(Array.isArray(Ct[0])&&Array.isArray(Ct[0][0]))return Tr(Ct);if(Array.isArray(Ct[0])&&!Array.isArray(Ct[0][0])){const Qt=It.map(vr=>Bn(Array.isArray(vr)?vr[0]:null)).filter(vr=>Array.isArray(vr)&&vr.length>0);if(Qt.length>0)return Tr(Qt)}return null})(be==null?void 0:be.targetDamage1S),Sn=Array.isArray(be==null?void 0:be.damage1S)&&Array.isArray(be.damage1S[0])?be.damage1S[0]:null,Ka=yr||(Array.isArray(Sn)?Sn.map(It=>Number(It||0)):[]),Tt=Ue(Ka);return $n(Tt,jt)},Dt=[],un=new Map;e.forEach(be=>{const jt=be==null?void 0:be.details;if(!jt)return;const Ue=Dt.length+1,$n=q(jt.fightName||be.fightName||`Fight ${Ue}`),Tr=jt.zone||jt.mapName||jt.map||jt.location||"",Bn=me($n,String(Tr||"")),yr={};(Array.isArray(jt.players)?jt.players:[]).forEach(Ct=>{if(Ct!=null&&Ct.notInSquad)return;const Qt=String((Ct==null?void 0:Ct.account)||(Ct==null?void 0:Ct.name)||"Unknown"),vr=String((Ct==null?void 0:Ct.character_name)||(Ct==null?void 0:Ct.display_name)||(Ct==null?void 0:Ct.name)||""),er=String((Ct==null?void 0:Ct.profession)||"Unknown"),Ml=`${Qt}|${er}`,Ts=Re(Ct,jt),Os=Number(Ts.peak||0),Al=Number(Et(Ct,1)||0),Fc=Number(Et(Ct,5)||0),Lc=Number(Et(Ct,30)||0);yr[Ml]={hit:Os,burst1s:Al,burst5s:Fc,burst30s:Lc,skillName:Ts.skillName};const Or=un.get(Ml)||{key:Ml,account:Qt,displayName:Qt,characterName:vr,profession:er,professionList:[er],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Or.logs+=1,Or.professionList.includes(er)||Or.professionList.push(er),!Or.characterName&&vr&&(Or.characterName=vr),Os>Or.peakHit&&(Or.peakHit=Os,Or.peakFightLabel=Bn,Or.peakSkillName=Ts.skillName),Al>Or.peak1s&&(Or.peak1s=Al),Fc>Or.peak5s&&(Or.peak5s=Fc),Lc>Or.peak30s&&(Or.peak30s=Lc),un.set(Ml,Or)});const Sn=Object.values(yr).reduce((Ct,Qt)=>Math.max(Ct,Number((Qt==null?void 0:Qt.hit)||0)),0),Ka=Object.values(yr).reduce((Ct,Qt)=>Math.max(Ct,Number((Qt==null?void 0:Qt.burst1s)||0)),0),Tt=Object.values(yr).reduce((Ct,Qt)=>Math.max(Ct,Number((Qt==null?void 0:Qt.burst5s)||0)),0),It=Object.values(yr).reduce((Ct,Qt)=>Math.max(Ct,Number((Qt==null?void 0:Qt.burst30s)||0)),0);Dt.push({id:be.filePath||be.id||`fight-${Ue}`,shortLabel:`F${Ue}`,fullLabel:Bn,timestamp:xe(jt,be),values:yr,maxHit:Sn,max1s:Ka,max5s:Tt,max30s:It})});const lt=Array.from(un.values()).sort((be,jt)=>jt.peakHit!==be.peakHit?jt.peakHit-be.peakHit:be.displayName.localeCompare(jt.displayName));return{fights:Dt,players:lt}},[e,I]),Rn=y.useMemo(()=>{const q=ie=>String(ie||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=I==null?void 0:I.incomingStrikeDamage,me=Array.isArray(se==null?void 0:se.fights)?se.fights:[],He=Array.isArray(se==null?void 0:se.players)?se.players:[];if(me.length===0&&He.length===0)return{fights:[],players:[]};const xe=me.map((ie,qe)=>{const cn=ie!=null&&ie.values&&typeof ie.values=="object"?ie.values:{},Re={};return Object.entries(cn).forEach(([Et,Dt])=>{if(Dt&&typeof Dt=="object"){const un=Number(Dt.damage||0);Re[Et]={hit:Number(Dt.hit??un),burst1s:Number(Dt.burst1s||0),burst5s:Number(Dt.burst5s||0),burst30s:Number(Dt.burst30s||0),skillName:String(Dt.skillName||""),buckets5s:Array.isArray(Dt.buckets5s)?Dt.buckets5s.map(lt=>Number(lt||0)):void 0,downIndices5s:Array.isArray(Dt.downIndices5s)?Dt.downIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):void 0,deathIndices5s:Array.isArray(Dt.deathIndices5s)?Dt.deathIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):void 0,skillRows:Array.isArray(Dt.skillRows)?Dt.skillRows.map(lt=>({skillName:String((lt==null?void 0:lt.skillName)||(lt==null?void 0:lt.name)||"Unknown Skill"),damage:Number((lt==null?void 0:lt.damage)||0),hits:Number((lt==null?void 0:lt.hits)||0),icon:typeof(lt==null?void 0:lt.icon)=="string"?lt.icon:void 0})).filter(lt=>Number.isFinite(lt.damage)&&lt.damage>0):void 0};return}Re[Et]={hit:Number(Dt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ie==null?void 0:ie.id)||`fight-${qe+1}`),shortLabel:String((ie==null?void 0:ie.shortLabel)||`F${qe+1}`),fullLabel:q((ie==null?void 0:ie.fullLabel)||`Fight ${qe+1}`),timestamp:Number((ie==null?void 0:ie.timestamp)||0),values:Re,maxHit:Number((ie==null?void 0:ie.maxHit)??(ie==null?void 0:ie.maxDamage)??0),max1s:Number((ie==null?void 0:ie.max1s)||0),max5s:Number((ie==null?void 0:ie.max5s)||0),max30s:Number((ie==null?void 0:ie.max30s)||0)}}),et=He.map(ie=>({key:String((ie==null?void 0:ie.key)||""),account:String((ie==null?void 0:ie.account)||"Unknown"),displayName:String((ie==null?void 0:ie.displayName)||(ie==null?void 0:ie.account)||"Unknown"),characterName:String((ie==null?void 0:ie.characterName)||(ie==null?void 0:ie.name)||(ie==null?void 0:ie.character_name)||(ie==null?void 0:ie.display_name)||""),profession:String((ie==null?void 0:ie.profession)||"Unknown"),professionList:Array.isArray(ie==null?void 0:ie.professionList)?ie.professionList.map(qe=>String(qe)):[],logs:Number((ie==null?void 0:ie.logs)||0),peakHit:Number((ie==null?void 0:ie.peakHit)||0),peak1s:Number((ie==null?void 0:ie.peak1s)||0),peak5s:Number((ie==null?void 0:ie.peak5s)||0),peak30s:Number((ie==null?void 0:ie.peak30s)||0),peakFightLabel:q((ie==null?void 0:ie.peakFightLabel)||""),peakSkillName:String((ie==null?void 0:ie.peakSkillName)||"")}));return{fights:xe,players:et}},[I]),Ps=y.useMemo(()=>{const q=new Map;return xa.players.forEach(se=>q.set(se.key,se)),q},[xa.players]),sd=y.useMemo(()=>{const q=xe=>rn==="hit"?xe.peakHit:rn==="1s"?xe.peak1s:rn==="5s"?xe.peak5s:xe.peak30s,se=Ms.trim().toLowerCase(),me=se?xa.players.filter(xe=>xe.displayName.toLowerCase().includes(se)||xe.account.toLowerCase().includes(se)||xe.profession.toLowerCase().includes(se)):xa.players,He=new Map;return me.forEach(xe=>{const et=xe.profession||"Unknown",ie=He.get(et)||[];ie.push(xe),He.set(et,ie)}),Array.from(He.entries()).map(([xe,et])=>({profession:xe,players:[...et].sort((ie,qe)=>q(qe)-q(ie)||ie.displayName.localeCompare(qe.displayName))})).sort((xe,et)=>xe.profession.localeCompare(et.profession))},[xa.players,Ms,rn]),Mi=We&&Ps.get(We)||null,ca=y.useMemo(()=>{if(!We)return[];const q=me=>me?Number(rn==="hit"?me.hit||0:rn==="1s"?me.burst1s||0:rn==="5s"?me.burst5s||0:me.burst30s||0):0,se=me=>Number(rn==="hit"?me.maxHit||0:rn==="1s"?me.max1s||0:rn==="5s"?me.max5s||0:me.max30s||0);return xa.fights.map((me,He)=>{var xe;return{index:He,fightId:me.id,shortLabel:me.shortLabel,fullLabel:me.fullLabel,timestamp:Number(me.timestamp||0),damage:q(me.values[We]),maxDamage:se(me),skillName:String(((xe=me.values[We])==null?void 0:xe.skillName)||"")}})},[xa.fights,We,rn]),Ic=y.useMemo(()=>{const q=ca.reduce((me,He)=>Math.max(me,Number(He.damage||0)),0),se=ca.reduce((me,He)=>Math.max(me,Number(He.maxDamage||0)),0);return Math.max(1,q,se)},[ca]),ua=y.useMemo(()=>{var q,se,me,He,xe,et,ie,qe,cn;const Re=Xt===null?null:ca.find(ke=>ke.index===Xt)||null;if(!Re||!We)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Et=xa.fights.find((ke,at)=>String(ke.id||"")===String(Re.fightId||"")||at===Re.index)||null,[Dt,un]=We.split("|"),lt=e.find(ke=>String((ke==null?void 0:ke.filePath)||(ke==null?void 0:ke.id)||"")===String(Re.fightId||"")),be=lt==null?void 0:lt.details,jt=ke=>Array.isArray(ke)?ke.map(at=>Array.isArray(at)?[Number(at[0]),Number(at[1])]:at&&typeof at=="object"?[Number(at.time),Number(at.value)]:null).filter(at=>!!at&&Number.isFinite(at[0])&&at[0]>=0):[],Ue=ke=>String(ke||"").trim().toLowerCase(),$n=Ue(Dt),Tr=Ue(un),Bn=Ps.get(We),yr=new Set([Ue(Bn==null?void 0:Bn.displayName),Ue(Bn==null?void 0:Bn.characterName),Ue(Bn==null?void 0:Bn.account)].filter(Boolean)),Sn=Array.isArray(be==null?void 0:be.players)&&((q=be.players.map(ke=>{const at=Ue(ke==null?void 0:ke.account),Kt=Ue(ke==null?void 0:ke.name),zn=Ue(ke==null?void 0:ke.profession),dn=!!at&&at===$n,tr=!!Kt&&(Kt===$n||yr.has(Kt)),Xi=!!at&&yr.has(at),Ds=!Tr||zn===Tr;let Qi=0;return dn&&(Qi+=100),tr&&(Qi+=90),Xi&&(Qi+=80),Ds&&(Qi+=20),{player:ke,score:Qi}}).filter(ke=>ke.score>0).sort((ke,at)=>at.score-ke.score)[0])==null?void 0:q.player)||null,Ka=(()=>{const ke=Sn==null?void 0:Sn.combatReplayData;return Array.isArray(ke)?ke.filter(at=>at&&typeof at=="object"):ke&&typeof ke=="object"?[ke]:[]})(),Tt=Ka.flatMap(ke=>jt(ke==null?void 0:ke.down).map(([at])=>at)),It=Ka.flatMap(ke=>jt(ke==null?void 0:ke.dead).map(([at])=>at)),Ct=Ka.map(ke=>Number(ke==null?void 0:ke.start)).filter(ke=>Number.isFinite(ke)&&ke>=0),Qt=Array.isArray(be==null?void 0:be.players)?be.players.flatMap(ke=>{const at=ke==null?void 0:ke.combatReplayData;return Array.isArray(at)?at.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(at==null?void 0:at.start)]}).filter(ke=>Number.isFinite(ke)&&ke>=0).reduce((ke,at)=>Math.min(ke,at),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,vr=[0,Number((be==null?void 0:be.logStartOffset)||0),...Ct,Number.isFinite(Qt)?Qt:0].filter(ke=>Number.isFinite(ke)&&ke>=0),er=ke=>{const at=Math.max(0,Math.floor(Number(ke||0)/1e3)),Kt=Math.floor(at/5)*5;return`${Kt}s-${Kt+5}s`},Ml=(ke,at)=>{if(ke.length===0||at.length===0)return[];const Kt=at.length*5e3,zn=lr=>lr.reduce((wo,$c)=>$c>=0&&$c<=Kt+2e3?wo+1:wo,0),dn=[],tr=ke.map(lr=>Number(lr||0)).filter(lr=>Number.isFinite(lr)&&lr>=0);if(tr.length===0)return[];dn.push(tr);const Xi=tr.reduce((lr,wo)=>Math.max(lr,wo),0),Ds=tr.reduce((lr,wo)=>Math.min(lr,wo),Number.POSITIVE_INFINITY);Xi>Kt*20&&dn.push(tr.map(lr=>lr/1e3)),Xi<=Kt*2&&Ds>=0&&Xi>0&&Xi<Math.max(120,at.length*5+10)&&dn.push(tr.map(lr=>lr*1e3));let Qi=tr,C2=0,M2=-1;return dn.forEach(lr=>{const wo=new Set(vr),$c=lr.reduce((Pl,Ny)=>Math.min(Pl,Ny),Number.POSITIVE_INFINITY);if(Number.isFinite($c)&&Kt>0&&$c>Kt){const Pl=Math.floor($c/Kt)*Kt;wo.add(Pl),wo.add(Math.max(0,Pl-Kt))}wo.forEach(Pl=>{const Ny=lr.map(bR=>bR-Pl),A2=zn(Ny);A2>M2&&(M2=A2,C2=Pl,Qi=lr)})}),Qi.map(lr=>lr-C2).filter(lr=>Number.isFinite(lr)&&lr>=0)},Ts=(ke,at)=>{if(ke.length===0||at.length===0)return[];const Kt=Ml(at,ke),zn=new Map;ke.forEach(tr=>{const Xi=/^(\d+)s-/.exec(String(tr));if(!Xi)return;const Ds=Number(Xi[1]);Number.isFinite(Ds)&&zn.set(Ds,tr)});const dn=[];return Kt.forEach(tr=>{const Xi=Math.max(0,Math.floor(Number(tr||0)/1e3)),Ds=Math.floor(Xi/5)*5,Qi=zn.get(Ds)||er(tr);ke.includes(Qi)&&dn.push(Qi)}),Array.from(new Set(dn))},Os=(ke,at)=>{if(ke<=0||at.length===0)return[];const Kt=Array.from({length:ke},(dn,tr)=>`${tr*5}s-${(tr+1)*5}s`),zn=Ml(at,Kt).map(dn=>Math.floor(Math.max(0,Number(dn||0))/5e3)).filter(dn=>Number.isFinite(dn)&&dn>=0&&dn<ke);return Array.from(new Set(zn))},Al=Array.isArray((me=(se=Et==null?void 0:Et.values)==null?void 0:se[We])==null?void 0:me.buckets5s)?((xe=(He=Et==null?void 0:Et.values)==null?void 0:He[We])==null?void 0:xe.buckets5s)||[]:[],Fc=Array.isArray((ie=(et=Et==null?void 0:Et.values)==null?void 0:et[We])==null?void 0:ie.downIndices5s)?Et.values[We].downIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[],Lc=Array.isArray((cn=(qe=Et==null?void 0:Et.values)==null?void 0:qe[We])==null?void 0:cn.deathIndices5s)?Et.values[We].deathIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[];if(Al.length>0){const ke=Math.max(0,Math.ceil(Number((be==null?void 0:be.durationMS)||0)/5e3)),at=Math.max(Al.length,ke),Kt=Array.from({length:at},(dn,tr)=>({label:`${tr*5}s-${(tr+1)*5}s`,value:Number(Al[tr]||0)})),zn=Kt.map(dn=>dn.label);return{title:`Fight Breakdown - ${Re.shortLabel||"Fight"} (5s Damage Buckets)`,data:Kt,downLabels:Ts(zn,Tt),deathLabels:Ts(zn,It),downIndices:Fc.length>0?Fc.filter(dn=>dn<Kt.length):Os(Kt.length,Tt),deathIndices:Lc.length>0?Lc.filter(dn=>dn<Kt.length):Os(Kt.length,It)}}const Or=Re.shortLabel||"Fight";if(!be||!Array.isArray(be.players))return{title:`Fight Breakdown - ${Or}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const k2=be.players.find(ke=>String((ke==null?void 0:ke.account)||(ke==null?void 0:ke.name)||"Unknown")===Dt&&String((ke==null?void 0:ke.profession)||"Unknown")===un);if(!k2)return{title:`Fight Breakdown - ${Or}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Rc=k2,fR=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const at=[];for(let Kt=0;Kt<ke.length;Kt+=1){const zn=Number(ke[Kt]||0),dn=Kt>0?Number(ke[Kt-1]||0):0;at.push(Math.max(0,zn-dn))}return at},S2=ke=>{if(!Array.isArray(ke))return[];const at=ke.reduce((zn,dn)=>Math.max(zn,Array.isArray(dn)?dn.length:0),0);if(at<=0)return[];const Kt=new Array(at).fill(0);return ke.forEach(zn=>{if(Array.isArray(zn))for(let dn=0;dn<at;dn+=1)Kt[dn]+=Number(zn[dn]||0)}),Kt},pR=ke=>Array.isArray(ke)?ke.map(at=>Number(at||0)):null,mR=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const at=ke[0];if(!Array.isArray(at))return null;if(Array.isArray(at[0])&&Array.isArray(at[0][0]))return S2(at);if(Array.isArray(at[0])&&!Array.isArray(at[0][0])){const Kt=ke.map(zn=>pR(Array.isArray(zn)?zn[0]:null)).filter(zn=>Array.isArray(zn)&&zn.length>0);if(Kt.length>0)return S2(Kt)}return null})(Rc==null?void 0:Rc.targetDamage1S),N2=Array.isArray(Rc==null?void 0:Rc.damage1S)&&Array.isArray(Rc.damage1S[0])?Rc.damage1S[0]:null,hR=mR||(Array.isArray(N2)?N2.map(ke=>Number(ke||0)):[]),Sy=fR(hR),cd=5,gR=Math.max(0,Math.ceil(Number((be==null?void 0:be.durationMS)||0)/(cd*1e3))),yR=Math.max(0,Math.ceil(Sy.length/cd)),vR=Math.max(gR,yR),ud=[];for(let ke=0;ke<vR;ke+=1){const at=ke*cd,Kt=Math.min(at+cd,Sy.length),zn=Sy.slice(at,Kt).reduce((dn,tr)=>dn+Number(tr||0),0);ud.push({label:`${at}s-${at+cd}s`,value:zn})}const j2=ud.map(ke=>ke.label);return{title:`Fight Breakdown - ${Or} (5s Damage Buckets)`,data:ud,downLabels:Ts(j2,Tt),deathLabels:Ts(j2,It),downIndices:Os(ud.length,Tt),deathIndices:Os(ud.length,It)}},[Xt,ca,We,e,xa.fights,Ps]),zo=y.useMemo(()=>{const q=new Map;return Rn.players.forEach(se=>q.set(se.key,se)),q},[Rn.players]),jl=y.useMemo(()=>{const q=xe=>it==="hit"?xe.peakHit:it==="1s"?xe.peak1s:it==="5s"?xe.peak5s:xe.peak30s,se=Bo.trim().toLowerCase(),me=se?Rn.players.filter(xe=>xe.displayName.toLowerCase().includes(se)||xe.account.toLowerCase().includes(se)||xe.profession.toLowerCase().includes(se)):Rn.players,He=new Map;return me.forEach(xe=>{const et=xe.profession||"Unknown",ie=He.get(et)||[];ie.push(xe),He.set(et,ie)}),Array.from(He.entries()).map(([xe,et])=>({profession:xe,players:[...et].sort((ie,qe)=>q(qe)-q(ie)||ie.displayName.localeCompare(qe.displayName))})).sort((xe,et)=>xe.profession.localeCompare(et.profession))},[Rn.players,Bo,it]),Cl=gt&&zo.get(gt)||null,wa=y.useMemo(()=>{if(!gt)return[];const q=me=>me?Number(it==="hit"?me.hit||0:it==="1s"?me.burst1s||0:it==="5s"?me.burst5s||0:me.burst30s||0):0,se=me=>Number(it==="hit"?me.maxHit||0:it==="1s"?me.max1s||0:it==="5s"?me.max5s||0:me.max30s||0);return Rn.fights.map((me,He)=>{var xe;return{index:He,fightId:me.id,shortLabel:me.shortLabel,fullLabel:me.fullLabel,timestamp:Number(me.timestamp||0),damage:q(me.values[gt]),maxDamage:se(me),skillName:String(((xe=me.values[gt])==null?void 0:xe.skillName)||"")}})},[Rn.fights,gt,it]),A6=y.useMemo(()=>{const q=wa.reduce((me,He)=>Math.max(me,Number(He.damage||0)),0),se=wa.reduce((me,He)=>Math.max(me,Number(He.maxDamage||0)),0);return Math.max(1,q,se)},[wa]),Up=y.useMemo(()=>{var q,se,me,He,xe,et,ie,qe;const cn=_e===null?null:wa.find(lt=>lt.index===_e)||null;if(!cn||!gt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Re=Rn.fights.find((lt,be)=>String(lt.id||"")===String(cn.fightId||"")||be===cn.index)||null,Et=Array.isArray((se=(q=Re==null?void 0:Re.values)==null?void 0:q[gt])==null?void 0:se.buckets5s)?((He=(me=Re==null?void 0:Re.values)==null?void 0:me[gt])==null?void 0:He.buckets5s)||[]:[],Dt=Array.isArray((et=(xe=Re==null?void 0:Re.values)==null?void 0:xe[gt])==null?void 0:et.downIndices5s)?Re.values[gt].downIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[],un=Array.isArray((qe=(ie=Re==null?void 0:Re.values)==null?void 0:ie[gt])==null?void 0:qe.deathIndices5s)?Re.values[gt].deathIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[];if(Et.length>0){const lt=Et.map((be,jt)=>({label:`${jt*5}s-${(jt+1)*5}s`,value:Number(be||0)}));return{title:`Fight Breakdown - ${cn.shortLabel||"Fight"} (5s Damage Buckets)`,data:lt,downLabels:[],deathLabels:[],downIndices:Dt.filter(be=>be<lt.length),deathIndices:un.filter(be=>be<lt.length)}}return{title:`Fight Breakdown - ${cn.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[_e,wa,gt,Rn.fights]),P6=y.useMemo(()=>{var q,se;if(_e===null||!gt)return[];const me=wa.find(xe=>xe.index===_e);if(!me)return[];const He=Rn.fights.find((xe,et)=>String(xe.id||"")===String(me.fightId||"")||et===me.index);return[...((se=(q=He==null?void 0:He.values)==null?void 0:q[gt])==null?void 0:se.skillRows)||[]].filter(xe=>Number((xe==null?void 0:xe.damage)||0)>0).sort((xe,et)=>Number(et.damage||0)-Number(xe.damage||0)).slice(0,30)},[_e,gt,wa,Rn.fights]),E6=y.useMemo(()=>{var q,se;if(Xt===null||!We)return[];const me=ca.find(xe=>xe.index===Xt);if(!me)return[];const He=xa.fights.find((xe,et)=>String(xe.id||"")===String(me.fightId||"")||et===me.index);return[...((se=(q=He==null?void 0:He.values)==null?void 0:q[We])==null?void 0:se.skillRows)||[]].filter(xe=>Number((xe==null?void 0:xe.damage)||0)>0).sort((xe,et)=>Number(et.damage||0)-Number(xe.damage||0)).slice(0,30)},[Xt,We,ca,xa.fights]);y.useEffect(()=>{if(ln.length===0){ba!==null&&Ec(null),li!==null&&bo(null);return}if(!ba||!la.has(ba)){const q=ln[0].key;Ec(q),Nl(null)}},[ln,la,ba,li]),y.useEffect(()=>{if(!Ia||Ia.skills.length===0){li!==null&&bo(null);return}const q=Ia.skills.some(se=>se.id===li);(!li||!q)&&bo(Ia.skills[0].id)},[Ia,li]),y.useEffect(()=>{if(ci.length===0){Ve!==null&&dt(null),wn!==null&&Ln(null);return}if(!Ve||!Dc.has(Ve)){const q=ci[0].profession;dt(q),bn(null)}},[ci,Dc,Ve,wn]),y.useEffect(()=>{if(!Ci||Ci.skills.length===0){wn!==null&&Ln(null);return}const q=Ci.skills.some(se=>se.id===wn);(!wn||!q)&&Ln(Ci.skills[0].id)},[Ci,wn]),y.useEffect(()=>{if(xa.players.length===0){We!==null&&rt(null);return}(!We||!Ps.has(We))&&We!==null&&rt(null)},[xa.players,Ps,We]),y.useEffect(()=>{yn(null)},[We,rn]),y.useEffect(()=>{Xt!==null&&(ca.some(q=>q.index===Xt)||yn(null))},[ca,Xt]),y.useEffect(()=>{if(Rn.players.length===0){gt!==null&&ae(null);return}(!gt||!zo.has(gt))&&gt!==null&&ae(null)},[Rn.players,zo,gt]),y.useEffect(()=>{Qe(null)},[gt,it]),y.useEffect(()=>{_e!==null&&(wa.some(q=>q.index===_e)||Qe(null))},[wa,_e]);const T6=y.useMemo(()=>new Set(Ie),[Ie]),{playerMapByKey:Uo,playerTotalsForSkill:_c,skillChartData:O6,skillChartMaxY:D6,groupedSkillUsagePlayers:I6}=X8({skillUsageData:ee,selectedSkillId:pe,selectedPlayers:T6,skillUsageView:qt==="perSecond"?"perSecond":"total"}),f2=y.useMemo(()=>{const q=new Map,se=et=>{et.forEach(ie=>{const qe=qc(ie==null?void 0:ie.name)||(ie==null?void 0:ie.name);qe&&ie!=null&&ie.icon&&!q.has(qe)&&q.set(qe,ie.icon)})},me=et=>{et.forEach(ie=>{Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([qe,cn])=>{const Re=qc(qe)||qe;cn!=null&&cn.icon&&!q.has(Re)&&q.set(Re,cn.icon)})})},He=et=>{const ie=new Map;return et.forEach(qe=>{const cn=qc(qe==null?void 0:qe.name)||(qe==null?void 0:qe.name);if(!cn)return;const Re=ie.get(cn)||{name:cn,icon:(qe==null?void 0:qe.icon)||q.get(cn)||um(cn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Re.applications+=Number((qe==null?void 0:qe.applications)||0),Re.damage+=Number((qe==null?void 0:qe.damage)||0),qe!=null&&qe.applicationsFromUptime&&(Re.applicationsFromUptime+=Number(qe.applicationsFromUptime||0)),qe!=null&&qe.applicationsFromBuffs&&(Re.applicationsFromBuffs+=Number(qe.applicationsFromBuffs||0)),qe!=null&&qe.applicationsFromBuffsActive&&(Re.applicationsFromBuffsActive+=Number(qe.applicationsFromBuffsActive||0)),!Re.icon&&qe!=null&&qe.icon&&(Re.icon=qe.icon),Re.icon||(Re.icon=um(cn)),ie.set(cn,Re)}),Array.from(ie.values())},xe=et=>et.map(ie=>{const qe={};return Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([cn,Re])=>{const Et=qc(cn)||cn;if(!Et)return;const Dt=qe[Et]||{icon:(Re==null?void 0:Re.icon)||q.get(Et)||um(Et),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Dt.applications+=Number((Re==null?void 0:Re.applications)||0),Dt.damage+=Number((Re==null?void 0:Re.damage)||0),Re!=null&&Re.applicationsFromUptime&&(Dt.applicationsFromUptime+=Number(Re.applicationsFromUptime||0)),Re!=null&&Re.applicationsFromBuffs&&(Dt.applicationsFromBuffs+=Number(Re.applicationsFromBuffs||0)),Re!=null&&Re.applicationsFromBuffsActive&&(Dt.applicationsFromBuffsActive+=Number(Re.applicationsFromBuffsActive||0)),!Dt.icon&&Re!=null&&Re.icon&&(Dt.icon=Re.icon),Dt.icon||(Dt.icon=um(Et)),Object.values((Re==null?void 0:Re.skills)||{}).forEach(un=>{const lt=(un==null?void 0:un.name)||"Unknown",be=Dt.skills[lt]||{name:lt,hits:0,damage:0,icon:un==null?void 0:un.icon};be.hits+=Number((un==null?void 0:un.hits)||0),be.damage+=Number((un==null?void 0:un.damage)||0),!be.icon&&un!=null&&un.icon&&(be.icon=un.icon),Dt.skills[lt]=be}),qe[Et]=Dt}),{...ie,conditions:qe}});return(et,ie)=>(se(et),me(ie),{summary:He(et),players:xe(ie)})},[]),p2=ue==="outgoing"?I.outgoingConditionSummary:I.incomingConditionSummary,m2=ue==="outgoing"?I.outgoingConditionPlayers:I.incomingConditionPlayers,{summary:Vp,players:_6}=y.useMemo(()=>f2(p2||[],m2||[]),[f2,p2,m2]);y.useEffect(()=>{if(nt==="all"||Vp.some(se=>se.name===nt))return;const q=qc(nt);q&&Vp.some(se=>se.name===q)?Wt(q):Wt("all")},[nt,Vp,Wt]);const F6=y.useMemo(()=>{const q={};return _c.forEach((se,me)=>{const He=Uo.get(me);if(!He)return;const xe=He.profession;(!q[xe]||se>q[xe])&&(q[xe]=se)}),q},[_c,Uo]),En=y.useCallback(q=>d?d(q):!0,[d]),Zn=y.useCallback((q,se)=>{const me=En(q);return`${se} transition-[opacity,transform] duration-700 ease-in-out ${me?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[En]),h2=y.useMemo(()=>Dae.find(q=>En(q))||null,[En]),Jn=y.useCallback(q=>q===h2,[h2]),L6=y.useMemo(()=>{const q=new Map,se=new Map;return Ie.forEach(me=>{const He=Uo.get(me);if(!He)return;const xe=_c.get(me)??0,et=se.get(He.profession)||[];et.push({key:me,total:xe}),se.set(He.profession,et)}),se.forEach(me=>{me.sort((He,xe)=>xe.total-He.total),me.forEach((He,xe)=>{q.set(He.key,xe)})}),q},[Ie,Uo,_c]),g2=["0","12 3","8 3","6 3","4 3","2 3"],R6=q=>{const se=Uo.get(q),me=ec((se==null?void 0:se.profession)||""),He=_c.get(q)??0,xe=se!=null&&se.profession&&F6[se.profession]||1,et=.35+(xe>0?He/xe:1)*.65;return Wp(me,et)},$6=q=>{const se=L6.get(q)??0;return g2[se%g2.length]},B6=(q,se,me)=>{if(!me)return R6(q);const He=Uo.get(q),xe=ec((He==null?void 0:He.profession)||"");return se?Wp(xe,1.2):Wp(xe,.5)},Wp=(q,se)=>{const me=q.replace("#","");if(me.length!==6)return q;const He=Re=>Math.max(0,Math.min(255,Re)),xe=Re=>Number.parseInt(me.slice(Re,Re+2),16),et=Re=>He(Math.round(Re)).toString(16).padStart(2,"0"),ie=xe(0),qe=xe(2),cn=xe(4);return`#${et(ie*se)}${et(qe*se)}${et(cn*se)}`},y2=y.useMemo(()=>{const q=new Map;return ee.skillOptions.forEach(se=>{q.set(se.id,{name:se.name,icon:se.icon})}),q},[ee.skillOptions]),ld=y.useMemo(()=>{var q;if(Ie.length===0)return[];const se=new Map,me=new Map;let He=0;Ie.forEach(Re=>{const Et=Uo.get(Re);if(!Et)return;He+=Et.totalActiveSeconds||0,Object.entries(Et.skillTotals||{}).forEach(([un,lt])=>{se.set(un,(se.get(un)||0)+Number(lt||0))});const Dt=Et.profession||"Unknown";me.set(Dt,(me.get(Dt)||0)+(Et.totalActiveSeconds||0))});const xe=we.trim().toLowerCase(),et=qt==="perSecond",ie=((q=Array.from(me.entries()).sort((Re,Et)=>Et[1]-Re[1])[0])==null?void 0:q[0])||"Unknown",qe=ec(ie),cn="#64748b";return Array.from(se.entries()).map(([Re,Et])=>{const Dt=y2.get(Re),un=(Dt==null?void 0:Dt.name)||Re,lt=et&&He>0?Et/He:Et;return{skillId:Re,name:un,icon:Dt==null?void 0:Dt.icon,total:lt}}).filter(Re=>Re.total>0&&(!xe||Re.name.toLowerCase().includes(xe))).sort((Re,Et)=>Et.total-Re.total).map((Re,Et)=>({...Re,color:Et===0?qe:Wp(qe,.85-Math.min(Et*.06,.4))||cn}))},[Ie,Uo,we,qt,y2]);y.useEffect(()=>{if(ld.length===0){pe!==null&&Me(null);return}(!pe||!ld.some(q=>q.skillId===pe))&&Me(ld[0].skillId)},[ld,pe,Me]);const Hp=ee.skillOptions.find(q=>q.id===pe),z6=(Hp==null?void 0:Hp.name)||"",U6=(Hp==null?void 0:Hp.icon)||null,V6=w&&!!pe&&Ie.length>0,qp="__all__",W6=w&&jn.length>0,Es=y.useMemo(()=>jn.find(q=>q.profession===Vt)??null,[jn,Vt]),H6=ea===qp,q6=y.useMemo(()=>{var q;return((q=Es==null?void 0:Es.skills)==null?void 0:q.find(se=>se.id===ea))??null},[Es,ea]);y.useEffect(()=>{if(jn.length===0){Vt!==null&&vn(null),jr!==null&&Jr(null);return}if(!Vt||!jn.some(q=>q.profession===Vt)){const q=jn[0].profession;vn(q),Jr(null)}},[jn,Vt,jr]),y.useEffect(()=>{if(!Es||Es.skills.length===0){ea!==null&&Yi(null);return}const q=Es.skills.some(se=>se.id===ea);(!ea||!q&&ea!==qp)&&Yi(qp)},[Es,ea]);const K6=q=>{kt(se=>se.includes(q)?se.filter(me=>me!==q):[...se,q])},Y6=q=>{kt(se=>se.filter(me=>me!==q))},G6=y.useMemo(()=>{const q=Te.trim().toLowerCase(),se=I.boonTables||[];return q?se.filter(me=>me.name.toLowerCase().includes(q)):se},[I.boonTables,Te]),X6=y.useMemo(()=>Ae?(I.boonTables||[]).find(q=>q.id===Ae)??null:null,[I.boonTables,Ae]),Q6=y.useMemo(()=>{const q=Sr.trim().toLowerCase(),se=[...I.specialTables||[]].sort((me,He)=>me.name.localeCompare(He.name));return q?se.filter(me=>me.name.toLowerCase().includes(q)):se},[I.specialTables,Sr]),Gi=y.useMemo(()=>[...I.specialTables||[]].filter(q=>/\b(sigil|relic)\b/i.test(String((q==null?void 0:q.name)||""))).sort((q,se)=>q.name.localeCompare(se.name)),[I.specialTables]),Z6=y.useMemo(()=>{const q=Zr.trim().toLowerCase();return q?Gi.filter(se=>se.name.toLowerCase().includes(q)):Gi},[Gi,Zr]),J6=y.useMemo(()=>tn?(I.specialTables||[]).find(q=>q.id===tn)??null:null,[I.specialTables,tn]),eR=y.useMemo(()=>Hn?Gi.find(q=>q.id===Hn)??null:null,[Gi,Hn]);y.useEffect(()=>{!I.boonTables||I.boonTables.length===0||(!Ae||!I.boonTables.some(q=>q.id===Ae))&&ct(I.boonTables[0].id)},[I.boonTables,Ae]),y.useEffect(()=>{!I.specialTables||I.specialTables.length===0||(!tn||!I.specialTables.some(q=>q.id===tn))&&fn(I.specialTables[0].id)},[I.specialTables,tn]),y.useEffect(()=>{if(!Gi||Gi.length===0){Hn!==null&&zr(null);return}(!Hn||!Gi.some(q=>q.id===Hn))&&zr(Gi[0].id)},[Gi,Hn]),y.useEffect(()=>{const q=()=>{const me=window.getSelection();me&&me.rangeCount>0&&me.removeAllRanges()},se=me=>{var He;const xe=me.target;(He=xe==null?void 0:xe.closest)!=null&&He.call(xe,".recharts-wrapper")&&(me.preventDefault(),q())};return document.addEventListener("selectstart",se),document.addEventListener("mousedown",se),document.addEventListener("mousemove",se),document.addEventListener("dragstart",se),()=>{document.removeEventListener("selectstart",se),document.removeEventListener("mousedown",se),document.removeEventListener("mousemove",se),document.removeEventListener("dragstart",se)}},[]);const qa=q=>{tt.current&&(window.clearTimeout(tt.current),tt.current=null),_t(!1),$t(q)},ka=()=>{ze&&(tt.current&&window.clearTimeout(tt.current),_t(!0),tt.current=window.setTimeout(()=>{$t(null),_t(!1),tt.current=null},160))};y.useEffect(()=>{if(!ze)return;const q=He=>{He.key==="Escape"&&ka()},se=document.body.style.overflow,me=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",q),()=>{window.removeEventListener("keydown",q),document.body.style.overflow=se,document.documentElement.style.overflow=me}},[ze]);const v2=(q,se)=>{const me=((se==null?void 0:se.value)||0)-((q==null?void 0:q.value)||0);return me!==0?me:String((q==null?void 0:q.name)||"").localeCompare(String((se==null?void 0:se.name)||""))},b2=Array.isArray(I==null?void 0:I.squadClassData)?I.squadClassData:[],x2=Array.isArray(I==null?void 0:I.enemyClassData)?I.enemyClassData:[],tR=Array.isArray(I==null?void 0:I.attendanceData)?I.attendanceData:[],ky=Array.isArray(I==null?void 0:I.squadCompByFight)?I.squadCompByFight:[],w2=Array.isArray(I==null?void 0:I.fightBreakdown)?I.fightBreakdown:[],nR=y.useMemo(()=>{const q=new Map;return w2.forEach(se=>{const me=String((se==null?void 0:se.id)||"");me&&q.set(me,se)}),ky.map(se=>{const me=q.get(String((se==null?void 0:se.id)||""))||null;return{...se,enemyClassCounts:(me==null?void 0:me.enemyClassCounts)||{}}})},[ky,w2]),rR=y.useMemo(()=>[...b2].sort(v2),[b2]),aR=y.useMemo(()=>[...x2].sort(v2),[x2]),iR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-6xl mx-auto overflow-hidden",oR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${ze?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${ze?"":"backdrop-blur-2xl"}`,sR=c&&p!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,lR=q=>qt==="perSecond"?q.toFixed(1):Math.round(q).toLocaleString(),cR=q=>q.toFixed(1),uR=q=>Math.round(q).toLocaleString(),dR=q=>typeof q=="number"&&Number.isFinite(q)?q.toFixed(1):"0.0",_a=Zre;return u.jsxs("div",{className:iR,children:[ze&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Nt?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ka}),u.jsx(Aae,{embedded:c,dashboardTitle:f,totalLogs:I.total,onBack:t,devMockAvailable:X,devMockUploadState:J,onDevMockUpload:z,uploadingWeb:P,onWebUpload:te,sharing:L,canShareDiscord:m,onShare:oe}),u.jsx(Pae,{embedded:c,webUploadMessage:_,webUploadUrl:E,webUploadBuildStatus:G,webCopyStatus:fe,setWebCopyStatus:F}),u.jsx(Eae,{embedded:c,devMockAvailable:X,devMockUploadState:J}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:K,className:`${oR} ${c?"":"flex-1"}`,style:sR,children:[u.jsxs(u.Fragment,{children:[u.jsx(mae,{stats:I,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(hae,{stats:I,fightBreakdownTab:Ht,setFightBreakdownTab:vt,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(vae,{stats:I,showTopStats:k,showMvp:S,topStatsMode:j,expandedLeader:le,setExpandedLeader:Ke,formatTopStatValue:Fs,formatWithCommas:Oi,isMvpStatEnabled:Je,renderProfessionIcon:_a,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(bae,{stats:I,topSkillsMetric:R,onTopSkillsMetricChange:$,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(xae,{sortedSquadClassData:rR,sortedEnemyClassData:aR,getProfessionIconPath:Hl,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(Sae,{attendanceRows:tR,getProfessionIconPath:Hl,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(jae,{fights:ky,getProfessionIconPath:Hl,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(Mae,{fights:nR,getProfessionIconPath:Hl,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(wae,{timelineData:I.timelineData,timelineFriendlyScope:Ge,setTimelineFriendlyScope:mt,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(kae,{mapData:I.mapData,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(rae,{stats:I,OFFENSE_METRICS:GT,roundCountStats:C,offenseSearch:sn,setOffenseSearch:va,activeOffenseStat:Pt,setActiveOffenseStat:pt,offenseViewMode:Z,setOffenseViewMode:Se,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(nae,{expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No,viewMode:Tc,setViewMode:Ee,playerSkillBreakdowns:ln,classSkillBreakdowns:ci,activePlayerKey:ba,setActivePlayerKey:Ec,expandedPlayerKey:Bp,setExpandedPlayerKey:Nl,activePlayerSkillId:li,setActivePlayerSkillId:bo,activeClassKey:Ve,setActiveClassKey:dt,expandedClassKey:Bt,setExpandedClassKey:bn,activeClassSkillId:wn,setActiveClassSkillId:Ln,skillSearch:od,setSkillSearch:xo,activePlayerBreakdown:Ia,activePlayerSkill:Oc,activeClassBreakdown:Ci,activeClassSkill:zp,renderProfessionIcon:_a}),u.jsx(IA,{expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,spikePlayerFilter:Ms,setSpikePlayerFilter:kl,groupedSpikePlayers:sd,spikeMode:rn,setSpikeMode:gr,selectedSpikePlayerKey:We,setSelectedSpikePlayerKey:rt,selectedSpikePlayer:Mi,spikeChartData:ca,spikeChartMaxY:Ic,selectedSpikeFightIndex:Xt,setSelectedSpikeFightIndex:yn,spikeDrilldownTitle:ua.title,spikeDrilldownData:ua.data,spikeDrilldownDownIndices:ua.downIndices,spikeDrilldownDeathIndices:ua.deathIndices,spikeFightSkillRows:E6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:Oi,renderProfessionIcon:_a}),u.jsx(aae,{conditionSummary:Vp,conditionPlayers:_6,conditionSearch:Ac,setConditionSearch:wl,activeConditionName:nt,setActiveConditionName:Wt,conditionDirection:ue,setConditionDirection:Ce,conditionGridClass:Vr,effectiveConditionSort:Sl,setConditionSort:hr,showConditionDamage:Nr,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(oae,{stats:I,DEFENSE_METRICS:XT,defenseSearch:nn,setDefenseSearch:Er,activeDefenseStat:mn,setActiveDefenseStat:On,defenseViewMode:De,setDefenseViewMode:ut,roundCountStats:C,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(IA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,spikePlayerFilter:Bo,setSpikePlayerFilter:H,groupedSpikePlayers:jl,spikeMode:it,setSpikeMode:Pe,selectedSpikePlayerKey:gt,setSelectedSpikePlayerKey:ae,selectedSpikePlayer:Cl,spikeChartData:wa,spikeChartMaxY:A6,selectedSpikeFightIndex:_e,setSelectedSpikeFightIndex:Qe,spikeDrilldownTitle:Up.title,spikeDrilldownData:Up.data,spikeDrilldownDownIndices:Up.downIndices,spikeDrilldownDeathIndices:Up.deathIndices,spikeFightSkillRows:P6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:Oi,renderProfessionIcon:_a}),u.jsx(sae,{stats:I,DAMAGE_MITIGATION_METRICS:XB,damageMitigationSearch:Ur,setDamageMitigationSearch:id,activeDamageMitigationStat:sr,setActiveDamageMitigationStat:Le,damageMitigationViewMode:wt,setDamageMitigationViewMode:ht,damageMitigationScope:Ut,setDamageMitigationScope:Gt,roundCountStats:C,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(iae,{stats:I,activeBoonCategory:en,setActiveBoonCategory:q=>Pn(q),activeBoonMetric:Br,setActiveBoonMetric:ce,activeBoonTab:Ae,setActiveBoonTab:ct,activeBoonTable:X6,filteredBoonTables:G6,boonSearch:Te,setBoonSearch:ft,formatBoonMetricDisplay:x8,getBoonMetricValue:yO,renderProfessionIcon:_a,roundCountStats:C,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(lae,{stats:I,SUPPORT_METRICS:QT,supportSearch:Ye,setSupportSearch:Ft,activeSupportStat:vy,setActiveSupportStat:by,supportViewMode:zt,setSupportViewMode:Nn,cleanseScope:Dn,setCleanseScope:Xe,roundCountStats:C,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(cae,{stats:I,HEALING_METRICS:QB,activeHealingMetric:xy,setActiveHealingMetric:wy,healingCategory:O,setHealingCategory:V,activeResUtilitySkill:ne,setActiveResUtilitySkill:je,skillUsageData:ee,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn}),u.jsx(dae,{stats:I,specialSearch:Sr,setSpecialSearch:or,filteredSpecialTables:Q6,activeSpecialTab:tn,setActiveSpecialTab:fn,activeSpecialTable:J6,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(pae,{hasSigilRelicTables:Gi.length>0,sigilRelicSearch:Zr,setSigilRelicSearch:gn,filteredSigilRelicTables:Z6,activeSigilRelicTab:Hn,setActiveSigilRelicTab:zr,activeSigilRelicTable:eR,formatWithCommas:Oi,renderProfessionIcon:_a,expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No}),u.jsx(Jre,{expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,selectedPlayers:Ie,setSelectedPlayers:kt,removeSelectedPlayer:Y6,playerMapByKey:Uo,groupedSkillUsagePlayers:I6,expandedSkillUsageClass:Oe,setExpandedSkillUsageClass:ge,togglePlayerSelection:K6,skillUsagePlayerFilter:ve,setSkillUsagePlayerFilter:Ne,skillUsageView:qt,setSkillUsageView:Lt,skillUsageData:ee,skillUsageSkillFilter:we,setSkillUsageSkillFilter:Be,selectedSkillId:pe,setSelectedSkillId:Me,skillBarData:ld,selectedSkillName:z6,selectedSkillIcon:U6,skillUsageReady:V6,skillUsageAvailable:w,isSkillUsagePerSecond:At,skillChartData:O6,skillChartMaxY:D6,playerTotalsForSkill:_c,hoveredSkillPlayer:Ze,setHoveredSkillPlayer:yt,getLineStrokeColor:B6,getLineDashForPlayer:$6,formatSkillUsageValue:lR,renderProfessionIcon:_a}),u.jsx(tae,{expandedSection:ze,expandedSectionClosing:Nt,openExpandedSection:qa,closeExpandedSection:ka,isSectionVisible:En,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:No,apmSpecAvailable:W6,skillUsageAvailable:w,apmSpecTables:jn,activeApmSpec:Vt,setActiveApmSpec:vn,expandedApmSpec:jr,setExpandedApmSpec:Jr,activeApmSkillId:ea,setActiveApmSkillId:Yi,ALL_SKILLS_KEY:qp,apmSkillSearch:Pc,setApmSkillSearch:As,activeApmSpecTable:Es,activeApmSkill:q6,isAllApmSkills:H6,apmView:bt,setApmView:Mt,formatApmValue:dR,formatCastRateValue:cR,formatCastCountValue:uR,renderProfessionIcon:_a})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(Tae,{embedded:c,uiTheme:p,mobileNavOpen:A,setMobileNavOpen:N,tocGroups:U,tocItems:W,activeNavId:B,scrollToSection:Q,stepSection:D})]})}const _ae="Arcane",Fae="CRT",Jm="MatteSlate",eh={id:_ae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Lae={id:Jm,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Rae=[eh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],$ae={id:Fae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Ad=[...Rae,$ae,Lae];function Bae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const zae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Uae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vae={};function _A(e,t){return(Vae.jsx?Uae:zae).test(e)}const Wae=/[ \t\n\f\r]/g;function Hae(e){return typeof e=="object"?e.type==="text"?FA(e.value):!1:FA(e)}function FA(e){return e.replace(Wae,"")===""}class Dp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Dp.prototype.normal={};Dp.prototype.property={};Dp.prototype.space=void 0;function nF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Dp(n,r,t)}function Yx(e){return e.toLowerCase()}class si{constructor(t,n){this.attribute=n,this.property=t}}si.prototype.attribute="";si.prototype.booleanish=!1;si.prototype.boolean=!1;si.prototype.commaOrSpaceSeparated=!1;si.prototype.commaSeparated=!1;si.prototype.defined=!1;si.prototype.mustUseProperty=!1;si.prototype.number=!1;si.prototype.overloadedBoolean=!1;si.prototype.property="";si.prototype.spaceSeparated=!1;si.prototype.space=void 0;let qae=0;const Zt=jc(),Ir=jc(),Gx=jc(),$e=jc(),Un=jc(),ku=jc(),di=jc();function jc(){return 2**++qae}const Xx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Zt,booleanish:Ir,commaOrSpaceSeparated:di,commaSeparated:ku,number:$e,overloadedBoolean:Gx,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),jv=Object.keys(Xx);class CS extends si{constructor(t,n,r,a){let i=-1;if(super(t,n),LA(this,"space",a),typeof r=="number")for(;++i<jv.length;){const o=jv[i];LA(this,jv[i],(r&Xx[o])===Xx[o])}}}CS.prototype.defined=!0;function LA(e,t,n){n&&(e[t]=n)}function rd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new CS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Yx(r)]=r,n[Yx(i.attribute)]=r}return new Dp(t,n,e.space)}const rF=rd({properties:{ariaActiveDescendant:null,ariaAtomic:Ir,ariaAutoComplete:null,ariaBusy:Ir,ariaChecked:Ir,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:Ir,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:Ir,ariaFlowTo:Un,ariaGrabbed:Ir,ariaHasPopup:null,ariaHidden:Ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:$e,ariaLive:null,ariaModal:Ir,ariaMultiLine:Ir,ariaMultiSelectable:Ir,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:Ir,ariaReadOnly:Ir,ariaRelevant:null,ariaRequired:Ir,ariaRoleDescription:Un,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:Ir,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function aF(e,t){return t in e?e[t]:t}function iF(e,t){return aF(e,t.toLowerCase())}const Kae=rd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ku,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:Zt,allowPaymentRequest:Zt,allowUserMedia:Zt,alt:null,as:null,async:Zt,autoCapitalize:null,autoComplete:Un,autoFocus:Zt,autoPlay:Zt,blocking:Un,capture:null,charSet:null,checked:Zt,cite:null,className:Un,cols:$e,colSpan:null,content:null,contentEditable:Ir,controls:Zt,controlsList:Un,coords:$e|ku,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Zt,defer:Zt,dir:null,dirName:null,disabled:Zt,download:Gx,draggable:Ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Zt,formTarget:null,headers:Un,height:$e,hidden:Gx,high:$e,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:Zt,inputMode:null,integrity:null,is:null,isMap:Zt,itemId:null,itemProp:Un,itemRef:Un,itemScope:Zt,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Zt,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:Zt,muted:Zt,name:null,nonce:null,noModule:Zt,noValidate:Zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Zt,optimum:$e,pattern:null,ping:Un,placeholder:null,playsInline:Zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Zt,referrerPolicy:null,rel:Un,required:Zt,reversed:Zt,rows:$e,rowSpan:$e,sandbox:Un,scope:null,scoped:Zt,seamless:Zt,selected:Zt,shadowRootClonable:Zt,shadowRootDelegatesFocus:Zt,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:Ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:Zt,useMap:null,value:Ir,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Zt,declare:Zt,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:Zt,noHref:Zt,noShade:Zt,noWrap:Zt,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:Ir,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Zt,disableRemotePlayback:Zt,prefix:null,property:null,results:$e,security:null,unselectable:null},space:"html",transform:iF}),Yae=rd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:di,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:Zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ku,g2:ku,glyphName:ku,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:di,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:di,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:di,rev:di,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:di,requiredFeatures:di,requiredFonts:di,requiredFormats:di,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:di,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:di,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:di,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:aF}),oF=rd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),sF=rd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:iF}),lF=rd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Gae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Xae=/[A-Z]/g,RA=/-[a-z]/g,Qae=/^data[-\w.:]+$/i;function Zae(e,t){const n=Yx(t);let r=t,a=si;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qae.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(RA,eie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!RA.test(i)){let o=i.replace(Xae,Jae);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=CS}return new a(r,t)}function Jae(e){return"-"+e.toLowerCase()}function eie(e){return e.charAt(1).toUpperCase()}const tie=nF([rF,Kae,oF,sF,lF],"html"),MS=nF([rF,Yae,oF,sF,lF],"svg");function nie(e){return e.join(" ").trim()}var AS={},$A=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,rie=/\n/g,aie=/^\s*/,iie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,oie=/^:\s*/,sie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,lie=/^[;\s]*/,cie=/^\s+|\s+$/g,uie=`
`,BA="/",zA="*",Bl="",die="comment",fie="declaration";function pie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(rie);v&&(n+=v.length);var x=h.lastIndexOf(uie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),c(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var x=v[0];return a(x),e=e.slice(x.length),v}}function c(){l(aie)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(BA!=e.charAt(0)||zA!=e.charAt(1))){for(var v=2;Bl!=e.charAt(v)&&(zA!=e.charAt(v)||BA!=e.charAt(v+1));)++v;if(v+=2,Bl===e.charAt(v-1))return s("End of comment missing");var x=e.slice(2,v-2);return r+=2,a(x),e=e.slice(v),r+=2,h({type:die,comment:x})}}function p(){var h=i(),v=l(iie);if(v){if(f(),!l(oie))return s("property missing ':'");var x=l(sie),g=h({type:fie,property:UA(v[0].replace($A,Bl)),value:x?UA(x[0].replace($A,Bl)):Bl});return l(lie),g}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return c(),m()}function UA(e){return e?e.replace(cie,Bl):Bl}var mie=pie,hie=ih&&ih.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AS,"__esModule",{value:!0});AS.default=yie;const gie=hie(mie);function yie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,gie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.camelCase=void 0;var vie=/^--[a-zA-Z0-9_-]+$/,bie=/-([a-z])/g,xie=/^[^-]+$/,wie=/^-(webkit|moz|ms|o|khtml)-/,kie=/^-(ms)-/,Sie=function(e){return!e||xie.test(e)||vie.test(e)},Nie=function(e,t){return t.toUpperCase()},VA=function(e,t){return"".concat(t,"-")},jie=function(e,t){return t===void 0&&(t={}),Sie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(kie,VA):e=e.replace(wie,VA),e.replace(bie,Nie))};iy.camelCase=jie;var Cie=ih&&ih.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mie=Cie(AS),Aie=iy;function Qx(e,t){var n={};return!e||typeof e!="string"||(0,Mie.default)(e,function(r,a){r&&a&&(n[(0,Aie.camelCase)(r,t)]=a)}),n}Qx.default=Qx;var Pie=Qx;const Eie=ho(Pie),cF=uF("end"),PS=uF("start");function uF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Tie(e){const t=PS(e),n=cF(e);if(t&&n)return{start:t,end:n}}function Zd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?WA(e.position):"start"in e||"end"in e?WA(e):"line"in e||"column"in e?Zx(e):""}function Zx(e){return HA(e&&e.line)+":"+HA(e&&e.column)}function WA(e){return Zx(e&&e.start)+"-"+Zx(e&&e.end)}function HA(e){return e&&typeof e=="number"?e:1}class Da extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Zd(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Da.prototype.file="";Da.prototype.name="";Da.prototype.reason="";Da.prototype.message="";Da.prototype.stack="";Da.prototype.column=void 0;Da.prototype.line=void 0;Da.prototype.ancestors=void 0;Da.prototype.cause=void 0;Da.prototype.fatal=void 0;Da.prototype.place=void 0;Da.prototype.ruleId=void 0;Da.prototype.source=void 0;const ES={}.hasOwnProperty,Oie=new Map,Die=/[A-Z]/g,Iie=new Set(["table","tbody","thead","tfoot","tr"]),_ie=new Set(["td","th"]),dF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Fie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Wie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Vie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?MS:tie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=fF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function fF(e,t,n){if(t.type==="element")return Lie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Rie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Bie(e,t,n);if(t.type==="mdxjsEsm")return $ie(e,t);if(t.type==="root")return zie(e,t,n);if(t.type==="text")return Uie(e,t)}function Lie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=MS,e.schema=a),e.ancestors.push(t);const i=mF(e,t.tagName,!1),o=Hie(e,t);let s=OS(e,t);return Iie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Hae(l):!0})),pF(e,o,i,t),TS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Rie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}qf(e,t.position)}function $ie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);qf(e,t.position)}function Bie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=MS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:mF(e,t.name,!0),o=qie(e,t),s=OS(e,t);return pF(e,o,i,t),TS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function zie(e,t,n){const r={};return TS(r,OS(e,t)),e.create(t,e.Fragment,r,n)}function Uie(e,t){return t.value}function pF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function TS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Vie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Wie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=PS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Hie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&ES.call(t.properties,a)){const i=Kie(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&_ie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function qie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else qf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else qf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function OS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Oie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=fF(e,i,o);s!==void 0&&n.push(s)}return n}function Kie(e,t,n){const r=Zae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Bae(n):nie(n)),r.property==="style"){let a=typeof n=="object"?n:Yie(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Gie(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Gae[r.property]||r.property:r.attribute,n]}}function Yie(e,t){try{return Eie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Da("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=dF+"#cannot-parse-style-attribute",a}}function mF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=_A(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=_A(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return ES.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);qf(e)}function qf(e,t){const n=new Da("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=dF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Gie(e){const t={};let n;for(n in e)ES.call(e,n)&&(t[Xie(n)]=e[n]);return t}function Xie(e){let t=e.replace(Die,Qie);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Qie(e){return"-"+e.toLowerCase()}const Cv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zie={};function DS(e,t){const n=Zie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return hF(e,r,a)}function hF(e,t,n){if(Jie(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qA(e.children,t,n)}return Array.isArray(e)?qA(e,t,n):""}function qA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=hF(e[a],t,n);return r.join("")}function Jie(e){return!!(e&&typeof e=="object")}const KA=document.createElement("i");function IS(e){const t="&"+e+";";KA.innerHTML=t;const n=KA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function bi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Li(e,t){return e.length>0?(bi(e,e.length,0,t),e):t}const YA={}.hasOwnProperty;function gF(e){const t={};let n=-1;for(;++n<e.length;)eoe(t,e[n]);return t}function eoe(e,t){let n;for(n in t){const r=(YA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){YA.call(r,i)||(r[i]=[]);const o=a[i];toe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function toe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);bi(e,0,0,r)}function yF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function lo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ra=bl(/[A-Za-z]/),Ta=bl(/[\dA-Za-z]/),noe=bl(/[#-'*+\--9=?A-Z^-~]/);function Ag(e){return e!==null&&(e<32||e===127)}const Jx=bl(/\d/),roe=bl(/[\dA-Fa-f]/),aoe=bl(/[!-/:-@[-`{-~]/);function Ot(e){return e!==null&&e<-2}function _n(e){return e!==null&&(e<0||e===32)}function an(e){return e===-2||e===-1||e===32}const oy=bl(new RegExp("\\p{P}|\\p{S}","u")),xc=bl(/\s/);function bl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ad(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ta(e.charCodeAt(n+1))&&Ta(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function pn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return an(l)?(e.enter(n),s(l)):t(l)}function s(l){return an(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const ioe={tokenize:ooe};function ooe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),pn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ot(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const soe={tokenize:loe},GA={tokenize:coe};function loe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(k){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(k)}return c(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,j;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){j=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return bi(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(k)}return s(k)}function c(k){if(r===n.length){if(!a)return p(k);if(a.currentConstruct&&a.currentConstruct.concrete)return h(k);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(GA,d,f)(k)}function d(k){return a&&b(),g(r),p(k)}function f(k){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(k)}function p(k){return t.containerState={},e.attempt(GA,m,h)(k)}function m(k){return r++,n.push([t.currentConstruct,t.containerState]),p(k)}function h(k){if(k===null){a&&b(),g(0),e.consume(k);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(k)}function v(k){if(k===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(k);return}return Ot(k)?(e.consume(k),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(k),v)}function x(k,S){const C=t.sliceStream(k);if(S&&C.push(null),k.previous=i,i&&(i.next=k),i=k,a.defineSkip(k.start),a.write(C),t.parser.lazy[k.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<o&&(!a.events[j][1].end||a.events[j][1].end.offset>o))return;const M=t.events.length;let T=M,R,P;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(R){P=t.events[T][1].end;break}R=!0}for(g(r),j=M;j<t.events.length;)t.events[j][1].end={...P},j++;bi(t.events,T+1,0,t.events.slice(M)),t.events.length=j}}function g(k){let S=n.length;for(;S-- >k;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=k}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function coe(e,t,n){return pn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zu(e){if(e===null||_n(e)||xc(e))return 1;if(oy(e))return 2}function sy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const ew={name:"attention",resolveAll:uoe,tokenize:doe};function uoe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};XA(f,-l),XA(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Li(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Li(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=Li(c,sy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Li(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Li(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,bi(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function doe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=zu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=zu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function XA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const foe={name:"autolink",tokenize:poe};function poe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ra(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ta(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ta(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ag(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):noe(m)?(e.consume(m),c):n(m)}function d(m){return Ta(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ta(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Ip={partial:!0,tokenize:moe};function moe(e,t,n){return r;function r(i){return an(i)?pn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Ot(i)?t(i):n(i)}}const vF={continuation:{tokenize:goe},exit:yoe,name:"blockQuote",tokenize:hoe};function hoe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return an(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function goe(e,t,n){const r=this;return a;function a(o){return an(o)?pn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(vF,t,n)(o)}}function yoe(e){e.exit("blockQuote")}const bF={name:"characterEscape",tokenize:voe};function voe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return aoe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const xF={name:"characterReference",tokenize:boe};function boe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Ta,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=roe,d):(e.enter("characterReferenceValue"),i=7,o=Jx,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ta&&!IS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const QA={partial:!0,tokenize:woe},ZA={concrete:!0,name:"codeFenced",tokenize:xoe};function xoe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(j){return c(j)}function c(j){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),an(j)?pn(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Ot(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(QA,v,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Ot(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):an(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pn(e,m,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),p)}function m(j){return j===null||Ot(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Ot(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),h)}function v(j){return e.attempt(a,S,x)(j)}function x(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),g}function g(j){return i>0&&an(j)?pn(e,b,"linePrefix",i+1)(j):b(j)}function b(j){return j===null||Ot(j)?e.check(QA,v,S)(j):(e.enter("codeFlowValue"),k(j))}function k(j){return j===null||Ot(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),k)}function S(j){return e.exit("codeFenced"),t(j)}function C(j,M,T){let R=0;return P;function P(re){return j.enter("lineEnding"),j.consume(re),j.exit("lineEnding"),_}function _(re){return j.enter("codeFencedFence"),an(re)?pn(j,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):E(re)}function E(re){return re===s?(j.enter("codeFencedFenceSequence"),G(re)):T(re)}function G(re){return re===s?(R++,j.consume(re),G):R>=o?(j.exit("codeFencedFenceSequence"),an(re)?pn(j,X,"whitespace")(re):X(re)):T(re)}function X(re){return re===null||Ot(re)?(j.exit("codeFencedFence"),M(re)):T(re)}}}function woe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Mv={name:"codeIndented",tokenize:Soe},koe={partial:!0,tokenize:Noe};function Soe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),pn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Ot(c)?e.attempt(koe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Ot(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Noe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Ot(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):pn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ot(o)?a(o):n(o)}}const joe={name:"codeText",previous:Moe,resolve:Coe,tokenize:Aoe};function Coe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Moe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Aoe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Ot(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ot(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Poe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Pd(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pd(this.left,n.reverse())}}}function Pd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function wF(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Poe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Eoe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return bi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Eoe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,v=0;const x=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,x.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const Toe={resolve:Doe,tokenize:Ioe},Ooe={partial:!0,tokenize:_oe};function Doe(e){return wF(e),e}function Ioe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Ot(s)?e.check(Ooe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function _oe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),pn(e,i,"linePrefix")}function i(o){if(o===null||Ot(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function kF(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Ag(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||Ot(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function v(g){return!d&&(g===null||g===41||_n(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,v):g===41?(e.consume(g),d--,v):g===null||g===32||g===40||Ag(g)?n(g):(e.consume(g),g===92?x:v)}function x(g){return g===40||g===41||g===92?(e.consume(g),v):v(g)}}function SF(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Ot(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ot(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!an(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function NF(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Ot(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),pn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Ot(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Jd(e,t){let n;return r;function r(a){return Ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):an(a)?pn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Foe={name:"definition",tokenize:Roe},Loe={partial:!0,tokenize:$oe};function Roe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return SF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return _n(m)?Jd(e,c)(m):c(m)}function c(m){return kF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Loe,f,f)(m)}function f(m){return an(m)?pn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Ot(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function $oe(e,t,n){return r;function r(s){return _n(s)?Jd(e,a)(s):n(s)}function a(s){return NF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return an(s)?pn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ot(s)?t(s):n(s)}}const Boe={name:"hardBreakEscape",tokenize:zoe};function zoe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Ot(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Uoe={name:"headingAtx",resolve:Voe,tokenize:Woe};function Voe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},bi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Woe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||_n(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ot(d)?(e.exit("atxHeading"),t(d)):an(d)?pn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||_n(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Hoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],JA=["pre","script","style","textarea"],qoe={concrete:!0,name:"htmlFlow",resolveTo:Goe,tokenize:Xoe},Koe={partial:!0,tokenize:Zoe},Yoe={partial:!0,tokenize:Qoe};function Goe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Xoe(e,t,n){const r=this;let a,i,o,s,l;return c;function c(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),i=!0,v):N===63?(e.consume(N),a=3,r.interrupt?t:w):Ra(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function p(N){return N===45?(e.consume(N),a=2,m):N===91?(e.consume(N),a=5,s=0,h):Ra(N)?(e.consume(N),a=4,r.interrupt?t:w):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:w):n(N)}function h(N){const B="CDATA[";return N===B.charCodeAt(s++)?(e.consume(N),s===B.length?r.interrupt?t:E:h):n(N)}function v(N){return Ra(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function x(N){if(N===null||N===47||N===62||_n(N)){const B=N===47,K=o.toLowerCase();return!B&&!i&&JA.includes(K)?(a=1,r.interrupt?t(N):E(N)):Hoe.includes(o.toLowerCase())?(a=6,B?(e.consume(N),g):r.interrupt?t(N):E(N)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?b(N):k(N))}return N===45||Ta(N)?(e.consume(N),o+=String.fromCharCode(N),x):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:E):n(N)}function b(N){return an(N)?(e.consume(N),b):P(N)}function k(N){return N===47?(e.consume(N),P):N===58||N===95||Ra(N)?(e.consume(N),S):an(N)?(e.consume(N),k):P(N)}function S(N){return N===45||N===46||N===58||N===95||Ta(N)?(e.consume(N),S):C(N)}function C(N){return N===61?(e.consume(N),j):an(N)?(e.consume(N),C):k(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,M):an(N)?(e.consume(N),j):T(N)}function M(N){return N===l?(e.consume(N),l=null,R):N===null||Ot(N)?n(N):(e.consume(N),M)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||_n(N)?C(N):(e.consume(N),T)}function R(N){return N===47||N===62||an(N)?k(N):n(N)}function P(N){return N===62?(e.consume(N),_):n(N)}function _(N){return N===null||Ot(N)?E(N):an(N)?(e.consume(N),_):n(N)}function E(N){return N===45&&a===2?(e.consume(N),he):N===60&&a===1?(e.consume(N),Y):N===62&&a===4?(e.consume(N),$):N===63&&a===3?(e.consume(N),w):N===93&&a===5?(e.consume(N),ee):Ot(N)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Koe,A,G)(N)):N===null||Ot(N)?(e.exit("htmlFlowData"),G(N)):(e.consume(N),E)}function G(N){return e.check(Yoe,X,A)(N)}function X(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),re}function re(N){return N===null||Ot(N)?G(N):(e.enter("htmlFlowData"),E(N))}function he(N){return N===45?(e.consume(N),w):E(N)}function Y(N){return N===47?(e.consume(N),o="",I):E(N)}function I(N){if(N===62){const B=o.toLowerCase();return JA.includes(B)?(e.consume(N),$):E(N)}return Ra(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),I):E(N)}function ee(N){return N===93?(e.consume(N),w):E(N)}function w(N){return N===62?(e.consume(N),$):N===45&&a===2?(e.consume(N),w):E(N)}function $(N){return N===null||Ot(N)?(e.exit("htmlFlowData"),A(N)):(e.consume(N),$)}function A(N){return e.exit("htmlFlow"),t(N)}}function Qoe(e,t,n){const r=this;return a;function a(o){return Ot(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Zoe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ip,t,n)}}const Joe={name:"htmlText",tokenize:ese};function ese(e,t,n){const r=this;let a,i,o;return s;function s(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),l}function l(w){return w===33?(e.consume(w),c):w===47?(e.consume(w),C):w===63?(e.consume(w),k):Ra(w)?(e.consume(w),T):n(w)}function c(w){return w===45?(e.consume(w),d):w===91?(e.consume(w),i=0,h):Ra(w)?(e.consume(w),b):n(w)}function d(w){return w===45?(e.consume(w),m):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),p):Ot(w)?(o=f,Y(w)):(e.consume(w),f)}function p(w){return w===45?(e.consume(w),m):f(w)}function m(w){return w===62?he(w):w===45?p(w):f(w)}function h(w){const $="CDATA[";return w===$.charCodeAt(i++)?(e.consume(w),i===$.length?v:h):n(w)}function v(w){return w===null?n(w):w===93?(e.consume(w),x):Ot(w)?(o=v,Y(w)):(e.consume(w),v)}function x(w){return w===93?(e.consume(w),g):v(w)}function g(w){return w===62?he(w):w===93?(e.consume(w),g):v(w)}function b(w){return w===null||w===62?he(w):Ot(w)?(o=b,Y(w)):(e.consume(w),b)}function k(w){return w===null?n(w):w===63?(e.consume(w),S):Ot(w)?(o=k,Y(w)):(e.consume(w),k)}function S(w){return w===62?he(w):k(w)}function C(w){return Ra(w)?(e.consume(w),j):n(w)}function j(w){return w===45||Ta(w)?(e.consume(w),j):M(w)}function M(w){return Ot(w)?(o=M,Y(w)):an(w)?(e.consume(w),M):he(w)}function T(w){return w===45||Ta(w)?(e.consume(w),T):w===47||w===62||_n(w)?R(w):n(w)}function R(w){return w===47?(e.consume(w),he):w===58||w===95||Ra(w)?(e.consume(w),P):Ot(w)?(o=R,Y(w)):an(w)?(e.consume(w),R):he(w)}function P(w){return w===45||w===46||w===58||w===95||Ta(w)?(e.consume(w),P):_(w)}function _(w){return w===61?(e.consume(w),E):Ot(w)?(o=_,Y(w)):an(w)?(e.consume(w),_):R(w)}function E(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),a=w,G):Ot(w)?(o=E,Y(w)):an(w)?(e.consume(w),E):(e.consume(w),X)}function G(w){return w===a?(e.consume(w),a=void 0,re):w===null?n(w):Ot(w)?(o=G,Y(w)):(e.consume(w),G)}function X(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||_n(w)?R(w):(e.consume(w),X)}function re(w){return w===47||w===62||_n(w)?R(w):n(w)}function he(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function Y(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),I}function I(w){return an(w)?pn(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ee(w)}function ee(w){return e.enter("htmlTextData"),o(w)}}const _S={name:"labelEnd",resolveAll:ase,resolveTo:ise,tokenize:ose},tse={tokenize:sse},nse={tokenize:lse},rse={tokenize:cse};function ase(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&bi(e,0,e.length,n),e}function ise(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Li(s,e.slice(i+1,i+r+3)),s=Li(s,[["enter",d,t]]),s=Li(s,sy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Li(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Li(s,e.slice(o+1)),s=Li(s,[["exit",l,t]]),bi(e,i,e.length,s),e}function ose(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(lo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(tse,d,o?d:f)(p):p===91?e.attempt(nse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(rse,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function sse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return _n(f)?Jd(e,i)(f):i(f)}function i(f){return f===41?d(f):kF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return _n(f)?Jd(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?NF(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return _n(f)?Jd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function lse(e,t,n){const r=this;return a;function a(s){return SF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function cse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const use={name:"labelStartImage",resolveAll:_S.resolveAll,tokenize:dse};function dse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const fse={name:"labelStartLink",resolveAll:_S.resolveAll,tokenize:pse};function pse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Av={name:"lineEnding",tokenize:mse};function mse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pn(e,t,"linePrefix")}}const th={name:"thematicBreak",tokenize:hse};function hse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ot(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),an(c)?pn(e,s,"whitespace")(c):s(c))}}const Ga={continuation:{tokenize:bse},exit:wse,name:"list",tokenize:vse},gse={partial:!0,tokenize:kse},yse={partial:!0,tokenize:xse};function vse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Jx(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(th,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Jx(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ip,r.interrupt?n:d,e.attempt(gse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return an(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function bse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ip,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!an(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(yse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,pn(e,e.attempt(Ga,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function xse(e,t,n){const r=this;return pn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function wse(e){e.exit(this.containerState.type)}function kse(e,t,n){const r=this;return pn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!an(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const eP={name:"setextUnderline",resolveTo:Sse,tokenize:Nse};function Sse(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Nse(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),an(c)?pn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ot(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const jse={tokenize:Cse};function Cse(e){const t=this,n=e.attempt(Ip,r,e.attempt(this.parser.constructs.flowInitial,a,pn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Toe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Mse={resolveAll:CF()},Ase=jF("string"),Pse=jF("text");function jF(e){return{resolveAll:CF(e==="text"?Ese:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function CF(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Ese(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Tse={42:Ga,43:Ga,45:Ga,48:Ga,49:Ga,50:Ga,51:Ga,52:Ga,53:Ga,54:Ga,55:Ga,56:Ga,57:Ga,62:vF},Ose={91:Foe},Dse={[-2]:Mv,[-1]:Mv,32:Mv},Ise={35:Uoe,42:th,45:[eP,th],60:qoe,61:eP,95:th,96:ZA,126:ZA},_se={38:xF,92:bF},Fse={[-5]:Av,[-4]:Av,[-3]:Av,33:use,38:xF,42:ew,60:[foe,Joe],91:fse,92:[Boe,bF],93:_S,95:ew,96:joe},Lse={null:[ew,Mse]},Rse={null:[42,95]},$se={null:[]},Bse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rse,contentInitial:Ose,disable:$se,document:Tse,flow:Ise,flowInitial:Dse,insideSpan:Lse,string:_se,text:Fse},Symbol.toStringTag,{value:"Module"}));function zse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(j),consume:b,enter:k,exit:S,interrupt:M(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(_){return o=Li(o,_),x(),o[o.length-1]!==null?[]:(T(t,0),c.events=sy(i,c.events,c),c.events)}function p(_,E){return Vse(m(_),E)}function m(_){return Use(o,_)}function h(){const{_bufferIndex:_,_index:E,line:G,column:X,offset:re}=r;return{_bufferIndex:_,_index:E,line:G,column:X,offset:re}}function v(_){a[_.line]=_.column,P()}function x(){let _;for(;r._index<o.length;){const E=o[r._index];if(typeof E=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<E.length;)g(E.charCodeAt(r._bufferIndex));else g(E)}}function g(_){d=d(_)}function b(_){Ot(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,P()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=_}function k(_,E){const G=E||{};return G.type=_,G.start=h(),c.events.push(["enter",G,c]),s.push(G),G}function S(_){const E=s.pop();return E.end=h(),c.events.push(["exit",E,c]),E}function C(_,E){T(_,E.from)}function j(_,E){E.restore()}function M(_,E){return G;function G(X,re,he){let Y,I,ee,w;return Array.isArray(X)?A(X):"tokenize"in X?A([X]):$(X);function $(U){return W;function W(Q){const D=Q!==null&&U[Q],J=Q!==null&&U.null,fe=[...Array.isArray(D)?D:D?[D]:[],...Array.isArray(J)?J:J?[J]:[]];return A(fe)(Q)}}function A(U){return Y=U,I=0,U.length===0?he:N(U[I])}function N(U){return W;function W(Q){return w=R(),ee=U,U.partial||(c.currentConstruct=U),U.name&&c.parser.constructs.disable.null.includes(U.name)?K():U.tokenize.call(E?Object.assign(Object.create(c),E):c,l,B,K)(Q)}}function B(U){return _(ee,w),re}function K(U){return w.restore(),++I<Y.length?N(Y[I]):he}}}function T(_,E){_.resolveAll&&!i.includes(_)&&i.push(_),_.resolve&&bi(c.events,E,c.events.length-E,_.resolve(c.events.slice(E),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function R(){const _=h(),E=c.previous,G=c.currentConstruct,X=c.events.length,re=Array.from(s);return{from:X,restore:he};function he(){r=_,c.previous=E,c.currentConstruct=G,c.events.length=X,s=re,P()}}function P(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Use(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Vse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Wse(e){const t={constructs:gF([Bse,...(e||{}).extensions||[]]),content:n(ioe),defined:[],document:n(soe),flow:n(jse),lazy:{},string:n(Ase),text:n(Pse)};return t;function n(r){return a;function a(i){return zse(t,r,i)}}}function Hse(e){for(;!wF(e););return e}const tP=/[\0\t\n\r]/g;function qse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(tP.lastIndex=f,c=tP.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Kse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yse(e){return e.replace(Kse,Gse)}function Gse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return yF(n.slice(a?2:1),a?16:10)}return IS(n)||e}const MF={}.hasOwnProperty;function Xse(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Qse(n)(Hse(Wse(n).document().write(qse()(e,t,!0))))}function Qse(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(le),autolinkProtocol:R,autolinkEmail:R,atxHeading:i(L),blockQuote:i(J),characterEscape:R,characterReference:R,codeFenced:i(fe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(fe,o),codeText:i(F,o),codeTextData:R,data:R,codeFlowValue:R,definition:i(te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(z),hardBreakEscape:i(oe),hardBreakTrailing:i(oe),htmlFlow:i(ye,o),htmlFlowData:R,htmlText:i(ye,o),htmlTextData:R,image:i(Je),label:o,link:i(le),listItem:i(Ae),listItemValue:p,listOrdered:i(Ke,f),listUnordered:i(Ke),paragraph:i(ct),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(L),strong:i(en),thematicBreak:i(Br)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:D,autolinkProtocol:Q,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:U,characterReference:W,codeFenced:l(x),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:P,codeIndented:l(g),codeText:l(re),codeTextData:P,data:P,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:k,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(G),htmlFlowData:P,htmlText:l(X),htmlTextData:P,image:l(Y),label:ee,labelText:I,lineEnding:_,link:l(he),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:w,resourceTitleString:$,resource:A,setextHeading:l(T),setextHeadingLineSequence:M,setextHeadingText:j,strong:l(),thematicBreak:l()}};AF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ce){let Te={type:"root",children:[]};const ft={stack:[Te],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},tn=[];let fn=-1;for(;++fn<ce.length;)if(ce[fn][1].type==="listOrdered"||ce[fn][1].type==="listUnordered")if(ce[fn][0]==="enter")tn.push(fn);else{const Sr=tn.pop();fn=a(ce,Sr,fn)}for(fn=-1;++fn<ce.length;){const Sr=t[ce[fn][0]];MF.call(Sr,ce[fn][1].type)&&Sr[ce[fn][1].type].call(Object.assign({sliceSerialize:ce[fn][2].sliceSerialize},ft),ce[fn][1])}if(ft.tokenStack.length>0){const Sr=ft.tokenStack[ft.tokenStack.length-1];(Sr[1]||nP).call(ft,void 0,Sr[0])}for(Te.position={start:_s(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:_s(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},fn=-1;++fn<t.transforms.length;)Te=t.transforms[fn](Te)||Te;return Te}function a(ce,Te,ft){let tn=Te-1,fn=-1,Sr=!1,or,Hn,zr,Zr;for(;++tn<=ft;){const gn=ce[tn];switch(gn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gn[0]==="enter"?fn++:fn--,Zr=void 0;break}case"lineEndingBlank":{gn[0]==="enter"&&(or&&!Zr&&!fn&&!zr&&(zr=tn),Zr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zr=void 0}if(!fn&&gn[0]==="enter"&&gn[1].type==="listItemPrefix"||fn===-1&&gn[0]==="exit"&&(gn[1].type==="listUnordered"||gn[1].type==="listOrdered")){if(or){let sn=tn;for(Hn=void 0;sn--;){const va=ce[sn];if(va[1].type==="lineEnding"||va[1].type==="lineEndingBlank"){if(va[0]==="exit")continue;Hn&&(ce[Hn][1].type="lineEndingBlank",Sr=!0),va[1].type="lineEnding",Hn=sn}else if(!(va[1].type==="linePrefix"||va[1].type==="blockQuotePrefix"||va[1].type==="blockQuotePrefixWhitespace"||va[1].type==="blockQuoteMarker"||va[1].type==="listItemIndent"))break}zr&&(!Hn||zr<Hn)&&(or._spread=!0),or.end=Object.assign({},Hn?ce[Hn][1].start:gn[1].end),ce.splice(Hn||tn,0,["exit",or,gn[2]]),tn++,ft++}if(gn[1].type==="listItemPrefix"){const sn={type:"listItem",_spread:!1,start:Object.assign({},gn[1].start),end:void 0};or=sn,ce.splice(tn,0,["enter",sn,gn[2]]),tn++,ft++,zr=void 0,Zr=!0}}}return ce[Te][1]._spread=Sr,ft}function i(ce,Te){return ft;function ft(tn){s.call(this,ce(tn),tn),Te&&Te.call(this,tn)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ce,Te,ft){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Te,ft||void 0]),ce.position={start:_s(Te.start),end:void 0}}function l(ce){return Te;function Te(ft){ce&&ce.call(this,ft),c.call(this,ft)}}function c(ce,Te){const ft=this.stack.pop(),tn=this.tokenStack.pop();if(tn)tn[0].type!==ce.type&&(Te?Te.call(this,ce,tn[0]):(tn[1]||nP).call(this,ce,tn[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Zd({start:ce.start,end:ce.end})+"): its not open");ft.position.end=_s(ce.end)}function d(){return DS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ce){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ce}function h(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ce}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ce.replace(/(\r?\n|\r)$/g,"")}function b(ce){const Te=this.resume(),ft=this.stack[this.stack.length-1];ft.label=Te,ft.identifier=lo(this.sliceSerialize(ce)).toLowerCase()}function k(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ce}function S(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ce}function C(ce){const Te=this.stack[this.stack.length-1];if(!Te.depth){const ft=this.sliceSerialize(ce).length;Te.depth=ft}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(ce){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ce){const Te=this.stack[this.stack.length-1].children;let ft=Te[Te.length-1];(!ft||ft.type!=="text")&&(ft=Pn(),ft.position={start:_s(ce.start),end:void 0},Te.push(ft)),this.stack.push(ft)}function P(ce){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ce),Te.position.end=_s(ce.end)}function _(ce){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ft=Te.children[Te.children.length-1];ft.position.end=_s(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(R.call(this,ce),P.call(this,ce))}function E(){this.data.atHardBreak=!0}function G(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ce}function X(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ce}function re(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ce}function he(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Te,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function Y(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Te,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function I(ce){const Te=this.sliceSerialize(ce),ft=this.stack[this.stack.length-2];ft.label=Yse(Te),ft.identifier=lo(Te).toLowerCase()}function ee(){const ce=this.stack[this.stack.length-1],Te=this.resume(),ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,ft.type==="link"){const tn=ce.children;ft.children=tn}else ft.alt=Te}function w(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ce}function $(){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ce}function A(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function B(ce){const Te=this.resume(),ft=this.stack[this.stack.length-1];ft.label=Te,ft.identifier=lo(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function K(ce){this.data.characterReferenceType=ce.type}function U(ce){const Te=this.sliceSerialize(ce),ft=this.data.characterReferenceType;let tn;ft?(tn=yF(Te,ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tn=IS(Te);const fn=this.stack[this.stack.length-1];fn.value+=tn}function W(ce){const Te=this.stack.pop();Te.position.end=_s(ce.end)}function Q(ce){P.call(this,ce);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ce)}function D(ce){P.call(this,ce);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ce)}function J(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function z(){return{type:"emphasis",children:[]}}function L(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function Ke(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Ae(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function en(){return{type:"strong",children:[]}}function Pn(){return{type:"text",value:""}}function Br(){return{type:"thematicBreak"}}}function _s(e){return{line:e.line,column:e.column,offset:e.offset}}function AF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?AF(e,r):Zse(e,r)}}function Zse(e,t){let n;for(n in t)if(MF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function nP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is still open")}function Jse(e){const t=this;t.parser=n;function n(r){return Xse(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ele(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function nle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function rle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ale(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ile(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ad(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ole(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function PF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function lle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return PF(e,t);const a={src:ad(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function cle(e,t){const n={src:ad(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ule(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function dle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return PF(e,t);const a={href:ad(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function fle(e,t){const n={href:ad(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ple(e,t,n){const r=e.all(t),a=n?mle(n):EF(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function mle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=EF(n[r])}return t}function EF(e){return e.spread??e.children.length>1}function hle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function gle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ble(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=PS(t.children[1]),l=cF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function xle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function wle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rP=9,aP=32;function kle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(iP(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(iP(t.slice(a),a>0,!1)),i.join("")}function iP(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===rP||i===aP;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===rP||i===aP;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Sle(e,t){const n={type:"text",value:kle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Nle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const jle={blockquote:ele,break:tle,code:nle,delete:rle,emphasis:ale,footnoteReference:ile,heading:ole,html:sle,imageReference:lle,image:cle,inlineCode:ule,linkReference:dle,link:fle,listItem:ple,list:hle,paragraph:gle,root:yle,strong:vle,table:ble,tableCell:wle,tableRow:xle,text:Sle,thematicBreak:Nle,toml:Mm,yaml:Mm,definition:Mm,footnoteDefinition:Mm};function Mm(){}const TF=-1,ly=0,ef=1,Pg=2,FS=3,LS=4,RS=5,$S=6,OF=7,DF=8,oP=typeof self=="object"?self:globalThis,Cle=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case ly:case TF:return n(o,a);case ef:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Pg:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case FS:return n(new Date(o),a);case LS:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case RS:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case $S:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case OF:{const{name:s,message:l}=o;return n(new oP[s](l),a)}case DF:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new oP[i](o),a)};return r},sP=e=>Cle(new Map,e)(0),Hc="",{toString:Mle}={},{keys:Ale}=Object,Ed=e=>{const t=typeof e;if(t!=="object"||!e)return[ly,t];const n=Mle.call(e).slice(8,-1);switch(n){case"Array":return[ef,Hc];case"Object":return[Pg,Hc];case"Date":return[FS,Hc];case"RegExp":return[LS,Hc];case"Map":return[RS,Hc];case"Set":return[$S,Hc];case"DataView":return[ef,n]}return n.includes("Array")?[ef,n]:n.includes("Error")?[OF,n]:[Pg,n]},Am=([e,t])=>e===ly&&(t==="function"||t==="symbol"),Ple=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Ed(o);switch(s){case ly:{let d=o;switch(l){case"bigint":s=DF,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([TF],o)}return a([s,d],o)}case ef:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Pg:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Ale(o))(e||!Am(Ed(o[p])))&&d.push([i(p),i(o[p])]);return f}case FS:return a([s,o.toISOString()],o);case LS:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case RS:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Am(Ed(p))||Am(Ed(m))))&&d.push([i(p),i(m)]);return f}case $S:{const d=[],f=a([s,d],o);for(const p of o)(e||!Am(Ed(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},lP=(e,{json:t,lossy:n}={})=>{const r=[];return Ple(!(t||n),!!t,new Map,r)(e),r},Eg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?sP(lP(e,t)):structuredClone(e):(e,t)=>sP(lP(e,t));function Ele(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Tle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ole(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ele,r=e.options.footnoteBackLabel||Tle,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=ad(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Eg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const cy=function(e){if(e==null)return Fle;if(typeof e=="function")return uy(e);if(typeof e=="object")return Array.isArray(e)?Dle(e):Ile(e);if(typeof e=="string")return _le(e);throw new Error("Expected function, string, or object as test")};function Dle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cy(e[n]);return uy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Ile(e){const t=e;return uy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function _le(e){return uy(t);function t(n){return n&&n.type===e}}function uy(e){return t;function t(n,r,a){return!!(Lle(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Fle(){return!0}function Lle(e){return e!==null&&typeof e=="object"&&"type"in e}const IF=[],Rle=!0,tw=!1,$le="skip";function _F(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=cy(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=IF,h,v,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=Ble(n(l,d)),m[0]===tw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==$le)for(v=(r?g.children.length:-1)+o,x=d.concat(g);v>-1&&v<g.children.length;){const b=g.children[v];if(h=s(b,v,x)(),h[0]===tw)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function Ble(e){return Array.isArray(e)?e:typeof e=="number"?[Rle,e]:e==null?IF:[e]}function BS(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),_F(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const nw={}.hasOwnProperty,zle={};function Ule(e,t){const n=t||zle,r=new Map,a=new Map,i=new Map,o={...jle,...n.handlers},s={all:c,applyData:Wle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Vle,wrap:qle};return BS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(nw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,x=Eg(v);return x.children=s.all(d),x}return Eg(d)}return(s.options.unknownHandler||Hle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=cP(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=cP(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Vle(e,t){e.position&&(t.position=Tie(e))}function Wle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Eg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Hle(e,t){const n=t.data||{},r="value"in t&&!(nw.call(n,"hProperties")||nw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function cP(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function uP(e,t){const n=Ule(e,t),r=n.one(e,void 0),a=Ole(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Kle(e,t){return e&&"run"in e?async function(n,r){const a=uP(n,{file:r,...t});await e.run(a,r)}:function(n,r){return uP(n,{file:r,...e||t})}}function dP(e){if(e)throw e}var nh=Object.prototype.hasOwnProperty,FF=Object.prototype.toString,fP=Object.defineProperty,pP=Object.getOwnPropertyDescriptor,mP=function(e){return typeof Array.isArray=="function"?Array.isArray(e):FF.call(e)==="[object Array]"},hP=function(e){if(!e||FF.call(e)!=="[object Object]")return!1;var t=nh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&nh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||nh.call(e,r)},gP=function(e,t){fP&&t.name==="__proto__"?fP(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},yP=function(e,t){if(t==="__proto__")if(nh.call(e,t)){if(pP)return pP(e,t).value}else return;return e[t]},Yle=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=yP(s,n),a=yP(t,n),s!==a&&(d&&a&&(hP(a)||(i=mP(a)))?(i?(i=!1,o=r&&mP(r)?r:[]):o=r&&hP(r)?r:{},gP(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&gP(s,{name:n,newValue:a}));return s};const Pv=ho(Yle);function rw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Gle(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?Xle(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function Xle(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Mo={basename:Qle,dirname:Zle,extname:Jle,join:ece,sep:"/"};function Qle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_p(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Zle(e){if(_p(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Jle(e){_p(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function ece(...e){let t=-1,n;for(;++t<e.length;)_p(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":tce(n)}function tce(e){_p(e);const t=e.codePointAt(0)===47;let n=nce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function nce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function _p(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rce={cwd:ace};function ace(){return"/"}function aw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ice(e){if(typeof e=="string")e=new URL(e);else if(!aw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return oce(e)}function oce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Ev=["history","path","basename","stem","extname","dirname"];class LF{constructor(t){let n;t?aw(t)?n={path:t}:typeof t=="string"||sce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":rce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ev.length;){const i=Ev[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Ev.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Mo.basename(this.path):void 0}set basename(t){Ov(t,"basename"),Tv(t,"basename"),this.path=Mo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mo.dirname(this.path):void 0}set dirname(t){vP(this.basename,"dirname"),this.path=Mo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mo.extname(this.path):void 0}set extname(t){if(Tv(t,"extname"),vP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){aw(t)&&(t=ice(t)),Ov(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mo.basename(this.path,this.extname):void 0}set stem(t){Ov(t,"stem"),Tv(t,"stem"),this.path=Mo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Da(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tv(e,t){if(e&&e.includes(Mo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mo.sep+"`")}function Ov(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},cce={}.hasOwnProperty;class zS extends lce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Gle()}copy(){const t=new zS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Pv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_v("data",this.frozen),this.namespace[t]=n,this):cce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_v("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pm(t),r=this.parser||this.Parser;return Dv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Dv("process",this.parser||this.Parser),Iv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Pm(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);fce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Dv("processSync",this.parser||this.Parser),Iv("processSync",this.compiler||this.Compiler),this.process(t,a),xP("processSync","process",n),r;function a(i,o){n=!0,dP(i),r=o}}run(t,n,r){bP(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Pm(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),xP("runSync","run",r),a;function i(o,s){dP(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Pm(n),a=this.compiler||this.Compiler;return Iv("stringify",a),bP(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(_v("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Pv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];rw(v)&&rw(m)&&(m=Pv(!0,v,m)),r[p]=[c,m,...h]}}}}const uce=new zS().freeze();function Dv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Iv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _v(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bP(e){if(!rw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function xP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pm(e){return dce(e)?e:new LF(e)}function dce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function fce(e){return typeof e=="string"||pce(e)}function pce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wP=[],kP={allowDangerousHtml:!0},hce=/^(https?|ircs?|mailto|xmpp)$/i,gce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yce(e){const t=vce(e),n=bce(e);return xce(t.runSync(t.parse(n),n),e)}function vce(e){const t=e.rehypePlugins||wP,n=e.remarkPlugins||wP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...kP}:kP;return uce().use(Jse).use(n).use(Kle,r).use(t)}function bce(e){const t=e.children||"",n=new LF;return typeof t=="string"&&(n.value=t),n}function xce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||wce;for(const d of gce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+mce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),BS(e,c),Fie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Cv)if(Object.hasOwn(Cv,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=Cv[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function wce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||hce.test(e.slice(0,t))?e:""}function SP(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function kce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Sce(e,t,n){const r=cy((n||{}).ignore||[]),a=Nce(t);let i=-1;for(;++i<a.length;)_F(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,k={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,k);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,v=!0),!f.global)break;g=f.exec(l.value)}return v?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Nce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([jce(a[0]),Cce(a[1])])}return t}function jce(e){return typeof e=="string"?new RegExp(kce(e),"g"):e}function Cce(e){return typeof e=="function"?e:function(){return e}}const Fv="phrasing",Lv=["autolink","link","image","label"];function Mce(){return{transforms:[Ice],enter:{literalAutolink:Pce,literalAutolinkEmail:Rv,literalAutolinkHttp:Rv,literalAutolinkWww:Rv},exit:{literalAutolink:Dce,literalAutolinkEmail:Oce,literalAutolinkHttp:Ece,literalAutolinkWww:Tce}}}function Ace(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:Lv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:Lv},{character:":",before:"[ps]",after:"\\/",inConstruct:Fv,notInConstruct:Lv}]}}function Pce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Rv(e){this.config.enter.autolinkProtocol.call(this,e)}function Ece(e){this.config.exit.autolinkProtocol.call(this,e)}function Tce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Oce(e){this.config.exit.autolinkEmail.call(this,e)}function Dce(e){this.exit(e)}function Ice(e){Sce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_ce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Fce]],{ignore:["link","linkReference"]})}function _ce(e,t,n,r,a){let i="";if(!RF(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Lce(n)))return!1;const o=Rce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Fce(e,t,n,r){return!RF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Lce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Rce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=SP(e,"(");let i=SP(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function RF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||xc(n)||oy(n))&&(!t||n!==47)}$F.peek=Kce;function $ce(){this.buffer()}function Bce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function zce(){this.buffer()}function Uce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Vce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Wce(e){this.exit(e)}function Hce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qce(e){this.exit(e)}function Kce(){return"["}function $F(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function Yce(){return{enter:{gfmFootnoteCallString:$ce,gfmFootnoteCall:Bce,gfmFootnoteDefinitionLabelString:zce,gfmFootnoteDefinition:Uce},exit:{gfmFootnoteCallString:Vce,gfmFootnoteCall:Wce,gfmFootnoteDefinitionLabelString:Hce,gfmFootnoteDefinition:qce}}}function Gce(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:$F},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?BF:Xce))),c(),l}}function Xce(e,t,n){return t===0?e:BF(e,t,n)}function BF(e,t,n){return(n?"":"    ")+e}const Qce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];zF.peek=nue;function Zce(){return{canContainEols:["delete"],enter:{strikethrough:eue},exit:{strikethrough:tue}}}function Jce(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Qce}],handlers:{delete:zF}}}function eue(e){this.enter({type:"delete",children:[]},e)}function tue(e){this.exit(e)}function zF(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function nue(){return"~"}function rue(e){return e.length}function aue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||rue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const v=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=iue(e[d][g]);if(n.alignDelimiters!==!1){const k=a(b);x[g]=k,(l[g]===void 0||k>l[g])&&(l[g]=k)}v.push(b)}o[d]=v,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=NP(r[f]);else{const v=NP(r);for(;++f<c;)i[f]=v}f=-1;const p=[],m=[];for(;++f<c;){const v=i[f];let x="",g="";v===99?(x=":",g=":"):v===108?x=":":v===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const k=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=k}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=v[f]||"";let k="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),j=i[f];j===114?k=" ".repeat(C):j===99?C%2?(k=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(k=" ".repeat(C/2),S=k):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(k),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function iue(e){return e==null?"":String(e)}function NP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function oue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),sue);return a(),o}function sue(e,t,n){return">"+(n?"":" ")+e}function lue(e,t){return jP(e,t.inConstruct,!0)&&!jP(e,t.notInConstruct,!1)}function jP(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function CP(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&lue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function cue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function uue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function due(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function fue(e,t,n,r){const a=due(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(uue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,pue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(cue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function pue(e,t,n){return(n?"":"    ")+e}function US(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function mue(e,t,n,r){const a=US(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function hue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Kf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Tg(e,t,n){const r=zu(e),a=zu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}UF.peek=gue;function UF(e,t,n,r){const a=hue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Tg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Tg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function gue(e,t,n){return n.options.emphasis||"*"}function yue(e,t){let n=!1;return BS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,tw}),!!((!e.depth||e.depth<3)&&DS(e)&&(t.options.setext||n))}function vue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(yue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Kf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}VF.peek=bue;function VF(e){return e.value||""}function bue(){return"<"}WF.peek=xue;function WF(e,t,n,r){const a=US(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function xue(){return"!"}HF.peek=wue;function HF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function wue(){return"!"}qF.peek=kue;function qF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function kue(){return"`"}function KF(e,t){const n=DS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}YF.peek=Sue;function YF(e,t,n,r){const a=US(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(KF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Sue(e,t,n){return KF(e,n)?"<":"["}GF.peek=Nue;function GF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Nue(){return"["}function VS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function jue(e){const t=VS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Cue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function XF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Mue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Cue(n):VS(n);const s=e.ordered?o==="."?")":".":jue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),XF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Aue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Pue(e,t,n,r){const a=Aue(n);let i=n.bulletCurrent||VS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Eue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Tue=cy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Oue(e,t,n,r){return(e.children.some(function(a){return Tue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Due(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}QF.peek=Iue;function QF(e,t,n,r){const a=Due(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Tg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Tg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Iue(e,t,n){return n.options.strong||"*"}function _ue(e,t,n,r){return n.safe(e.value,r)}function Fue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Lue(e,t,n){const r=(XF(n)+(n.options.ruleSpaces?" ":"")).repeat(Fue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ZF={blockquote:oue,break:CP,code:fue,definition:mue,emphasis:UF,hardBreak:CP,heading:vue,html:VF,image:WF,imageReference:HF,inlineCode:qF,link:YF,linkReference:GF,list:Mue,listItem:Pue,paragraph:Eue,root:Oue,strong:QF,text:_ue,thematicBreak:Lue};function Rue(){return{enter:{table:$ue,tableData:MP,tableHeader:MP,tableRow:zue},exit:{codeText:Uue,table:Bue,tableData:$v,tableHeader:$v,tableRow:$v}}}function $ue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Bue(e){this.exit(e),this.data.inTable=void 0}function zue(e){this.enter({type:"tableRow",children:[]},e)}function $v(e){this.exit(e)}function MP(e){this.enter({type:"tableCell",children:[]},e)}function Uue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Vue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Vue(e,t){return t==="|"?t:e}function Wue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,x){return c(d(m,v,x),m.align)}function s(m,h,v,x){const g=f(m,v,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,v,x){const g=v.enter("tableCell"),b=v.enter("phrasing"),k=v.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),k}function c(m,h){return aue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const x=m.children;let g=-1;const b=[],k=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,v);return k(),b}function f(m,h,v){const x=m.children;let g=-1;const b=[],k=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,v);return k(),b}function p(m,h,v){let x=ZF.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Hue(){return{exit:{taskListCheckValueChecked:AP,taskListCheckValueUnchecked:AP,paragraph:Kue}}}function que(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Yue}}}function AP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Kue(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Yue(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=ZF.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Gue(){return[Mce(),Yce(),Zce(),Rue(),Hue()]}function Xue(e){return{extensions:[Ace(),Gce(e),Jce(),Wue(e),que()]}}const Que={tokenize:rde,partial:!0},JF={tokenize:ade,partial:!0},eL={tokenize:ide,partial:!0},tL={tokenize:ode,partial:!0},Zue={tokenize:sde,partial:!0},nL={name:"wwwAutolink",tokenize:tde,previous:aL},rL={name:"protocolAutolink",tokenize:nde,previous:iL},Cs={name:"emailAutolink",tokenize:ede,previous:oL},$o={};function Jue(){return{text:$o}}let El=48;for(;El<123;)$o[El]=Cs,El++,El===58?El=65:El===91&&(El=97);$o[43]=Cs;$o[45]=Cs;$o[46]=Cs;$o[95]=Cs;$o[72]=[Cs,rL];$o[104]=[Cs,rL];$o[87]=[Cs,nL];$o[119]=[Cs,nL];function ede(e,t,n){const r=this;let a,i;return o;function o(f){return!iw(f)||!oL.call(r,r.previous)||WS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return iw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Zue,d,c)(f):f===45||f===95||Ta(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ra(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function tde(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!aL.call(r,r.previous)||WS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Que,e.attempt(JF,e.attempt(eL,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function nde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&iL.call(r,r.previous)&&!WS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ra(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Ag(f)||_n(f)||xc(f)||oy(f)?n(f):e.attempt(JF,e.attempt(eL,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function rde(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function ade(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(tL,l,s)(c):c===null||_n(c)||xc(c)||c!==45&&oy(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function ide(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(tL,t,i)(o):o===null||_n(o)||xc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function ode(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||_n(s)||xc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||_n(s)||xc(s)?t(s):r(s)}function i(s){return Ra(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ra(s)?(e.consume(s),o):n(s)}}function sde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ta(i)?n(i):t(i)}}function aL(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_n(e)}function iL(e){return!Ra(e)}function oL(e){return!(e===47||iw(e))}function iw(e){return e===43||e===45||e===46||e===95||Ta(e)}function WS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const lde={tokenize:gde,partial:!0};function cde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:pde,continuation:{tokenize:mde},exit:hde}},text:{91:{name:"gfmFootnoteCall",tokenize:fde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ude,resolveTo:dde}}}}function ude(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=lo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function dde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function fde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||_n(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(lo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return _n(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function pde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||_n(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=lo(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return _n(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),pn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function mde(e,t,n){return e.check(Ip,t,e.attempt(lde,t,n))}function hde(e){e.exit("gfmFootnoteDefinition")}function gde(e,t,n){const r=this;return pn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function yde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&bi(f,f.length,0,sy(p,i.slice(l+1,s),o)),bi(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),bi(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=zu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),x=zu(m);return v._open=!x||x===2&&!!h,v._close=!h||h===2&&!!x,o(m)}}}class vde{constructor(){this.map=[]}add(t,n,r){bde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function bde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function xde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function wde(){return{flow:{null:{name:"table",tokenize:kde,resolveAll:Sde}}}}function kde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(P){let _=r.events.length-1;for(;_>-1;){const X=r.events[_][1].type;if(X==="lineEnding"||X==="linePrefix")_--;else break}const E=_>-1?r.events[_][1].type:null,G=E==="tableHead"||E==="tableRow"?j:l;return G===j&&r.parser.lazy[r.now().line]?n(P):G(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),c(P)}function c(P){return P===124||(o=!0,i+=1),d(P)}function d(P){return P===null?n(P):Ot(P)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),m):n(P):an(P)?pn(e,d,"whitespace")(P):(i+=1,o&&(o=!1,a+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||_n(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?p:f)}function p(P){return P===92||P===124?(e.consume(P),f):f(P)}function m(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,an(P)?pn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):h(P))}function h(P){return P===45||P===58?x(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),v):C(P)}function v(P){return an(P)?pn(e,x,"whitespace")(P):x(P)}function x(P){return P===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),g):P===45?(i+=1,g(P)):P===null||Ot(P)?S(P):C(P)}function g(P){return P===45?(e.enter("tableDelimiterFiller"),b(P)):C(P)}function b(P){return P===45?(e.consume(P),b):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(P))}function k(P){return an(P)?pn(e,S,"whitespace")(P):S(P)}function S(P){return P===124?h(P):P===null||Ot(P)?!o||a!==i?C(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):C(P)}function C(P){return n(P)}function j(P){return e.enter("tableRow"),M(P)}function M(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),M):P===null||Ot(P)?(e.exit("tableRow"),t(P)):an(P)?pn(e,M,"whitespace")(P):(e.enter("data"),T(P))}function T(P){return P===null||P===124||_n(P)?(e.exit("data"),M(P)):(e.consume(P),P===92?R:T)}function R(P){return P===92||P===124?(e.consume(P),T):T(P)}}function Sde(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new vde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(PP(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Em(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Em(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Em(p,t,i,a,n,f)):o[1]!==0&&(f=Em(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&PP(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=xde(t.events,n))}return e}function Em(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Yc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Yc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Yc(t.events,n[2]),d=Yc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Yc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function PP(e,t,n,r,a){const i=[],o=Yc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Yc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Nde={name:"tasklistCheck",tokenize:Cde};function jde(){return{text:{91:Nde}}}function Cde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return _n(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Ot(l)?t(l):an(l)?e.check({tokenize:Mde},t,n)(l):n(l)}}function Mde(e,t,n){return pn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Ade(e){return gF([Jue(),cde(),yde(e),wde(),jde()])}const Pde={};function Ede(e){const t=this,n=e||Pde,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Ade(n)),i.push(Gue()),o.push(Xue(n))}const Bv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',sL=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dy=y.createContext({}),HS=y.createContext(null),fy=typeof document<"u",Tde=fy?y.useLayoutEffect:y.useEffect,lL=y.createContext({strict:!1}),qS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ode="framerAppearId",cL="data-"+qS(Ode);function Dde(e,t,n,r){const{visualElement:a}=y.useContext(dy),i=y.useContext(lL),o=y.useContext(HS),s=y.useContext(sL).reducedMotion,l=y.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;y.useInsertionEffect(()=>{c&&c.update(n,o)});const d=y.useRef(!!(n[cL]&&!window.HandoffComplete));return Tde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),y.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function cu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ide(e,t,n){return y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):cu(n)&&(n.current=r))},[t])}function Yf(e){return typeof e=="string"||Array.isArray(e)}function py(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const KS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YS=["initial",...KS];function my(e){return py(e.animate)||YS.some(t=>Yf(e[t]))}function uL(e){return!!(my(e)||e.variants)}function _de(e,t){if(my(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yf(n)?n:void 0,animate:Yf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Fde(e){const{initial:t,animate:n}=_de(e,y.useContext(dy));return y.useMemo(()=>({initial:t,animate:n}),[EP(t),EP(n)])}function EP(e){return Array.isArray(e)?e.join(" "):e}const TP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gf={};for(const e in TP)Gf[e]={isEnabled:t=>TP[e].some(n=>!!t[n])};function Lde(e){for(const t in e)Gf[t]={...Gf[t],...e[t]}}const dL=y.createContext({}),fL=y.createContext({}),Rde=Symbol.for("motionComponentSymbol");function $de({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Lde(e);function i(s,l){let c;const d={...y.useContext(sL),...s,layoutId:Bde(s)},{isStatic:f}=d,p=Fde(s),m=r(s,f);if(!f&&fy){p.visualElement=Dde(a,m,d,t);const h=y.useContext(fL),v=y.useContext(lL).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,v,e,h))}return y.createElement(dy.Provider,{value:p},c&&p.visualElement?y.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,Ide(m,p.visualElement,l),m,f,p.visualElement))}const o=y.forwardRef(i);return o[Rde]=a,o}function Bde({layoutId:e}){const t=y.useContext(dL).id;return t&&e!==void 0?t+"-"+e:e}function zde(e){function t(r,a={}){return $de(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Ude=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GS(e){return typeof e!="string"||e.includes("-")?!1:!!(Ude.indexOf(e)>-1||/[A-Z]/.test(e))}const Og={};function Vde(e){Object.assign(Og,e)}const Fp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cc=new Set(Fp);function pL(e,{layout:t,layoutId:n}){return Cc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Og[e]||e==="opacity")}const ai=e=>!!(e&&e.getVelocity),Wde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hde=Fp.length;function qde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<Hde;o++){const s=Fp[o];if(e[s]!==void 0){const l=Wde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const mL=e=>t=>typeof t=="string"&&t.startsWith(e),hL=mL("--"),ow=mL("var(--"),Kde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Yde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ul=(e,t,n)=>Math.min(Math.max(n,e),t),Mc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tf={...Mc,transform:e=>ul(0,1,e)},Tm={...Mc,default:1},nf=e=>Math.round(e*1e5)/1e5,hy=/(-)?([\d]*\.?[\d])+/g,gL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Gde=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lp(e){return typeof e=="string"}const Rp=e=>({test:t=>Lp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ls=Rp("deg"),Io=Rp("%"),Rt=Rp("px"),Xde=Rp("vh"),Qde=Rp("vw"),OP={...Io,parse:e=>Io.parse(e)/100,transform:e=>Io.transform(e*100)},DP={...Mc,transform:Math.round},yL={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,size:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,rotate:Ls,rotateX:Ls,rotateY:Ls,rotateZ:Ls,scale:Tm,scaleX:Tm,scaleY:Tm,scaleZ:Tm,skew:Ls,skewX:Ls,skewY:Ls,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:tf,originX:OP,originY:OP,originZ:Rt,zIndex:DP,fillOpacity:tf,strokeOpacity:tf,numOctaves:DP};function XS(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(hL(f)){i[f]=p;continue}const m=yL[f],h=Yde(p,m);if(Cc.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=qde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const QS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vL(e,t,n){for(const r in t)!ai(t[r])&&!pL(r,n)&&(e[r]=t[r])}function Zde({transformTemplate:e},t,n){return y.useMemo(()=>{const r=QS();return XS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Jde(e,t,n){const r=e.style||{},a={};return vL(a,r,e),Object.assign(a,Zde(e,t,n)),e.transformValues?e.transformValues(a):a}function efe(e,t,n){const r={},a=Jde(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const tfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tfe.has(e)}let bL=e=>!Dg(e);function nfe(e){e&&(bL=t=>t.startsWith("on")?!Dg(t):e(t))}try{nfe(require("@emotion/is-prop-valid").default)}catch{}function rfe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(bL(a)||n===!0&&Dg(a)||!t&&!Dg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function IP(e,t,n){return typeof e=="string"?e:Rt.transform(t+n*e)}function afe(e,t,n){const r=IP(t,e.x,e.width),a=IP(n,e.y,e.height);return`${r} ${a}`}const ife={offset:"stroke-dashoffset",array:"stroke-dasharray"},ofe={offset:"strokeDashoffset",array:"strokeDasharray"};function sfe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?ife:ofe;e[i.offset]=Rt.transform(-r);const o=Rt.transform(t),s=Rt.transform(n);e[i.array]=`${o} ${s}`}function ZS(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(XS(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=afe(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&sfe(m,o,s,l,!1)}const xL=()=>({...QS(),attrs:{}}),JS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lfe(e,t,n,r){const a=y.useMemo(()=>{const i=xL();return ZS(i,t,{enableHardwareAcceleration:!1},JS(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};vL(i,e.style,e),a.style={...i,...a.style}}return a}function cfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(GS(t)?lfe:efe)(n,a,i,t),s={...rfe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=y.useMemo(()=>ai(l)?l.get():l,[l]);return y.createElement(t,{...s,children:c})}}function wL(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const kL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SL(e,t,n,r){wL(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(kL.has(a)?a:qS(a),t.attrs[a])}function e2(e,t){const{style:n}=e,r={};for(const a in n)(ai(n[a])||t.style&&ai(t.style[a])||pL(a,e))&&(r[a]=n[a]);return r}function NL(e,t){const n=e2(e,t);for(const r in e)if(ai(e[r])||ai(t[r])){const a=Fp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function t2(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function ufe(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ig=e=>Array.isArray(e),dfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ffe=e=>Ig(e)?e[e.length-1]||0:e;function rh(e){const t=ai(e)?e.get():e;return dfe(t)?t.toValue():t}function pfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:mfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const jL=e=>(t,n)=>{const r=y.useContext(dy),a=y.useContext(HS),i=()=>pfe(e,t,r,a);return n?i():ufe(i)};function mfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=rh(i[p]);let{initial:o,animate:s}=e;const l=my(e),c=uL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!py(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=t2(e,p);if(!m)return;const{transitionEnd:h,transition:v,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Pr=e=>e;class _P{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function hfe(e){let t=new _P,n=new _P,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Om=["prepare","read","update","preRender","render","postRender"],gfe=40;function yfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Om.reduce((c,d)=>(c[d]=hfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,gfe),1),a.timestamp=c,a.isProcessing=!0,Om.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Om.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Om.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:Qn,cancel:gs,state:ja,steps:zv}=yfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0),vfe={useVisualState:jL({scrapeMotionValuesFromProps:NL,createRenderState:xL,onMount:(e,t,{renderState:n,latestValues:r})=>{Qn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qn.render(()=>{ZS(n,r,{enableHardwareAcceleration:!1},JS(t.tagName),e.transformTemplate),SL(t,n)})}})},bfe={useVisualState:jL({scrapeMotionValuesFromProps:e2,createRenderState:QS})};function xfe(e,{forwardMotionProps:t=!1},n,r){return{...GS(e)?vfe:bfe,preloadedFeatures:n,useRender:cfe(t),createVisualElement:r,Component:e}}function es(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const CL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const wfe=e=>t=>CL(t)&&e(t,gy(t));function as(e,t,n,r){return es(e,t,wfe(n),r)}const kfe=(e,t)=>n=>t(e(n)),il=(...e)=>e.reduce(kfe);function ML(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const FP=ML("dragHorizontal"),LP=ML("dragVertical");function AL(e){let t=!1;if(e==="y")t=LP();else if(e==="x")t=FP();else{const n=FP(),r=LP();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function PL(){const e=AL(!0);return e?(e(),!1):!0}class xl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function RP(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||PL())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Qn.update(()=>s[r](i,o))};return as(e.current,n,a,{passive:!e.getProps()[r]})}class Sfe extends xl{mount(){this.unmount=il(RP(this.node,!0),RP(this.node,!1))}unmount(){}}class Nfe extends xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=il(es(this.node.current,"focus",()=>this.onFocus()),es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const EL=(e,t)=>t?e===t?!0:EL(e,t.parentElement):!1;function Uv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gy(n))}class jfe extends xl{constructor(){super(...arguments),this.removeStartListeners=Pr,this.removeEndListeners=Pr,this.removeAccessibleListeners=Pr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=as(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Qn.update(()=>{!d&&!EL(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=as(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=il(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Uv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Qn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=es(this.node.current,"keyup",o),Uv("down",(s,l)=>{this.startPress(s,l)})},n=es(this.node.current,"keydown",t),r=()=>{this.isPressing&&Uv("cancel",(i,o)=>this.cancelPress(i,o))},a=es(this.node.current,"blur",r);this.removeAccessibleListeners=il(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PL()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=as(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=es(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=il(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sw=new WeakMap,Vv=new WeakMap,Cfe=e=>{const t=sw.get(e.target);t&&t(e)},Mfe=e=>{e.forEach(Cfe)};function Afe({root:e,...t}){const n=e||document;Vv.has(n)||Vv.set(n,{});const r=Vv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Mfe,{root:e,...t})),r[a]}function Pfe(e,t,n){const r=Afe(t);return sw.set(e,n),r.observe(e),()=>{sw.delete(e),r.unobserve(e)}}const Efe={some:0,all:1};class Tfe extends xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Efe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Pfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ofe(t,n))&&this.startObserver()}unmount(){}}function Ofe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dfe={inView:{Feature:Tfe},tap:{Feature:jfe},focus:{Feature:Nfe},hover:{Feature:Sfe}};function TL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ife(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function _fe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yy(e,t,n){const r=e.getProps();return t2(r,t,n!==void 0?n:r.custom,Ife(e),_fe(e))}let n2=Pr;const ac=e=>e*1e3,is=e=>e/1e3,Ffe={current:!1},OL=e=>Array.isArray(e)&&typeof e[0]=="number";function DL(e){return!!(!e||typeof e=="string"&&IL[e]||OL(e)||Array.isArray(e)&&e.every(DL))}const $d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,IL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$d([0,.65,.55,1]),circOut:$d([.55,0,1,.45]),backIn:$d([.31,.01,.66,-.59]),backOut:$d([.33,1.53,.69,.99])};function _L(e){if(e)return OL(e)?$d(e):Array.isArray(e)?e.map(_L):IL[e]}function Lfe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=_L(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Rfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const FL=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$fe=1e-7,Bfe=12;function zfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=FL(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>$fe&&++s<Bfe);return o}function $p(e,t,n,r){if(e===t&&n===r)return Pr;const a=i=>zfe(i,0,1,e,n);return i=>i===0||i===1?i:FL(a(i),t,r)}const Ufe=$p(.42,0,1,1),Vfe=$p(0,0,.58,1),LL=$p(.42,0,.58,1),Wfe=e=>Array.isArray(e)&&typeof e[0]!="number",RL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$L=e=>t=>1-e(1-t),r2=e=>1-Math.sin(Math.acos(e)),BL=$L(r2),Hfe=RL(r2),zL=$p(.33,1.53,.69,.99),a2=$L(zL),qfe=RL(a2),Kfe=e=>(e*=2)<1?.5*a2(e):.5*(2-Math.pow(2,-10*(e-1))),Yfe={linear:Pr,easeIn:Ufe,easeInOut:LL,easeOut:Vfe,circIn:r2,circInOut:Hfe,circOut:BL,backIn:a2,backInOut:qfe,backOut:zL,anticipate:Kfe},$P=e=>{if(Array.isArray(e)){n2(e.length===4);const[t,n,r,a]=e;return $p(t,n,r,a)}else if(typeof e=="string")return Yfe[e];return e},i2=(e,t)=>n=>!!(Lp(n)&&Gde.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),UL=(e,t,n)=>r=>{if(!Lp(r))return r;const[a,i,o,s]=r.match(hy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Gfe=e=>ul(0,255,e),Wv={...Mc,transform:e=>Math.round(Gfe(e))},Xl={test:i2("rgb","red"),parse:UL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wv.transform(e)+", "+Wv.transform(t)+", "+Wv.transform(n)+", "+nf(tf.transform(r))+")"};function Xfe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const lw={test:i2("#"),parse:Xfe,transform:Xl.transform},uu={test:i2("hsl","hue"),parse:UL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Io.transform(nf(t))+", "+Io.transform(nf(n))+", "+nf(tf.transform(r))+")"},Fa={test:e=>Xl.test(e)||lw.test(e)||uu.test(e),parse:e=>Xl.test(e)?Xl.parse(e):uu.test(e)?uu.parse(e):lw.parse(e),transform:e=>Lp(e)?e:e.hasOwnProperty("red")?Xl.transform(e):uu.transform(e)},ur=(e,t,n)=>-n*e+n*t+e;function Hv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qfe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Hv(l,s,e+1/3),i=Hv(l,s,e),o=Hv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const qv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Zfe=[lw,Xl,uu],Jfe=e=>Zfe.find(t=>t.test(e));function BP(e){const t=Jfe(e);let n=t.parse(e);return t===uu&&(n=Qfe(n)),n}const VL=(e,t)=>{const n=BP(e),r=BP(t),a={...n};return i=>(a.red=qv(n.red,r.red,i),a.green=qv(n.green,r.green,i),a.blue=qv(n.blue,r.blue,i),a.alpha=ur(n.alpha,r.alpha,i),Xl.transform(a))};function epe(e){var t,n;return isNaN(e)&&Lp(e)&&(((t=e.match(hy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(gL))===null||n===void 0?void 0:n.length)||0)>0}const WL={regex:Kde,countKey:"Vars",token:"${v}",parse:Pr},HL={regex:gL,countKey:"Colors",token:"${c}",parse:Fa.parse},qL={regex:hy,countKey:"Numbers",token:"${n}",parse:Mc.parse};function Kv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function _g(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Kv(n,WL),Kv(n,HL),Kv(n,qL),n}function KL(e){return _g(e).values}function YL(e){const{values:t,numColors:n,numVars:r,tokenised:a}=_g(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(WL.token,o[l]):l<r+n?s=s.replace(HL.token,Fa.transform(o[l])):s=s.replace(qL.token,nf(o[l]));return s}}const tpe=e=>typeof e=="number"?0:e;function npe(e){const t=KL(e);return YL(e)(t.map(tpe))}const dl={test:epe,parse:KL,createTransformer:YL,getAnimatableNone:npe},GL=(e,t)=>n=>`${n>0?t:e}`;function XL(e,t){return typeof e=="number"?n=>ur(e,t,n):Fa.test(e)?VL(e,t):e.startsWith("var(")?GL(e,t):ZL(e,t)}const QL=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>XL(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},rpe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=XL(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},ZL=(e,t)=>{const n=dl.createTransformer(t),r=_g(e),a=_g(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?il(QL(r.values,a.values),n):GL(e,t)},Xf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},zP=(e,t)=>n=>ur(e,t,n);function ape(e){return typeof e=="number"?zP:typeof e=="string"?Fa.test(e)?VL:ZL:Array.isArray(e)?QL:typeof e=="object"?rpe:zP}function ipe(e,t,n){const r=[],a=n||ape(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Pr:t;s=il(l,s)}r.push(s)}return r}function JL(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(n2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ipe(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Xf(e[d],e[d+1],c);return o[d](f)};return n?c=>l(ul(e[0],e[i-1],c)):l}function ope(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Xf(0,t,r);e.push(ur(n,1,a))}}function spe(e){const t=[0];return ope(t,e.length-1),t}function lpe(e,t){return e.map(n=>n*t)}function cpe(e,t){return e.map(()=>t||LL).splice(0,e.length-1)}function Fg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Wfe(r)?r.map($P):$P(r),i={done:!1,value:t[0]},o=lpe(n&&n.length===t.length?n:spe(t),e),s=JL(o,t,{ease:Array.isArray(a)?a:cpe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function e6(e,t){return t?e*(1e3/t):0}const upe=5;function t6(e,t,n){const r=Math.max(t-upe,0);return e6(n-e(r),t-r)}const Yv=.001,dpe=.01,fpe=10,ppe=.05,mpe=1;function hpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=ul(ppe,mpe,o),e=ul(dpe,fpe,is(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=cw(c,o),h=Math.exp(-f);return Yv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=cw(Math.pow(c,2),o);return(-a(c)+Yv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Yv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=ype(a,i,s);if(e=ac(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const gpe=12;function ype(e,t,n){let r=n;for(let a=1;a<gpe;a++)r=r-e(r)/t(r);return r}function cw(e,t){return e*Math.sqrt(1-t*t)}const vpe=["duration","bounce"],bpe=["stiffness","damping","mass"];function UP(e,t){return t.some(n=>e[n]!==void 0)}function xpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!UP(e,bpe)&&UP(e,vpe)){const n=hpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function n6({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=xpe({...r,velocity:-is(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),v=i-a,x=is(Math.sqrt(s/c)),g=Math.abs(v)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const k=cw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*v)/k*Math.sin(k*S)+v*Math.cos(k*S))}}else if(h===1)b=k=>i-Math.exp(-x*k)*(v+(m+x*v)*k);else{const k=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),j=Math.min(k*S,300);return i-C*((m+h*x*v)*Math.sinh(j)+k*v*Math.cosh(j))/k}}return{calculatedDuration:p&&d||null,next:k=>{const S=b(k);if(p)o.done=k>=d;else{let C=m;k!==0&&(h<1?C=t6(b,k,S):C=0);const j=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=j&&M}return o.value=o.done?i:S,o}}}function VP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let v=n*t;const x=f+v,g=o===void 0?x:o(x);g!==x&&(v=g-f);const b=T=>-v*Math.exp(-T/r),k=T=>g+b(T),S=T=>{const R=b(T),P=k(T);p.done=Math.abs(R)<=c,p.value=p.done?g:P};let C,j;const M=T=>{m(p.value)&&(C=T,j=n6({keyframes:[p.value,h(p.value)],velocity:t6(k,T,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:T=>{let R=!1;return!j&&C===void 0&&(R=!0,S(T),M(T)),C!==void 0&&T>C?j.next(T-C):(!R&&S(T),p)}}}const wpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Qn.update(t,!0),stop:()=>gs(t),now:()=>ja.isProcessing?ja.timestamp:performance.now()}},WP=2e4;function HP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<WP;)t+=n,r=e.next(t);return t>=WP?1/0:t}const kpe={decay:VP,inertia:VP,tween:Fg,keyframes:Fg,spring:n6};function Lg({autoplay:e=!0,delay:t=0,driver:n=wpe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,x;const g=()=>{x=new Promise($=>{v=$})};g();let b;const k=kpe[a]||Fg;let S;k!==Fg&&typeof r[0]!="number"&&(S=JL([0,100],r,{clamp:!1}),r=[0,100]);const C=k({...p,keyframes:r});let j;s==="mirror"&&(j=k({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",T=null,R=null,P=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=HP(C));const{calculatedDuration:_}=C;let E=1/0,G=1/0;_!==null&&(E=_+o,G=E*(i+1)-o);let X=0;const re=$=>{if(R===null)return;m>0&&(R=Math.min(R,$)),m<0&&(R=Math.min($-G/m,R)),T!==null?X=T:X=Math.round($-R)*m;const A=X-t*(m>=0?1:-1),N=m>=0?A<0:A>G;X=Math.max(A,0),M==="finished"&&T===null&&(X=G);let B=X,K=C;if(i){const D=Math.min(X,G)/E;let J=Math.floor(D),fe=D%1;!fe&&D>=1&&(fe=1),fe===1&&J--,J=Math.min(J,i+1),J%2&&(s==="reverse"?(fe=1-fe,o&&(fe-=o/E)):s==="mirror"&&(K=j)),B=ul(0,1,fe)*E}const U=N?{done:!1,value:r[0]}:K.next(B);S&&(U.value=S(U.value));let{done:W}=U;!N&&_!==null&&(W=m>=0?X>=G:X<=0);const Q=T===null&&(M==="finished"||M==="running"&&W);return f&&f(U.value),Q&&I(),U},he=()=>{b&&b.stop(),b=void 0},Y=()=>{M="idle",he(),v(),g(),R=P=null},I=()=>{M="finished",d&&d(),he(),v()},ee=()=>{if(h)return;b||(b=n(re));const $=b.now();l&&l(),T!==null?R=$-T:(!R||M==="finished")&&(R=$),M==="finished"&&g(),P=R,T=null,M="running",b.start()};e&&ee();const w={then($,A){return x.then($,A)},get time(){return is(X)},set time($){$=ac($),X=$,T!==null||!b||m===0?T=$:R=b.now()-$/m},get duration(){const $=C.calculatedDuration===null?HP(C):C.calculatedDuration;return is($)},get speed(){return m},set speed($){$===m||!b||(m=$,w.time=is(X))},get state(){return M},play:ee,pause:()=>{M="paused",T=X},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),Y())},cancel:()=>{P!==null&&re(P),Y()},complete:()=>{M="finished"},sample:$=>(R=0,re($))};return w}function Spe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Npe=Spe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jpe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dm=10,Cpe=2e4,Mpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!DL(t.ease);function Ape(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Npe()&&jpe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Mpe(t,a)){const g=Lg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const k=[];let S=0;for(;!b.done&&S<Cpe;)b=g.sample(S),k.push(b.value),S+=Dm;m=void 0,d=k,f=S-Dm,p="linear"}const h=Lfe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},x=()=>{l=!0,Qn.update(v),o(),c()};return h.onfinish=()=>{l||(e.set(Rfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Pr},get time(){return is(h.currentTime||0)},set time(g){h.currentTime=ac(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return is(f)},play:()=>{i||(h.play(),gs(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=Lg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Dm).value,b.sample(g).value,Dm)}x()},complete:()=>{l||h.finish()},cancel:x}}function Ppe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pr,pause:Pr,stop:Pr,then:i=>(i(),Promise.resolve()),cancel:Pr,complete:Pr});return t?Lg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Epe={type:"spring",stiffness:500,damping:25,restSpeed:10},Tpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ope={type:"keyframes",duration:.8},Dpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ipe=(e,{keyframes:t})=>t.length>2?Ope:Cc.has(e)?e.startsWith("scale")?Tpe(t[1]):Epe:Dpe,uw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dl.test(t)||t==="0")&&!t.startsWith("url(")),_pe=new Set(["brightness","contrast","saturate","opacity"]);function Fpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hy)||[];if(!r)return e;const a=n.replace(r,"");let i=_pe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Lpe=/([a-z-]*)\(.*?\)/g,dw={...dl,getAnimatableNone:e=>{const t=e.match(Lpe);return t?t.map(Fpe).join(" "):e}},Rpe={...yL,color:Fa,backgroundColor:Fa,outlineColor:Fa,fill:Fa,stroke:Fa,borderColor:Fa,borderTopColor:Fa,borderRightColor:Fa,borderBottomColor:Fa,borderLeftColor:Fa,filter:dw,WebkitFilter:dw},o2=e=>Rpe[e];function r6(e,t){let n=o2(e);return n!==dw&&(n=dl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const a6=e=>/^0[^.\s]+$/.test(e);function $pe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||a6(e)}function Bpe(e,t,n,r){const a=uw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),$pe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=r6(t,s)}return i}function zpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function s2(e,t){return e[t]||e.default||e}const Upe={skipAnimations:!1},l2=(e,t,n,r={})=>a=>{const i=s2(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-ac(o);const l=Bpe(t,e,n,i),c=l[0],d=l[l.length-1],f=uw(e,c),p=uw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(zpe(i)||(m={...m,...Ipe(e,m)}),m.duration&&(m.duration=ac(m.duration)),m.repeatDelay&&(m.repeatDelay=ac(m.repeatDelay)),!f||!p||Ffe.current||i.type===!1||Upe.skipAnimations)return Ppe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Ape(t,e,m);if(h)return h}return Lg(m)};function Rg(e){return!!(ai(e)&&e.add)}const i6=e=>/^\-?\d*\.?\d+$/.test(e);function c2(e,t){e.indexOf(t)===-1&&e.push(t)}function u2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class d2{constructor(){this.subscriptions=[]}add(t){return c2(this.subscriptions,t),()=>u2(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vpe=e=>!isNaN(parseFloat(e));class Wpe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ja;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Qn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Vpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new d2);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?e6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(e,t){return new Wpe(e,t)}const o6=e=>t=>t.test(e),Hpe={test:e=>e==="auto",parse:e=>e},s6=[Mc,Rt,Io,Ls,Qde,Xde,Hpe],Td=e=>s6.find(o6(e)),qpe=[...s6,Fa,dl],Kpe=e=>qpe.find(o6(e));function Ype(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Uu(n))}function Gpe(e,t){const n=yy(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=ffe(i[o]);Ype(e,o,s)}}function Xpe(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(i6(d)||a6(d))?d=parseFloat(d):!Kpe(d)&&dl.test(c)&&(d=r6(l,c)),e.addValue(l,Uu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Qpe(e,t){return t?(t[e]||t.default||t).from:void 0}function Zpe(e,t,n){const r={};for(const a in e){const i=Qpe(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function Jpe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function eme(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function l6(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&Jpe(d,f))continue;const h={delay:n,elapsed:0,...s2(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[cL];if(g){const b=window.HandoffAppearAnimations(g,f,p,Qn);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let v=!h.isHandoff&&!eme(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(l2(f,p,m,e.shouldReduceMotion&&Cc.has(f)?{type:!1}:h));const x=p.animation;Rg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&Gpe(e,o)}),c}function fw(e,t,n={}){const r=yy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(l6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return tme(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function tme(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(nme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(fw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function nme(e,t){return e.sortNodePosition(t)}function rme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>fw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=fw(e,t,n);else{const a=typeof t=="function"?yy(e,t,n.custom):t;r=Promise.all(l6(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const ame=[...KS].reverse(),ime=KS.length;function ome(e){return t=>Promise.all(t.map(({animation:n,options:r})=>rme(e,n,r)))}function sme(e){let t=ome(e);const n=cme();let r=!0;const a=(l,c)=>{const d=yy(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let g=0;g<ime;g++){const b=ame[g],k=n[b],S=d[b]!==void 0?d[b]:f[b],C=Yf(S),j=b===c?k.isActive:null;j===!1&&(v=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),k.protectedKeys={...h},!k.isActive&&j===null||!S&&!k.prevProp||py(S)||typeof S=="boolean")continue;let T=lme(k.prevProp,S)||b===c&&k.isActive&&!M&&C||g>v&&C,R=!1;const P=Array.isArray(S)?S:[S];let _=P.reduce(a,{});j===!1&&(_={});const{prevResolvedValues:E={}}=k,G={...E,..._},X=re=>{T=!0,m.has(re)&&(R=!0,m.delete(re)),k.needsAnimating[re]=!0};for(const re in G){const he=_[re],Y=E[re];if(h.hasOwnProperty(re))continue;let I=!1;Ig(he)&&Ig(Y)?I=!TL(he,Y):I=he!==Y,I?he!==void 0?X(re):m.add(re):he!==void 0&&m.has(re)?X(re):k.protectedKeys[re]=!0}k.prevProp=S,k.prevResolvedValues=_,k.isActive&&(h={...h,..._}),r&&e.blockInitialAnimation&&(T=!1),T&&(!M||R)&&p.push(...P.map(re=>({animation:re,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const k=e.getBaseTarget(b);k!==void 0&&(g[b]=k)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function lme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TL(t,e):!1}function Tl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cme(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class ume extends xl{constructor(t){super(t),t.animationState||(t.animationState=sme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),py(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let dme=0;class fme extends xl{constructor(){super(...arguments),this.id=dme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pme={animation:{Feature:ume},exit:{Feature:fme}},qP=(e,t)=>Math.abs(e-t);function mme(e,t){const n=qP(e.x,t.x),r=qP(e.y,t.y);return Math.sqrt(n**2+r**2)}class c6{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=mme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=ja;this.history.push({...h,timestamp:v});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gv(p,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Xv(f.type==="pointercancel"?this.lastMoveEventInfo:Gv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!CL(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=gy(t),s=Gv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ja;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Xv(s,this.history)),this.removeListeners=il(as(this.contextWindow,"pointermove",this.handlePointerMove),as(this.contextWindow,"pointerup",this.handlePointerUp),as(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Gv(e,t){return t?{point:t(e.point)}:e}function KP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xv({point:e},t){return{point:e,delta:KP(e,u6(t)),offset:KP(e,hme(t)),velocity:gme(t,.1)}}function hme(e){return e[0]}function u6(e){return e[e.length-1]}function gme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=u6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>ac(t)));)n--;if(!r)return{x:0,y:0};const i=is(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ki(e){return e.max-e.min}function pw(e,t=0,n=.01){return Math.abs(e-t)<=n}function YP(e,t,n,r=.5){e.origin=r,e.originPoint=ur(t.min,t.max,e.origin),e.scale=ki(n)/ki(t),(pw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ur(n.min,n.max,e.origin)-e.originPoint,(pw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function rf(e,t,n,r){YP(e.x,t.x,n.x,r?r.originX:void 0),YP(e.y,t.y,n.y,r?r.originY:void 0)}function GP(e,t,n){e.min=n.min+t.min,e.max=e.min+ki(t)}function yme(e,t,n){GP(e.x,t.x,n.x),GP(e.y,t.y,n.y)}function XP(e,t,n){e.min=t.min-n.min,e.max=e.min+ki(t)}function af(e,t,n){XP(e.x,t.x,n.x),XP(e.y,t.y,n.y)}function vme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ur(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ur(n,e,r.max):Math.min(e,n)),e}function QP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bme(e,{top:t,left:n,bottom:r,right:a}){return{x:QP(e.x,n,a),y:QP(e.y,t,r)}}function ZP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xme(e,t){return{x:ZP(e.x,t.x),y:ZP(e.y,t.y)}}function wme(e,t){let n=.5;const r=ki(e),a=ki(t);return a>r?n=Xf(t.min,t.max-r,e.min):r>a&&(n=Xf(e.min,e.max-a,t.min)),ul(0,1,n)}function kme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const mw=.35;function Sme(e=mw){return e===!1?e=0:e===!0&&(e=mw),{x:JP(e,"left","right"),y:JP(e,"top","bottom")}}function JP(e,t,n){return{min:eE(e,t),max:eE(e,n)}}function eE(e,t){return typeof e=="number"?e:e[t]||0}const tE=()=>({translate:0,scale:1,origin:0,originPoint:0}),du=()=>({x:tE(),y:tE()}),nE=()=>({min:0,max:0}),Dr=()=>({x:nE(),y:nE()});function Ii(e){return[e("x"),e("y")]}function d6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Nme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function jme(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qv(e){return e===void 0||e===1}function hw({scale:e,scaleX:t,scaleY:n}){return!Qv(e)||!Qv(t)||!Qv(n)}function Rl(e){return hw(e)||f6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function f6(e){return rE(e.x)||rE(e.y)}function rE(e){return e&&e!=="0%"}function $g(e,t,n){const r=e-n,a=t*r;return n+a}function aE(e,t,n,r,a){return a!==void 0&&(e=$g(e,a,r)),$g(e,n,r)+t}function gw(e,t=0,n=1,r,a){e.min=aE(e.min,t,n,r,a),e.max=aE(e.max,t,n,r,a)}function p6(e,{x:t,y:n}){gw(e.x,t.translate,t.scale,t.originPoint),gw(e.y,n.translate,n.scale,n.originPoint)}function Cme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,p6(e,o)),r&&Rl(i.latestValues)&&fu(e,i.latestValues))}t.x=iE(t.x),t.y=iE(t.y)}function iE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Us(e,t){e.min=e.min+t,e.max=e.max+t}function oE(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=ur(e.min,e.max,i);gw(e,t[n],t[r],o,t.scale)}const Mme=["x","scaleX","originX"],Ame=["y","scaleY","originY"];function fu(e,t){oE(e.x,t,Mme),oE(e.y,t,Ame)}function m6(e,t){return d6(jme(e.getBoundingClientRect(),t))}function Pme(e,t,n){const r=m6(e,n),{scroll:a}=t;return a&&(Us(r.x,a.offset.x),Us(r.y,a.offset.y)),r}const h6=({current:e})=>e?e.ownerDocument.defaultView:null,Eme=new WeakMap;class Tme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gy(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=AL(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ii(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Io.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[x];k&&(g=ki(k)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&Qn.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Ome(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Ii(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new c6(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:h6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Qn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Im(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&cu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=bme(a.layoutBox,n):this.constraints=!1,this.elastic=Sme(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ii(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=kme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Pme(r,a.root,this.visualElement.getTransformPagePoint());let o=xme(a.layout.layoutBox,i);if(n){const s=n(Nme(o));this.hasMutatedConstraints=!!s,s&&(o=d6(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Ii(d=>{if(!Im(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(l2(t,r,0,n))}stopAnimation(){Ii(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ii(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ii(n=>{const{drag:r}=this.getProps();if(!Im(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-ur(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ii(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=wme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ii(o=>{if(!Im(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ur(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Eme.set(this.visualElement,this);const t=this.visualElement.current,n=as(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();cu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=es(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ii(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=mw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Im(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ome(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Dme extends xl{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new Tme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sE=e=>(t,n)=>{e&&Qn.update(()=>e(t,n))};class Ime extends xl{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new c6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:sE(t),onStart:sE(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Qn.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=as(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _me(){const e=y.useContext(HS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=y.useId();return y.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Od={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const n=lE(e,t.target.x),r=lE(e,t.target.y);return`${n}% ${r}%`}},Fme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=dl.parse(e);if(a.length>5)return r;const i=dl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=ur(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Lme extends zg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Vde(Rme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Qn.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function g6(e){const[t,n]=_me(),r=y.useContext(dL);return zg.createElement(Lme,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(fL),isPresent:t,safeToRemove:n})}const Rme={borderRadius:{...Od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Od,borderTopRightRadius:Od,borderBottomLeftRadius:Od,borderBottomRightRadius:Od,boxShadow:Fme},y6=["TopLeft","TopRight","BottomLeft","BottomRight"],$me=y6.length,cE=e=>typeof e=="string"?parseFloat(e):e,uE=e=>typeof e=="number"||Rt.test(e);function Bme(e,t,n,r,a,i){a?(e.opacity=ur(0,n.opacity!==void 0?n.opacity:1,zme(r)),e.opacityExit=ur(t.opacity!==void 0?t.opacity:1,0,Ume(r))):i&&(e.opacity=ur(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$me;o++){const s=`border${y6[o]}Radius`;let l=dE(t,s),c=dE(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||uE(l)===uE(c)?(e[s]=Math.max(ur(cE(l),cE(c),r),0),(Io.test(c)||Io.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=ur(t.rotate||0,n.rotate||0,r))}function dE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zme=v6(0,.5,BL),Ume=v6(.5,.95,Pr);function v6(e,t,n){return r=>r<e?0:r>t?1:n(Xf(e,t,r))}function fE(e,t){e.min=t.min,e.max=t.max}function Ei(e,t){fE(e.x,t.x),fE(e.y,t.y)}function pE(e,t,n,r,a){return e-=t,e=$g(e,1/n,r),a!==void 0&&(e=$g(e,1/a,r)),e}function Vme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Io.test(t)&&(t=parseFloat(t),t=ur(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=ur(i.min,i.max,r);e===i&&(s-=t),e.min=pE(e.min,t,n,s,a),e.max=pE(e.max,t,n,s,a)}function mE(e,t,[n,r,a],i,o){Vme(e,t[n],t[r],t[a],t.scale,i,o)}const Wme=["x","scaleX","originX"],Hme=["y","scaleY","originY"];function hE(e,t,n,r){mE(e.x,t,Wme,n?n.x:void 0,r?r.x:void 0),mE(e.y,t,Hme,n?n.y:void 0,r?r.y:void 0)}function gE(e){return e.translate===0&&e.scale===1}function b6(e){return gE(e.x)&&gE(e.y)}function qme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function x6(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function yE(e){return ki(e.x)/ki(e.y)}class Kme{constructor(){this.members=[]}add(t){c2(this.members,t),t.scheduleRender()}remove(t){if(u2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vE(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Yme=(e,t)=>e.depth-t.depth;class Gme{constructor(){this.children=[],this.isDirty=!1}add(t){c2(this.children,t),this.isDirty=!0}remove(t){u2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yme),this.isDirty=!1,this.children.forEach(t)}}function Xme(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(gs(r),e(i-t))};return Qn.read(r,!0),()=>gs(r)}function Qme(e){window.MotionDebug&&window.MotionDebug.record(e)}function Zme(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Jme(e,t,n){const r=ai(e)?e:Uu(e);return r.start(l2("",r,t,n)),r.animation}const bE=["","X","Y","Z"],ehe={visibility:"hidden"},xE=1e3;let the=0;const $l={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function w6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=the++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$l.totalNodes=$l.resolvedTargetDeltas=$l.recalculatedProjection=0,this.nodes.forEach(ahe),this.nodes.forEach(che),this.nodes.forEach(uhe),this.nodes.forEach(ihe),Qme($l)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gme)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new d2),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Zme(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Xme(f,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,this.nodes.forEach(kE))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||hhe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!x6(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const k={...s2(h,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||kE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dhe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wE);return}this.isUpdating||this.nodes.forEach(she),this.isUpdating=!1,this.nodes.forEach(lhe),this.nodes.forEach(nhe),this.nodes.forEach(rhe),this.clearAllSnapshots();const i=performance.now();ja.delta=ul(0,1e3/60,i-ja.timestamp),ja.timestamp=i,ja.isProcessing=!0,zv.update.process(ja),zv.preRender.process(ja),zv.render.process(ja),ja.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ohe),this.sharedNodes.forEach(fhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!b6(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Rl(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),ghe(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Dr();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Us(o.x,s.offset.x),Us(o.y,s.offset.y)),o}removeElementScroll(i){const o=Dr();Ei(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Ei(o,i);const{scroll:f}=this.root;f&&(Us(o.x,-f.offset.x),Us(o.y,-f.offset.y))}Us(o.x,c.offset.x),Us(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Dr();Ei(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Rl(c.latestValues)&&fu(s,c.latestValues)}return Rl(this.latestValues)&&fu(s,this.latestValues),s}removeTransform(i){const o=Dr();Ei(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Rl(l.latestValues))continue;hw(l.latestValues)&&l.updateSnapshot();const c=Dr(),d=l.measurePageBox();Ei(c,d),hE(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Rl(this.latestValues)&&hE(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ja.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=ja.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),af(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dr(),this.targetWithTransforms=Dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),p6(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),af(this.relativeTargetOrigin,this.target,f.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$l.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hw(this.parent.latestValues)||f6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ja.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Cme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=du(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=du(),this.projectionDeltaWithTransform=du());const h=this.projectionTransform;rf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=vE(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),$l.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Dr(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),x=!v||v.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(mhe));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const S=k/1e3;SE(d.x,i.x,S),SE(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),phe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&qme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Dr()),Ei(b,this.relativeTarget)),h&&(this.animationValues=c,Bme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{ah.hasAnimatedSinceResize=!0,this.currentAnimation=Jme(0,xE,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&k6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Dr();const d=ki(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=ki(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Ei(o,s),fu(o,c),rf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Kme),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<bE.length;c++){const d="rotate"+bE[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ehe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=rh(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=rh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Rl(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=vE(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in Og){if(f[h]===void 0)continue;const{correct:v,applyTo:x}=Og[h],g=l.transform==="none"?f[h]:v(f[h],d);if(x){const b=x.length;for(let k=0;k<b;k++)l[x[k]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?rh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(wE),this.root.sharedNodes.clear()}}}function nhe(e){e.updateLayout()}function rhe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ii(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ki(p);p.min=r[f].min,p.max=p.min+m}):k6(i,n.layoutBox,r)&&Ii(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ki(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=du();rf(s,r,n.layoutBox);const l=du();o?rf(l,e.applyTransform(a,!0),n.measuredBox):rf(l,r,n.layoutBox);const c=!b6(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Dr();af(h,n.layoutBox,p.layoutBox);const v=Dr();af(v,r,m.layoutBox),x6(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ahe(e){$l.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ihe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ohe(e){e.clearSnapshot()}function wE(e){e.clearMeasurements()}function she(e){e.isLayoutDirty=!1}function lhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function che(e){e.resolveTargetDelta()}function uhe(e){e.calcProjection()}function dhe(e){e.resetRotation()}function fhe(e){e.removeLeadSnapshot()}function SE(e,t,n){e.translate=ur(t.translate,0,n),e.scale=ur(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function NE(e,t,n,r){e.min=ur(t.min,n.min,r),e.max=ur(t.max,n.max,r)}function phe(e,t,n,r){NE(e.x,t.x,n.x,r),NE(e.y,t.y,n.y,r)}function mhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hhe={duration:.45,ease:[.4,0,.1,1]},jE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),CE=jE("applewebkit/")&&!jE("chrome/")?Math.round:Pr;function ME(e){e.min=CE(e.min),e.max=CE(e.max)}function ghe(e){ME(e.x),ME(e.y)}function k6(e,t,n){return e==="position"||e==="preserve-aspect"&&!pw(yE(t),yE(n),.2)}const yhe=w6({attachResizeListener:(e,t)=>es(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zv={current:void 0},S6=w6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zv.current){const e=new yhe({});e.mount(window),e.setOptions({layoutScroll:!0}),Zv.current=e}return Zv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vhe={pan:{Feature:Ime},drag:{Feature:Dme,ProjectionNode:S6,MeasureLayout:g6}},bhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xhe(e){const t=bhe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function yw(e,t,n=1){const[r,a]=xhe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return i6(o)?parseFloat(o):o}else return ow(a)?yw(a,t,n+1):a}function whe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!ow(i))return;const o=yw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!ow(i))continue;const o=yw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const khe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N6=e=>khe.has(e),She=e=>Object.keys(e).some(N6),AE=e=>e===Mc||e===Rt,PE=(e,t)=>parseFloat(e.split(", ")[t]),EE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return PE(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?PE(i[1],e):0}},Nhe=new Set(["x","y","z"]),jhe=Fp.filter(e=>!Nhe.has(e));function Che(e){const t=[];return jhe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Vu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:EE(4,13),y:EE(5,14)};Vu.translateX=Vu.x;Vu.translateY=Vu.y;const Mhe=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Vu[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Vu[c](l,i)}),e},Ahe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(N6);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Td(d);const p=t[l];let m;if(Ig(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=Td(d);for(let x=v;x<h&&p[x]!==null;x++)m?n2(Td(p[x])===m):m=Td(p[x])}else m=Td(p);if(f!==m)if(AE(f)&&AE(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Rt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=Che(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Mhe(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),fy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Phe(e,t,n,r){return She(t)?Ahe(e,t,n,r):{target:t,transitionEnd:r}}const Ehe=(e,t,n,r)=>{const a=whe(e,t,r);return t=a.target,r=a.transitionEnd,Phe(e,t,n,r)},vw={current:null},j6={current:!1};function The(){if(j6.current=!0,!!fy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vw.current=e.matches;e.addListener(t),t()}else vw.current=!1}function Ohe(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ai(i))e.addValue(a,i),Rg(r)&&r.add(a);else if(ai(o))e.addValue(a,Uu(i,{owner:e})),Rg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Uu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const TE=new WeakMap,C6=Object.keys(Gf),Dhe=C6.length,OE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ihe=YS.length;class _he{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qn.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=my(n),this.isVariantNode=uL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ai(p)&&(p.set(s[f],!1),Rg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,TE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),j6.current||The(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TE.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cc.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Qn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Dhe;l++){const c=C6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Gf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&cu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OE.length;r++){const a=OE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Ohe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ihe;r++){const a=YS[r],i=this.props[a];(Yf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Uu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=t2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ai(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new d2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class M6 extends _he{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=Zpe(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){Xpe(this,r,o);const s=Ehe(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Fhe(e){return window.getComputedStyle(e)}class Lhe extends M6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Cc.has(n)){const r=o2(n);return r&&r.default||0}else{const r=Fhe(t),a=(hL(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return m6(t,n)}build(t,n,r,a){XS(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return e2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){wL(t,n,r,a)}}class Rhe extends M6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cc.has(n)){const r=o2(n);return r&&r.default||0}return n=kL.has(n)?n:qS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Dr()}scrapeMotionValuesFromProps(t,n){return NL(t,n)}build(t,n,r,a){ZS(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){SL(t,n,r,a)}mount(t){this.isSVGTag=JS(t.tagName),super.mount(t)}}const $he=(e,t)=>GS(e)?new Rhe(t,{enableHardwareAcceleration:!1}):new Lhe(t,{enableHardwareAcceleration:!0}),Bhe={layout:{ProjectionNode:S6,MeasureLayout:g6}},zhe={...pme,...Dfe,...vhe,...Bhe},jo=zde((e,t)=>xfe(e,t,zhe,$he));function Uhe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:x}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:k=>{k.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ha,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const k=g.id===m;return u.jsxs("button",{"data-toc-active":k?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${k?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${k?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const Ol="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Jv="arcbridge_web_theme_override",DE="__default__",Vhe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Whe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Hhe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},IE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},qhe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},_E=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Khe=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},Yhe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Ghe(){var e;const[t,n]=y.useState(null),[r,a]=y.useState(null),[i,o]=y.useState(null),[s,l]=y.useState(null),[c,d]=y.useState(""),[f,p]=y.useState(null),[m,h]=y.useState(null),[v,x]=y.useState(!1),[g,b]=y.useState(!1),[k,S]=y.useState("classic"),[C,j]=y.useState("classic"),[M,T]=y.useState(eh.id),[R,P]=y.useState(null),[_,E]=y.useState(!1),[G,X]=y.useState(!1),[re,he]=y.useState(""),[Y,I]=y.useState(""),[ee,w]=y.useState([]),[$,A]=y.useState(!1),[N,B]=y.useState("overview"),[K,U]=y.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),W=y.useRef(null),Q=y.useRef(null),D=y.useRef(null),J=y.useRef(null),fe=y.useRef(null),F=y.useRef(new Map),te=y.useRef(null),z=y.useMemo(()=>{let H=window.location.pathname||"/";const ue=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return H.endsWith("/index.html")&&(H=H.slice(0,-11)),H.includes("/reports/")&&(H=H.replace(/\/reports\/[^/]+\/?$/,"")),ue&&(H=H.replace(/^\/web\/web(?=\/|$)/,"/web")),H.endsWith("/")||(H=`${H}/`),H},[]),L=y.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),oe=y.useMemo(()=>{const H=[z,"./","/"],ue=[];return H.forEach(Ce=>{let Ye=Ce||"/";Ye!=="./"&&!Ye.endsWith("/")&&(Ye=`${Ye}/`),ue.includes(Ye)||ue.push(Ye)}),ue},[z,L]),[ye,Je]=y.useState(oe[0]||"/"),le=H=>{var ue;return typeof H=="string"||typeof H=="number"?String(H):Array.isArray(H)?H.map(le).join(""):H&&typeof H=="object"&&"props"in H?le((ue=H.props)==null?void 0:ue.children):""},Ke=H=>{const ue=_E(H||"section")||"section",Ce=F.current,Ye=(Ce.get(ue)??0)+1;return Ce.set(ue,Ye),Ye===1?ue:`${ue}-${Ye}`},Ae=y.useMemo(()=>{const H=Bv.split(`
`),ue=new Map,Ce=[],Ye=Ft=>{const Pt=_E(Ft||"section")||"section",pt=(ue.get(Pt)??0)+1;return ue.set(Pt,pt),pt===1?Pt:`${Pt}-${pt}`};for(const Ft of H){const Pt=/^(#{1,3})\s+(.*)\s*$/.exec(Ft);if(!Pt)continue;const pt=Pt[1].length,mn=Pt[2].trim();mn&&Ce.push({level:pt,text:mn,id:Ye(mn)})}return Ce},[Bv]),ct=(H,ue)=>{const Ce=H==="./"?"./":H.endsWith("/")?H:`${H}/`,Ye=String(ue||"").replace(/^\/+/,"");return`${Ce}${Ye}`};y.useEffect(()=>{const H=Vhe(Jv);if(H)try{const ue=JSON.parse(H),Ce=typeof(ue==null?void 0:ue.themeId)=="string"?ue.themeId:null;Ce&&Ad.some(Ye=>Ye.id===Ce)&&P(Ce)}catch{}},[]),y.useEffect(()=>{const H=R||M,ue=Ad.find(Ce=>Ce.id===H)||eh;p(ue)},[R,M]),y.useEffect(()=>{if(!R){S(C);return}if(R===Jm){S("matte");return}if(R==="CRT"){S("crt");return}S("classic")},[R,C]),y.useEffect(()=>{Je(oe[0]||"/");let H=!0;return(async()=>{for(const ue of oe)try{if((await fetch(ct(ue,"ui-theme.json"),{cache:"no-store"})).ok){H&&Je(ue);return}}catch{}})(),()=>{H=!1}},[oe]);const en=(H,ue)=>{const Ce=ue.trim();if(!Ce)return H;const Ye=H.toLowerCase(),Ft=Ce.toLowerCase(),Pt=Ye.indexOf(Ft);if(Pt===-1)return H;const pt=H.slice(0,Pt),mn=H.slice(Pt,Pt+Ce.length),On=H.slice(Pt+Ce.length);return u.jsxs(u.Fragment,{children:[pt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:mn}),On]})},Pn=(H,ue)=>{const Ce=Q.current;if(!Ce)return;let Ye=Ce.querySelector(`[data-search-hit="${H}"]`);if(!Ye&&ue){const Ft=ue.trim().replace(/\s+/g," "),Pt=Array.from(Ce.querySelectorAll("h1, h2, h3, p, li, code"));Ye=Pt.find(pt=>(pt.textContent||"").trim().replace(/\s+/g," ")===Ft)||null,Ye||(Ye=Pt.find(pt=>(pt.textContent||"").toLowerCase().includes(Ft.toLowerCase()))||null)}Ye&&requestAnimationFrame(()=>{const Ft=Ce.getBoundingClientRect(),Pt=Ye.getBoundingClientRect(),pt=Math.max(0,Ce.scrollTop+(Pt.top-Ft.top)-12);Ce.scrollTop=pt,Ye.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),fe.current&&window.clearTimeout(fe.current),fe.current=window.setTimeout(()=>{Ye.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Br=H=>{const ue=Q.current,Ce=H.trim().toLowerCase();if(!ue||Ce.length<2){w([]);return}const Ye=Array.from(ue.querySelectorAll("h1, h2, h3, p, li, code"));Ye.forEach(pt=>pt.removeAttribute("data-search-hit"));const Ft=[];let Pt=0;Ye.forEach((pt,mn)=>{const On=(pt.textContent||"").trim();if(On&&On.toLowerCase().includes(Ce)){let sr="";for(let Le=mn;Le>=0;Le-=1){const nt=Ye[Le];if(nt&&["H1","H2","H3"].includes(nt.tagName)){sr=(nt.textContent||"").trim();break}}pt.setAttribute("data-search-hit",String(Pt)),Ft.push({index:mn,text:On,section:sr||"Unlabeled Section",hitId:Pt}),Pt+=1}}),w(Ft.slice(0,12))};y.useEffect(()=>{var H;if(!G)return;he(((H=Ae[0])==null?void 0:H.id)||"");const ue=Ce=>{var Ye;const Ft=Ce.target;Ft&&((Ye=D.current)!=null&&Ye.contains(Ft)||(A(!1),w([])))};return window.addEventListener("mousedown",ue),()=>{window.removeEventListener("mousedown",ue)}},[G,Ae]),y.useEffect(()=>{if(!G){he("");return}const H=Q.current;if(!H)return;let ue=0;const Ce=()=>{var Ft;const Pt=Array.from(H.querySelectorAll("[data-heading-id]"));if(Pt.length===0)return;const pt=H.getBoundingClientRect().top+18,mn=Pt.map((Jt,hr)=>({index:hr,id:Jt.dataset.headingId||Jt.id||"",top:Jt.getBoundingClientRect().top})).filter(Jt=>!!Jt.id);if(mn.length===0)return;let On=0,sr=!1;for(const Jt of mn){if(Jt.top<=pt){On=Jt.index,sr=!0;continue}sr||(On=Jt.index);break}H.scrollTop+H.clientHeight>=H.scrollHeight-2&&(On=Math.max(0,mn.length-1));const Le=Ae[On],nt=((Ft=mn[On])==null?void 0:Ft.id)||"",Wt=(Le==null?void 0:Le.id)||nt;Wt&&he(Wt)};Ce();const Ye=()=>{ue&&cancelAnimationFrame(ue),ue=requestAnimationFrame(Ce)};return H.addEventListener("scroll",Ye,{passive:!0}),window.addEventListener("resize",Ye),()=>{ue&&cancelAnimationFrame(ue),H.removeEventListener("scroll",Ye),window.removeEventListener("resize",Ye)}},[G,Ae]);const ce=y.useMemo(()=>[{id:"overview",label:"Overview",icon:mz,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Jl},{id:"fight-breakdown",label:"Fight Breakdown",icon:Gd},{id:"top-players",label:"Top Players",icon:Jl},{id:"top-skills-outgoing",label:"Top Skills",icon:p1},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy Size",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:g1}]},{id:"roster",label:"Roster Intel",icon:Sf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Gd}]},{id:"offense",label:"Offensive Stats",icon:Gd,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Th},{id:"player-breakdown",label:"Player Breakdown",icon:h1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:r0}]},{id:"defense",label:"Defensive Stats",icon:Eu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Eu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Nf},{id:"defense-mitigation",label:"Damage Mitigation",icon:x1},{id:"boon-output",label:"Boon Output",icon:b1},{id:"support-detailed",label:"Support Detailed",icon:y1},{id:"healing-stats",label:"Healing Stats",icon:rO}]},{id:"other",label:"Other Metrics",icon:a0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Eh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:w1},{id:"skill-usage",label:"Skill Usage",icon:m1},{id:"apm-stats",label:"APM Breakdown",icon:v1}]}],[]),Te=y.useMemo(()=>{const H=new Map;return ce.forEach(ue=>{H.set(ue.id.toLowerCase(),ue.id),(ue.sectionIds||[]).forEach(Ce=>H.set(String(Ce).toLowerCase(),ue.id)),(ue.items||[]).forEach(Ce=>H.set(String(Ce.id).toLowerCase(),ue.id))}),H.set("report-top","overview"),H.set("overview","overview"),H.set("kdr","overview"),H},[ce]),ft=y.useMemo(()=>ce.find(H=>H.id===N)||ce[0],[ce,N]),tn=y.useMemo(()=>{const H=((ft==null?void 0:ft.sectionIds)||((ft==null?void 0:ft.items)||[]).map(ue=>ue.id)).map(ue=>ue==="kdr"?"overview":ue);return new Set(H)},[ft]),fn=H=>{const ue=H==="kdr"?"overview":H,Ce=ue==="overview"?"report-top":ue,Ye=document.getElementById(Ce);if(!Ye||Ye.getAttribute("data-section-visible")==="false"||!Ye.offsetParent)return!1;const Ft=Ye.getBoundingClientRect();if(Ft.height<=0)return!1;let Pt=0;if(Ce==="stats-view-top"){const mn=document.getElementById("report-top");mn&&(Pt=mn.getBoundingClientRect().height+12)}const pt=Ft.top+window.scrollY-12-Pt;return window.scrollTo({top:Math.max(0,pt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ce}`),!0},Sr=(H,ue=0)=>{fn(H)||ue>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Sr(H,ue+1))},40)};y.useEffect(()=>{if(!t)return;const H=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ue=>{ue.scrollHeight})});return()=>cancelAnimationFrame(H)},[t]),y.useEffect(()=>{const H=te.current;if(!H)return;let ue=0;const Ce=()=>{if(fn(H)){te.current=null;return}if(ue+=1,ue>=20){te.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ce),40)};requestAnimationFrame(Ce)},[N]),y.useEffect(()=>{const H=()=>{const ue=(window.location.hash||"").replace(/^#/,"").trim();if(!ue)return;let Ce=ue;try{Ce=decodeURIComponent(ue)}catch{Ce=ue}const Ye=Ce.toLowerCase(),Ft=Te.get(Ye);Ft&&(B(Ft),U(()=>{const Pt={};return ce.forEach(pt=>{Pt[pt.id]=pt.id===Ft}),Pt}),te.current=Ye==="report-top"?"kdr":Ye)};return H(),window.addEventListener("hashchange",H),()=>{window.removeEventListener("hashchange",H)}},[Te,ce]);const or=k==="matte",Hn=f??eh,zr=Hn.rgb,Zr=or?"#d8e1eb":"var(--accent)",gn={"--accent":`rgb(${zr})`,"--accent-rgb":zr,"--accent-soft":`rgba(${zr}, 0.32)`,"--accent-strong":`rgba(${zr}, 0.95)`,"--accent-border":`rgba(${zr}, 0.4)`,"--accent-glow":`rgba(${zr}, 0.18)`,"--accent-glow-soft":`rgba(${zr}, 0.08)`},sn=k==="modern"||k==="matte",va=Hn.pattern?or?void 0:sn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Hn.pattern}`:Hn.pattern:void 0,nn=or?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:sn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};y.useEffect(()=>{var H;let ue=!0;const Ce=new URLSearchParams(window.location.search).get("report")||((H=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:H[1])||null,Ye=Ce?`${z}reports/${Ce}/report.json`:`${z}report.json`;Ce&&l(Ye);const Ft=pt=>{var mn,On,sr;const Le=new Set((((mn=pt==null?void 0:pt.meta)==null?void 0:mn.commanders)||[]).map(Wt=>String(Wt)));if(Le.size===0)return pt;const nt=pt.stats;return(On=nt==null?void 0:nt.leaderboards)!=null&&On.closestToTag&&(nt.leaderboards.closestToTag=nt.leaderboards.closestToTag.map(Wt=>Le.has(String(Wt==null?void 0:Wt.account))?{...Wt,value:0}:Wt)),(sr=nt==null?void 0:nt.closestToTag)!=null&&sr.player&&Le.has(String(nt.closestToTag.player))&&(nt.closestToTag={...nt.closestToTag,value:0}),pt},Pt=pt=>{var mn,On,sr,Le,nt;const Wt=pt==null?void 0:pt.stats;if(!Wt||typeof Wt!="object")return pt;const Jt=Array.isArray((mn=Wt==null?void 0:Wt.leaderboards)==null?void 0:mn.downContrib)?Wt.leaderboards.downContrib:[];if(!Jt.length)return pt;const hr=Jt.map(Nr=>({...Nr,value:Number((Nr==null?void 0:Nr.value)??0)})).filter(Nr=>Number.isFinite(Nr.value)).sort((Nr,Vr)=>Vr.value-Nr.value||String((Nr==null?void 0:Nr.account)||"").localeCompare(String((Vr==null?void 0:Vr.account)||"")))[0];return hr&&(Wt.maxDownContrib={...Wt.maxDownContrib||{},value:Number(hr.value||0),player:String(hr.account||((On=Wt.maxDownContrib)==null?void 0:On.player)||"-"),count:Number(hr.count||((sr=Wt.maxDownContrib)==null?void 0:sr.count)||0),profession:String(hr.profession||((Le=Wt.maxDownContrib)==null?void 0:Le.profession)||"Unknown"),professionList:Array.isArray(hr.professionList)?hr.professionList:((nt=Wt.maxDownContrib)==null?void 0:nt.professionList)||[]}),pt};return fetch(Ye,{cache:"no-store"}).then(pt=>pt.ok?pt.json():Promise.reject()).then(pt=>{var mn,On,sr;if(!ue)return;const Le=Pt(Ft(pt));n(Le);const nt=(mn=Le==null?void 0:Le.stats)==null?void 0:mn.uiTheme;nt==="modern"||nt==="classic"||nt==="crt"||nt==="matte"?j(nt):((On=Le==null?void 0:Le.stats)==null?void 0:On.webThemeId)===Jm&&j("matte"),typeof((sr=Le==null?void 0:Le.stats)==null?void 0:sr.webThemeId)=="string"&&Le.stats.webThemeId&&T(Le.stats.webThemeId)}).catch(()=>{if(Ce){if(!ue)return;o("Report not found yet. It may still be deploying.")}fetch(`${z}reports/index.json`,{cache:"no-store"}).then(pt=>pt.ok?pt.json():Promise.reject()).then(pt=>{ue&&a(Array.isArray(pt)?pt:[])}).catch(()=>{ue&&o("No report data found.")})}),()=>{ue=!1}},[z]),y.useEffect(()=>{if(t){const H=t.meta.dateLabel||IE(t.meta.dateStart,t.meta.dateEnd);document.title=H?`ArcBridge  ${t.meta.title}  ${H}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),y.useEffect(()=>{var H;const ue=(H=t==null?void 0:t.stats)==null?void 0:H.webThemeId;typeof ue=="string"&&ue&&T(ue)},[t]),y.useEffect(()=>{const H=document.body;H.classList.add("web-report"),H.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),or?H.classList.add("theme-matte"):k==="modern"?H.classList.add("theme-modern"):k==="crt"?H.classList.add("theme-crt"):H.classList.add("theme-classic")},[k,or]),y.useEffect(()=>{var H;if(L&&(H=t==null?void 0:t.stats)!=null&&H.webThemeId)return;let ue=!0;return fetch(ct(ye,"theme.json"),{cache:"no-store"}).then(Ce=>Ce.ok?Ce.json():Promise.reject()).then(Ce=>{ue&&typeof(Ce==null?void 0:Ce.id)=="string"&&Ce.id&&T(Ce.id)}).catch(()=>{}),()=>{ue=!1}},[ye,L,t]),y.useEffect(()=>{var H,ue;const Ce=(H=t==null?void 0:t.stats)==null?void 0:H.webThemeId,Ye=(ue=t==null?void 0:t.stats)==null?void 0:ue.uiTheme;if((Ye==="modern"||Ye==="classic"||Ye==="crt"||Ye==="matte")&&!(Ce===Jm&&Ye!=="matte"||Ce==="CRT"&&Ye!=="crt"))return;let Ft=!0;return fetch(ct(ye,"ui-theme.json"),{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{if(!Ft)return;const pt=Pt==null?void 0:Pt.theme;(pt==="modern"||pt==="classic"||pt==="crt"||pt==="matte")&&j(pt)}).catch(()=>{}),()=>{Ft=!1}},[ye,t]),y.useEffect(()=>{let H=!0;return fetch(ct(ye,"logo.json"),{cache:"no-store"}).then(ue=>ue.ok?ue.json():Promise.reject()).then(ue=>{if(!H)return;const Ce="svg/ArcBridge.svg",Ye=ue!=null&&ue.path?String(ue.path):Ce,Ft=ue!=null&&ue.updatedAt?String(ue.updatedAt):"",Pt=ct(ye,Ye),pt=Ft?`${Pt}?v=${encodeURIComponent(Ft)}`:Pt;h(pt),x(!(ue!=null&&ue.path)||Ye===Ce)}).catch(()=>{H&&(h(null),x(!1))}),()=>{H=!1}},[ye]);const Er=y.useMemo(()=>r?[...r].sort((H,ue)=>{const Ce=new Date(H.dateEnd||H.dateStart).getTime();return new Date(ue.dateEnd||ue.dateStart).getTime()-Ce}):[],[r]),Ur=y.useMemo(()=>{if(!Er.length)return[];const H=c.trim().toLowerCase();return H?Er.filter(ue=>{var Ce;const Ye=((Ce=ue.commanders)==null?void 0:Ce.join(" "))||"";return`${ue.title} ${Ye} ${ue.dateLabel}`.toLowerCase().includes(H)}):Er},[Er,c]),id=H=>{if(!H){Hhe(Jv);return}Whe(Jv,JSON.stringify({themeId:H}))},Ac=H=>{const ue=H===DE?null:H;ue&&!Ad.some(Ce=>Ce.id===ue)||(P(ue),id(ue),E(!1))};y.useEffect(()=>{const H=Ce=>{J.current&&(J.current.contains(Ce.target)||E(!1))},ue=Ce=>{Ce.key==="Escape"&&E(!1)};return window.addEventListener("mousedown",H),window.addEventListener("keydown",ue),()=>{window.removeEventListener("mousedown",H),window.removeEventListener("keydown",ue)}},[]);const wl=y.useMemo(()=>{if(!R)return"Default";const H=Ad.find(ue=>ue.id===R);return(H==null?void 0:H.label)||"Default"},[R]),Ms=u.jsxs("div",{className:"relative flex items-center gap-2",ref:J,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>E(H=>!H),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:wl}),u.jsx("span",{className:`transition-transform ${_?"rotate-180":""}`,children:""})]}),_&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ac(DE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Ad.map(H=>u.jsx("button",{type:"button",onClick:()=>Ac(H.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${R===H.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:H.label},H.id))]})]}),kl=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Ms}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:H=>{H.preventDefault(),X(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Bo=u.jsxs(Uhe,{isOpen:G,onClose:()=>X(!1),searchValue:Y,searchFocused:$,searchResults:ee,onSearchChange:H=>{I(H),requestAnimationFrame(()=>Br(H))},onSearchFocus:()=>{A(!0),requestAnimationFrame(()=>Br(Y))},onSearchBlur:H=>{var ue;H&&(ue=D.current)!=null&&ue.contains(H)||A(!1)},onSearchEnter:()=>{ee.length>0&&Pn(ee[0].hitId,ee[0].text)},onSearchResultMouseDown:H=>{A(!0),Pn(H.hitId,H.text)},renderHighlightedMatch:en,searchRef:D,tocItems:Ae,activeTocId:re,onTocClick:H=>{const ue=Q.current;if(!ue)return;let Ce=ue.querySelector(`[data-heading-id="${H.id}"]`);if(!Ce){const Ye=H.text.trim().replace(/\s+/g," ");Ce=Array.from(ue.querySelectorAll("h1, h2, h3")).find(Ft=>(Ft.textContent||"").trim().replace(/\s+/g," ")===Ye)||null}Ce&&(he(H.id),requestAnimationFrame(()=>{const Ye=ue.getBoundingClientRect(),Ft=Ce.getBoundingClientRect(),Pt=ue.scrollTop+(Ft.top-Ye.top)-12;ue.scrollTop=Math.max(0,Pt)}))},contentRef:Q,children:[(F.current=new Map,null),u.jsx(yce,{remarkPlugins:[Ede],components:{h1:({children:H})=>{const ue=le(H),Ce=Ke(ue);return u.jsx("h1",{id:Ce,"data-heading-id":Ce,className:"text-2xl font-bold text-white scroll-mt-6",children:H})},h2:({children:H})=>{const ue=le(H),Ce=Ke(ue);return u.jsx("h2",{id:Ce,"data-heading-id":Ce,className:"text-xl font-semibold text-white scroll-mt-6",children:H})},h3:({children:H})=>{const ue=le(H),Ce=Ke(ue);return u.jsx("h3",{id:Ce,"data-heading-id":Ce,className:"text-lg font-semibold text-white scroll-mt-6",children:H})},p:({children:H})=>u.jsx("p",{className:"leading-6 text-gray-200",children:H}),ul:({children:H})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:H}),ol:({children:H})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:H}),li:({children:H})=>u.jsx("li",{className:"leading-6",children:H}),blockquote:({children:H})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:H}),a:({href:H,children:ue})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:H,target:"_blank",rel:"noreferrer",children:ue}),table:({children:H})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:H})}),th:({children:H})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:H}),td:({children:H})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:H}),pre:({children:H})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:H}),code:H=>{const{inline:ue,children:Ce}=H;return ue===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ce}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ce})}},children:Bv})]});if(t){const H=ct(ye,"svg/ArcBridge.svg"),ue=Le=>{U(()=>{const nt={};return ce.forEach(Wt=>{nt[Wt.id]=Wt.id===Le}),nt})},Ce=Le=>{te.current=null,B(Le),window.scrollTo({top:0,behavior:"smooth"})},Ye=Le=>{if(!K[Le]){ue(Le),Ce(Le);return}if(Le!==N){Ce(Le);return}U(nt=>({...nt,[Le]:!1}))},Ft=(Le,nt)=>{K[Le]||ue(Le);const Wt=Le===N;Wt||(te.current=nt,B(Le),window.scrollTo({top:0,behavior:"auto"})),Wt&&requestAnimationFrame(()=>Sr(nt))},Pt=Le=>{const nt=Le.currentTarget;if(!(nt.scrollHeight>nt.clientHeight)){window.scrollBy({top:Le.deltaY,behavior:"auto"}),Le.preventDefault();return}const Wt=nt.scrollTop<=0,Jt=nt.scrollTop+nt.clientHeight>=nt.scrollHeight-1;(Wt&&Le.deltaY<0||Jt&&Le.deltaY>0)&&(window.scrollBy({top:Le.deltaY,behavior:"auto"}),Le.preventDefault())},pt=Le=>{const nt=W.current;if(!nt)return;const Wt=Le.target;if(!Wt||!nt.contains(Wt))return;let Jt=Wt;for(;Jt&&Jt!==nt;){const hr=window.getComputedStyle(Jt).overflowY;if((hr==="auto"||hr==="scroll")&&Jt.scrollHeight>Jt.clientHeight+1){const Nr=Jt.scrollTop<=0,Vr=Jt.scrollTop+Jt.clientHeight>=Jt.scrollHeight-1;(Le.deltaY<0&&Nr||Le.deltaY>0&&Vr)&&(window.scrollBy({top:Le.deltaY,behavior:"auto"}),Le.preventDefault());return}Jt=Jt.parentElement}},mn=Le=>{const nt=Math.max(0,6-Le);return{accordionDuration:.5+nt*.07,itemDuration:.34+nt*.035,stagger:.05+nt*.01,delayChildren:.06+nt*.015}},On=Le=>{const nt=mn(Le);return{open:{transition:{staggerChildren:nt.stagger,delayChildren:nt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,nt.stagger*.7),staggerDirection:-1}}}},sr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:or?"var(--bg-base)":sn?"#0f141c":"#0f172a",backgroundImage:or?"none":va,...gn},children:[!or&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Pt,children:ce.map(Le=>{const nt=Le.icon,Wt=Le.id===N,Jt=!!K[Le.id],hr=mn(Le.items.length),Nr=On(Le.items.length);return u.jsxs(jo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Ye(Le.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Wt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(nt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Le.label}),u.jsx(jo.span,{className:"ml-auto inline-flex",animate:{rotate:Jt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Wl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(jo.div,{initial:!1,animate:Jt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:hr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(jo.div,{variants:Nr,initial:!1,animate:Jt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Le.items.map(Vr=>{const Sl=Vr.icon;return u.jsxs(jo.button,{variants:sr,transition:{duration:hr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ft(Le.id,Vr.id),b(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Sl,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Le.id}-submenu-mobile`)]},Le.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Zr,maskImage:`url(${H})`,WebkitMaskImage:`url(${H})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Pt,children:ce.map(Le=>{const nt=Le.icon,Wt=Le.id===N,Jt=!!K[Le.id],hr=mn(Le.items.length),Nr=On(Le.items.length);return u.jsxs(jo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Ye(Le.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Wt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(nt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Le.label}),u.jsx(jo.span,{className:"ml-auto inline-flex",animate:{rotate:Jt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Wl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(jo.div,{initial:!1,animate:Jt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:hr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(jo.div,{variants:Nr,initial:!1,animate:Jt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Le.items.map(Vr=>{const Sl=Vr.icon;return u.jsxs(jo.button,{variants:sr,transition:{duration:hr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ft(Le.id,Vr.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Sl,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Le.id}-submenu-desktop`)]},Le.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ol} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:nn,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(v?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Zr,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||IE(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(BN,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(oz,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(aO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ft==null?void 0:ft.items)||[]).map(Le=>{const nt=Le.icon;return u.jsxs("button",{onClick:()=>Ft((ft==null?void 0:ft.id)||"overview",Le.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(nt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Le.label]},`chip-${Le.id}`)})})]}),u.jsx("div",{ref:W,onWheelCapture:pt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Iae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:k,sectionVisibility:Le=>tn.has(Le),dashboardTitle:`Statistics Dashboard - ${(ft==null?void 0:ft.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:kl})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(tO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(BN,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(iz,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Bo]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:or?"var(--bg-base)":sn?"#0f141c":"#0f172a",backgroundImage:or?"none":va,...gn},children:[!or&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ol} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:nn,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(v?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Zr,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Ur.length," Reports"]})})]}),u.jsxs("div",{className:`${Ol} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:nn,children:[u.jsx("input",{type:"search",value:c,onChange:H=>d(H.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ur.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Er.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:nn,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${Ol} p-6 text-gray-300`,style:nn,children:"Loading reports..."}),Ur.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Ur.map(H=>{var ue,Ce,Ye,Ft;return u.jsx("a",{href:H.url,className:`${Ol} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:nn,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:H.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:qhe(H.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:H.commanders.length?H.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ue=H.summary)!=null&&ue.mapSlices&&H.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Khe,{slices:H.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Yhe,{value:(Ce=H.summary)==null?void 0:Ce.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Ye=H.summary)==null?void 0:Ye.avgSquadSize)??"--"," / ",((Ft=H.summary)==null?void 0:Ft.avgEnemySize)??"--"]})]}),u.jsx(uz,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},H.id)})}),!i&&r&&Er.length===0&&u.jsx("div",{className:`${Ol} p-6 text-gray-300`,style:nn,children:"No reports uploaded yet."}),!i&&r&&Er.length>0&&Ur.length===0&&u.jsx("div",{className:`${Ol} p-6 text-gray-300`,style:nn,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:kl})]}),Bo]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");eb.createRoot(document.getElementById("root")).render(u.jsx(zg.StrictMode,{children:u.jsx(Ghe,{})}));
